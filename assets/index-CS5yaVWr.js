(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var Ka={exports:{}},hs={},Ga={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd;function Wp(){if(Sd)return ge;Sd=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.iterator;function k(b){return b===null||typeof b!="object"?null:(b=E&&b[E]||b["@@iterator"],typeof b=="function"?b:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,O={};function P(b,R,fe){this.props=b,this.context=R,this.refs=O,this.updater=fe||N}P.prototype.isReactComponent={},P.prototype.setState=function(b,R){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,R,"setState")},P.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function M(){}M.prototype=P.prototype;function D(b,R,fe){this.props=b,this.context=R,this.refs=O,this.updater=fe||N}var A=D.prototype=new M;A.constructor=D,T(A,P.prototype),A.isPureReactComponent=!0;var V=Array.isArray,ce=Object.prototype.hasOwnProperty,J={current:null},he={key:!0,ref:!0,__self:!0,__source:!0};function B(b,R,fe){var me,ye={},we=null,be=null;if(R!=null)for(me in R.ref!==void 0&&(be=R.ref),R.key!==void 0&&(we=""+R.key),R)ce.call(R,me)&&!he.hasOwnProperty(me)&&(ye[me]=R[me]);var ke=arguments.length-2;if(ke===1)ye.children=fe;else if(1<ke){for(var Oe=Array(ke),ht=0;ht<ke;ht++)Oe[ht]=arguments[ht+2];ye.children=Oe}if(b&&b.defaultProps)for(me in ke=b.defaultProps,ke)ye[me]===void 0&&(ye[me]=ke[me]);return{$$typeof:s,type:b,key:we,ref:be,props:ye,_owner:J.current}}function W(b,R){return{$$typeof:s,type:b.type,key:R,ref:b.ref,props:b.props,_owner:b._owner}}function te(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function ue(b){var R={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(fe){return R[fe]})}var H=/\/+/g;function se(b,R){return typeof b=="object"&&b!==null&&b.key!=null?ue(""+b.key):R.toString(36)}function ve(b,R,fe,me,ye){var we=typeof b;(we==="undefined"||we==="boolean")&&(b=null);var be=!1;if(b===null)be=!0;else switch(we){case"string":case"number":be=!0;break;case"object":switch(b.$$typeof){case s:case r:be=!0}}if(be)return be=b,ye=ye(be),b=me===""?"."+se(be,0):me,V(ye)?(fe="",b!=null&&(fe=b.replace(H,"$&/")+"/"),ve(ye,R,fe,"",function(ht){return ht})):ye!=null&&(te(ye)&&(ye=W(ye,fe+(!ye.key||be&&be.key===ye.key?"":(""+ye.key).replace(H,"$&/")+"/")+b)),R.push(ye)),1;if(be=0,me=me===""?".":me+":",V(b))for(var ke=0;ke<b.length;ke++){we=b[ke];var Oe=me+se(we,ke);be+=ve(we,R,fe,Oe,ye)}else if(Oe=k(b),typeof Oe=="function")for(b=Oe.call(b),ke=0;!(we=b.next()).done;)we=we.value,Oe=me+se(we,ke++),be+=ve(we,R,fe,Oe,ye);else if(we==="object")throw R=String(b),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return be}function pe(b,R,fe){if(b==null)return b;var me=[],ye=0;return ve(b,me,"","",function(we){return R.call(fe,we,ye++)}),me}function ne(b){if(b._status===-1){var R=b._result;R=R(),R.then(function(fe){(b._status===0||b._status===-1)&&(b._status=1,b._result=fe)},function(fe){(b._status===0||b._status===-1)&&(b._status=2,b._result=fe)}),b._status===-1&&(b._status=0,b._result=R)}if(b._status===1)return b._result.default;throw b._result}var X={current:null},U={transition:null},Z={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:U,ReactCurrentOwner:J};function q(){throw Error("act(...) is not supported in production builds of React.")}return ge.Children={map:pe,forEach:function(b,R,fe){pe(b,function(){R.apply(this,arguments)},fe)},count:function(b){var R=0;return pe(b,function(){R++}),R},toArray:function(b){return pe(b,function(R){return R})||[]},only:function(b){if(!te(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},ge.Component=P,ge.Fragment=n,ge.Profiler=l,ge.PureComponent=D,ge.StrictMode=o,ge.Suspense=m,ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,ge.act=q,ge.cloneElement=function(b,R,fe){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var me=T({},b.props),ye=b.key,we=b.ref,be=b._owner;if(R!=null){if(R.ref!==void 0&&(we=R.ref,be=J.current),R.key!==void 0&&(ye=""+R.key),b.type&&b.type.defaultProps)var ke=b.type.defaultProps;for(Oe in R)ce.call(R,Oe)&&!he.hasOwnProperty(Oe)&&(me[Oe]=R[Oe]===void 0&&ke!==void 0?ke[Oe]:R[Oe])}var Oe=arguments.length-2;if(Oe===1)me.children=fe;else if(1<Oe){ke=Array(Oe);for(var ht=0;ht<Oe;ht++)ke[ht]=arguments[ht+2];me.children=ke}return{$$typeof:s,type:b.type,key:ye,ref:we,props:me,_owner:be}},ge.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:c,_context:b},b.Consumer=b},ge.createElement=B,ge.createFactory=function(b){var R=B.bind(null,b);return R.type=b,R},ge.createRef=function(){return{current:null}},ge.forwardRef=function(b){return{$$typeof:f,render:b}},ge.isValidElement=te,ge.lazy=function(b){return{$$typeof:w,_payload:{_status:-1,_result:b},_init:ne}},ge.memo=function(b,R){return{$$typeof:v,type:b,compare:R===void 0?null:R}},ge.startTransition=function(b){var R=U.transition;U.transition={};try{b()}finally{U.transition=R}},ge.unstable_act=q,ge.useCallback=function(b,R){return X.current.useCallback(b,R)},ge.useContext=function(b){return X.current.useContext(b)},ge.useDebugValue=function(){},ge.useDeferredValue=function(b){return X.current.useDeferredValue(b)},ge.useEffect=function(b,R){return X.current.useEffect(b,R)},ge.useId=function(){return X.current.useId()},ge.useImperativeHandle=function(b,R,fe){return X.current.useImperativeHandle(b,R,fe)},ge.useInsertionEffect=function(b,R){return X.current.useInsertionEffect(b,R)},ge.useLayoutEffect=function(b,R){return X.current.useLayoutEffect(b,R)},ge.useMemo=function(b,R){return X.current.useMemo(b,R)},ge.useReducer=function(b,R,fe){return X.current.useReducer(b,R,fe)},ge.useRef=function(b){return X.current.useRef(b)},ge.useState=function(b){return X.current.useState(b)},ge.useSyncExternalStore=function(b,R,fe){return X.current.useSyncExternalStore(b,R,fe)},ge.useTransition=function(){return X.current.useTransition()},ge.version="18.3.1",ge}var Ed;function xl(){return Ed||(Ed=1,Ga.exports=Wp()),Ga.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td;function Hp(){if(Td)return hs;Td=1;var s=xl(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(f,m,v){var w,E={},k=null,N=null;v!==void 0&&(k=""+v),m.key!==void 0&&(k=""+m.key),m.ref!==void 0&&(N=m.ref);for(w in m)o.call(m,w)&&!c.hasOwnProperty(w)&&(E[w]=m[w]);if(f&&f.defaultProps)for(w in m=f.defaultProps,m)E[w]===void 0&&(E[w]=m[w]);return{$$typeof:r,type:f,key:k,ref:N,props:E,_owner:l.current}}return hs.Fragment=n,hs.jsx=h,hs.jsxs=h,hs}var Cd;function Vp(){return Cd||(Cd=1,Ka.exports=Hp()),Ka.exports}var g=Vp(),F=xl(),Di={},Ya={exports:{}},ct={},Ja={exports:{}},Qa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd;function qp(){return jd||(jd=1,(function(s){function r(U,Z){var q=U.length;U.push(Z);e:for(;0<q;){var b=q-1>>>1,R=U[b];if(0<l(R,Z))U[b]=Z,U[q]=R,q=b;else break e}}function n(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var Z=U[0],q=U.pop();if(q!==Z){U[0]=q;e:for(var b=0,R=U.length,fe=R>>>1;b<fe;){var me=2*(b+1)-1,ye=U[me],we=me+1,be=U[we];if(0>l(ye,q))we<R&&0>l(be,ye)?(U[b]=be,U[we]=q,b=we):(U[b]=ye,U[me]=q,b=me);else if(we<R&&0>l(be,q))U[b]=be,U[we]=q,b=we;else break e}}return Z}function l(U,Z){var q=U.sortIndex-Z.sortIndex;return q!==0?q:U.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,f=h.now();s.unstable_now=function(){return h.now()-f}}var m=[],v=[],w=1,E=null,k=3,N=!1,T=!1,O=!1,P=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(U){for(var Z=n(v);Z!==null;){if(Z.callback===null)o(v);else if(Z.startTime<=U)o(v),Z.sortIndex=Z.expirationTime,r(m,Z);else break;Z=n(v)}}function V(U){if(O=!1,A(U),!T)if(n(m)!==null)T=!0,ne(ce);else{var Z=n(v);Z!==null&&X(V,Z.startTime-U)}}function ce(U,Z){T=!1,O&&(O=!1,M(B),B=-1),N=!0;var q=k;try{for(A(Z),E=n(m);E!==null&&(!(E.expirationTime>Z)||U&&!ue());){var b=E.callback;if(typeof b=="function"){E.callback=null,k=E.priorityLevel;var R=b(E.expirationTime<=Z);Z=s.unstable_now(),typeof R=="function"?E.callback=R:E===n(m)&&o(m),A(Z)}else o(m);E=n(m)}if(E!==null)var fe=!0;else{var me=n(v);me!==null&&X(V,me.startTime-Z),fe=!1}return fe}finally{E=null,k=q,N=!1}}var J=!1,he=null,B=-1,W=5,te=-1;function ue(){return!(s.unstable_now()-te<W)}function H(){if(he!==null){var U=s.unstable_now();te=U;var Z=!0;try{Z=he(!0,U)}finally{Z?se():(J=!1,he=null)}}else J=!1}var se;if(typeof D=="function")se=function(){D(H)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,pe=ve.port2;ve.port1.onmessage=H,se=function(){pe.postMessage(null)}}else se=function(){P(H,0)};function ne(U){he=U,J||(J=!0,se())}function X(U,Z){B=P(function(){U(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_continueExecution=function(){T||N||(T=!0,ne(ce))},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_getFirstCallbackNode=function(){return n(m)},s.unstable_next=function(U){switch(k){case 1:case 2:case 3:var Z=3;break;default:Z=k}var q=k;k=Z;try{return U()}finally{k=q}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var q=k;k=U;try{return Z()}finally{k=q}},s.unstable_scheduleCallback=function(U,Z,q){var b=s.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?b+q:b):q=b,U){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=q+R,U={id:w++,callback:Z,priorityLevel:U,startTime:q,expirationTime:R,sortIndex:-1},q>b?(U.sortIndex=q,r(v,U),n(m)===null&&U===n(v)&&(O?(M(B),B=-1):O=!0,X(V,q-b))):(U.sortIndex=R,r(m,U),T||N||(T=!0,ne(ce))),U},s.unstable_shouldYield=ue,s.unstable_wrapCallback=function(U){var Z=k;return function(){var q=k;k=Z;try{return U.apply(this,arguments)}finally{k=q}}}})(Qa)),Qa}var Nd;function Kp(){return Nd||(Nd=1,Ja.exports=qp()),Ja.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od;function Gp(){if(Od)return ct;Od=1;var s=xl(),r=Kp();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},E={};function k(e){return m.call(E,e)?!0:m.call(w,e)?!1:v.test(e)?E[e]=!0:(w[e]=!0,!1)}function N(e,t,i,a){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T(e,t,i,a){if(t===null||typeof t>"u"||N(e,t,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function O(e,t,i,a,u,d,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=u,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=p}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){P[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];P[t]=new O(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){P[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){P[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){P[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){P[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){P[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){P[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){P[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function D(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(M,D);P[t]=new O(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(M,D);P[t]=new O(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(M,D);P[t]=new O(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){P[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),P.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){P[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function A(e,t,i,a){var u=P.hasOwnProperty(t)?P[t]:null;(u!==null?u.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(T(t,i,u,a)&&(i=null),a||u===null?k(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):u.mustUseProperty?e[u.propertyName]=i===null?u.type===3?!1:"":i:(t=u.attributeName,a=u.attributeNamespace,i===null?e.removeAttribute(t):(u=u.type,i=u===3||u===4&&i===!0?"":""+i,a?e.setAttributeNS(a,t,i):e.setAttribute(t,i))))}var V=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ce=Symbol.for("react.element"),J=Symbol.for("react.portal"),he=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),ue=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),U=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,b;function R(e){if(b===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);b=t&&t[1]||""}return`
`+b+e}var fe=!1;function me(e,t){if(!e||fe)return"";fe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(j){var a=j}Reflect.construct(e,[],t)}else{try{t.call()}catch(j){a=j}e.call(t.prototype)}else{try{throw Error()}catch(j){a=j}e()}}catch(j){if(j&&a&&typeof j.stack=="string"){for(var u=j.stack.split(`
`),d=a.stack.split(`
`),p=u.length-1,y=d.length-1;1<=p&&0<=y&&u[p]!==d[y];)y--;for(;1<=p&&0<=y;p--,y--)if(u[p]!==d[y]){if(p!==1||y!==1)do if(p--,y--,0>y||u[p]!==d[y]){var _=`
`+u[p].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=p&&0<=y);break}}}finally{fe=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?R(e):""}function ye(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=me(e.type,!1),e;case 11:return e=me(e.type.render,!1),e;case 1:return e=me(e.type,!0),e;default:return""}}function we(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case he:return"Fragment";case J:return"Portal";case W:return"Profiler";case B:return"StrictMode";case se:return"Suspense";case ve:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ue:return(e.displayName||"Context")+".Consumer";case te:return(e._context.displayName||"Context")+".Provider";case H:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pe:return t=e.displayName||null,t!==null?t:we(e.type)||"Memo";case ne:t=e._payload,e=e._init;try{return we(e(t))}catch{}}return null}function be(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(t);case 8:return t===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ke(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ht(e){var t=Oe(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(p){a=""+p,d.call(this,p)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ts(e){e._valueTracker||(e._valueTracker=ht(e))}function Ol(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=Oe(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function Cs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zi(e,t){var i=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Pl(e,t){var i=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;i=ke(t.value!=null?t.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Rl(e,t){t=t.checked,t!=null&&A(e,"checked",t,!1)}function eo(e,t){Rl(e,t);var i=ke(t.value),a=t.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?to(e,t.type,i):t.hasOwnProperty("defaultValue")&&to(e,t.type,ke(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Al(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function to(e,t,i){(t!=="number"||Cs(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Cn=Array.isArray;function Br(e,t,i,a){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&a&&(e[i].defaultSelected=!0)}else{for(i=""+ke(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function ro(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Il(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(n(92));if(Cn(i)){if(1<i.length)throw Error(n(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:ke(i)}}function zl(e,t){var i=ke(t.value),a=ke(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function Dl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $l(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function no(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$l(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var js,Ml=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,a,u){MSApp.execUnsafeLocalFunction(function(){return e(t,i,a,u)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(js=js||document.createElement("div"),js.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=js.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jn(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qh=["Webkit","ms","Moz","O"];Object.keys(Nn).forEach(function(e){qh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nn[t]=Nn[e]})});function Ll(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Nn.hasOwnProperty(e)&&Nn[e]?(""+t).trim():t+"px"}function Ul(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=i.indexOf("--")===0,u=Ll(i,t[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,u):e[i]=u}}var Kh=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function so(e,t){if(t){if(Kh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function io(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oo=null;function ao(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lo=null,Wr=null,Hr=null;function Fl(e){if(e=Qn(e)){if(typeof lo!="function")throw Error(n(280));var t=e.stateNode;t&&(t=Qs(t),lo(e.stateNode,e.type,t))}}function Bl(e){Wr?Hr?Hr.push(e):Hr=[e]:Wr=e}function Wl(){if(Wr){var e=Wr,t=Hr;if(Hr=Wr=null,Fl(e),t)for(e=0;e<t.length;e++)Fl(t[e])}}function Hl(e,t){return e(t)}function Vl(){}var uo=!1;function ql(e,t,i){if(uo)return e(t,i);uo=!0;try{return Hl(e,t,i)}finally{uo=!1,(Wr!==null||Hr!==null)&&(Vl(),Wl())}}function On(e,t){var i=e.stateNode;if(i===null)return null;var a=Qs(i);if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,t,typeof i));return i}var co=!1;if(f)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){co=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{co=!1}function Gh(e,t,i,a,u,d,p,y,_){var j=Array.prototype.slice.call(arguments,3);try{t.apply(i,j)}catch(z){this.onError(z)}}var Rn=!1,Ns=null,Os=!1,ho=null,Yh={onError:function(e){Rn=!0,Ns=e}};function Jh(e,t,i,a,u,d,p,y,_){Rn=!1,Ns=null,Gh.apply(Yh,arguments)}function Qh(e,t,i,a,u,d,p,y,_){if(Jh.apply(this,arguments),Rn){if(Rn){var j=Ns;Rn=!1,Ns=null}else throw Error(n(198));Os||(Os=!0,ho=j)}}function br(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Kl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gl(e){if(br(e)!==e)throw Error(n(188))}function Xh(e){var t=e.alternate;if(!t){if(t=br(e),t===null)throw Error(n(188));return t!==e?null:e}for(var i=e,a=t;;){var u=i.return;if(u===null)break;var d=u.alternate;if(d===null){if(a=u.return,a!==null){i=a;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===i)return Gl(u),e;if(d===a)return Gl(u),t;d=d.sibling}throw Error(n(188))}if(i.return!==a.return)i=u,a=d;else{for(var p=!1,y=u.child;y;){if(y===i){p=!0,i=u,a=d;break}if(y===a){p=!0,a=u,i=d;break}y=y.sibling}if(!p){for(y=d.child;y;){if(y===i){p=!0,i=d,a=u;break}if(y===a){p=!0,a=d,i=u;break}y=y.sibling}if(!p)throw Error(n(189))}}if(i.alternate!==a)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:t}function Yl(e){return e=Xh(e),e!==null?Jl(e):null}function Jl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jl(e);if(t!==null)return t;e=e.sibling}return null}var Ql=r.unstable_scheduleCallback,Xl=r.unstable_cancelCallback,Zh=r.unstable_shouldYield,ef=r.unstable_requestPaint,$e=r.unstable_now,tf=r.unstable_getCurrentPriorityLevel,fo=r.unstable_ImmediatePriority,Zl=r.unstable_UserBlockingPriority,Ps=r.unstable_NormalPriority,rf=r.unstable_LowPriority,eu=r.unstable_IdlePriority,Rs=null,Dt=null;function nf(e){if(Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Rs,e,void 0,(e.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:af,sf=Math.log,of=Math.LN2;function af(e){return e>>>=0,e===0?32:31-(sf(e)/of|0)|0}var As=64,Is=4194304;function An(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zs(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,u=e.suspendedLanes,d=e.pingedLanes,p=i&268435455;if(p!==0){var y=p&~u;y!==0?a=An(y):(d&=p,d!==0&&(a=An(d)))}else p=i&~u,p!==0?a=An(p):d!==0&&(a=An(d));if(a===0)return 0;if(t!==0&&t!==a&&(t&u)===0&&(u=a&-a,d=t&-t,u>=d||u===16&&(d&4194240)!==0))return t;if((a&4)!==0&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-Tt(t),u=1<<i,a|=e[i],t&=~u;return a}function lf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uf(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var p=31-Tt(d),y=1<<p,_=u[p];_===-1?((y&i)===0||(y&a)!==0)&&(u[p]=lf(y,t)):_<=t&&(e.expiredLanes|=y),d&=~y}}function po(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tu(){var e=As;return As<<=1,(As&4194240)===0&&(As=64),e}function mo(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function In(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tt(t),e[t]=i}function cf(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var u=31-Tt(i),d=1<<u;t[u]=0,a[u]=-1,e[u]=-1,i&=~d}}function go(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-Tt(i),u=1<<a;u&t|e[a]&t&&(e[a]|=t),i&=~u}}var Se=0;function ru(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var nu,vo,su,iu,ou,yo=!1,Ds=[],er=null,tr=null,rr=null,zn=new Map,Dn=new Map,nr=[],df="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function au(e,t){switch(e){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":zn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dn.delete(t.pointerId)}}function $n(e,t,i,a,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:d,targetContainers:[u]},t!==null&&(t=Qn(t),t!==null&&vo(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function hf(e,t,i,a,u){switch(t){case"focusin":return er=$n(er,e,t,i,a,u),!0;case"dragenter":return tr=$n(tr,e,t,i,a,u),!0;case"mouseover":return rr=$n(rr,e,t,i,a,u),!0;case"pointerover":var d=u.pointerId;return zn.set(d,$n(zn.get(d)||null,e,t,i,a,u)),!0;case"gotpointercapture":return d=u.pointerId,Dn.set(d,$n(Dn.get(d)||null,e,t,i,a,u)),!0}return!1}function lu(e){var t=kr(e.target);if(t!==null){var i=br(t);if(i!==null){if(t=i.tag,t===13){if(t=Kl(i),t!==null){e.blockedOn=t,ou(e.priority,function(){su(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $s(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=_o(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);oo=a,i.target.dispatchEvent(a),oo=null}else return t=Qn(i),t!==null&&vo(t),e.blockedOn=i,!1;t.shift()}return!0}function uu(e,t,i){$s(e)&&i.delete(t)}function ff(){yo=!1,er!==null&&$s(er)&&(er=null),tr!==null&&$s(tr)&&(tr=null),rr!==null&&$s(rr)&&(rr=null),zn.forEach(uu),Dn.forEach(uu)}function Mn(e,t){e.blockedOn===t&&(e.blockedOn=null,yo||(yo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ff)))}function Ln(e){function t(u){return Mn(u,e)}if(0<Ds.length){Mn(Ds[0],e);for(var i=1;i<Ds.length;i++){var a=Ds[i];a.blockedOn===e&&(a.blockedOn=null)}}for(er!==null&&Mn(er,e),tr!==null&&Mn(tr,e),rr!==null&&Mn(rr,e),zn.forEach(t),Dn.forEach(t),i=0;i<nr.length;i++)a=nr[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<nr.length&&(i=nr[0],i.blockedOn===null);)lu(i),i.blockedOn===null&&nr.shift()}var Vr=V.ReactCurrentBatchConfig,Ms=!0;function pf(e,t,i,a){var u=Se,d=Vr.transition;Vr.transition=null;try{Se=1,wo(e,t,i,a)}finally{Se=u,Vr.transition=d}}function mf(e,t,i,a){var u=Se,d=Vr.transition;Vr.transition=null;try{Se=4,wo(e,t,i,a)}finally{Se=u,Vr.transition=d}}function wo(e,t,i,a){if(Ms){var u=_o(e,t,i,a);if(u===null)$o(e,t,a,Ls,i),au(e,a);else if(hf(u,e,t,i,a))a.stopPropagation();else if(au(e,a),t&4&&-1<df.indexOf(e)){for(;u!==null;){var d=Qn(u);if(d!==null&&nu(d),d=_o(e,t,i,a),d===null&&$o(e,t,a,Ls,i),d===u)break;u=d}u!==null&&a.stopPropagation()}else $o(e,t,a,null,i)}}var Ls=null;function _o(e,t,i,a){if(Ls=null,e=ao(a),e=kr(e),e!==null)if(t=br(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Kl(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ls=e,null}function cu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tf()){case fo:return 1;case Zl:return 4;case Ps:case rf:return 16;case eu:return 536870912;default:return 16}default:return 16}}var sr=null,xo=null,Us=null;function du(){if(Us)return Us;var e,t=xo,i=t.length,a,u="value"in sr?sr.value:sr.textContent,d=u.length;for(e=0;e<i&&t[e]===u[e];e++);var p=i-e;for(a=1;a<=p&&t[i-a]===u[d-a];a++);return Us=u.slice(e,1<a?1-a:void 0)}function Fs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bs(){return!0}function hu(){return!1}function ft(e){function t(i,a,u,d,p){this._reactName=i,this._targetInst=u,this.type=a,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bs:hu,this.isPropagationStopped=hu,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bo=ft(qr),Un=q({},qr,{view:0,detail:0}),gf=ft(Un),ko,So,Fn,Ws=q({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:To,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fn&&(Fn&&e.type==="mousemove"?(ko=e.screenX-Fn.screenX,So=e.screenY-Fn.screenY):So=ko=0,Fn=e),ko)},movementY:function(e){return"movementY"in e?e.movementY:So}}),fu=ft(Ws),vf=q({},Ws,{dataTransfer:0}),yf=ft(vf),wf=q({},Un,{relatedTarget:0}),Eo=ft(wf),_f=q({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),xf=ft(_f),bf=q({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kf=ft(bf),Sf=q({},qr,{data:0}),pu=ft(Sf),Ef={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cf[e])?!!t[e]:!1}function To(){return jf}var Nf=q({},Un,{key:function(e){if(e.key){var t=Ef[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:To,charCode:function(e){return e.type==="keypress"?Fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Of=ft(Nf),Pf=q({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mu=ft(Pf),Rf=q({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:To}),Af=ft(Rf),If=q({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),zf=ft(If),Df=q({},Ws,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$f=ft(Df),Mf=[9,13,27,32],Co=f&&"CompositionEvent"in window,Bn=null;f&&"documentMode"in document&&(Bn=document.documentMode);var Lf=f&&"TextEvent"in window&&!Bn,gu=f&&(!Co||Bn&&8<Bn&&11>=Bn),vu=" ",yu=!1;function wu(e,t){switch(e){case"keyup":return Mf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _u(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kr=!1;function Uf(e,t){switch(e){case"compositionend":return _u(t);case"keypress":return t.which!==32?null:(yu=!0,vu);case"textInput":return e=t.data,e===vu&&yu?null:e;default:return null}}function Ff(e,t){if(Kr)return e==="compositionend"||!Co&&wu(e,t)?(e=du(),Us=xo=sr=null,Kr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gu&&t.locale!=="ko"?null:t.data;default:return null}}var Bf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bf[e.type]:t==="textarea"}function bu(e,t,i,a){Bl(a),t=Gs(t,"onChange"),0<t.length&&(i=new bo("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var Wn=null,Hn=null;function Wf(e){Uu(e,0)}function Hs(e){var t=Xr(e);if(Ol(t))return e}function Hf(e,t){if(e==="change")return t}var ku=!1;if(f){var jo;if(f){var No="oninput"in document;if(!No){var Su=document.createElement("div");Su.setAttribute("oninput","return;"),No=typeof Su.oninput=="function"}jo=No}else jo=!1;ku=jo&&(!document.documentMode||9<document.documentMode)}function Eu(){Wn&&(Wn.detachEvent("onpropertychange",Tu),Hn=Wn=null)}function Tu(e){if(e.propertyName==="value"&&Hs(Hn)){var t=[];bu(t,Hn,e,ao(e)),ql(Wf,t)}}function Vf(e,t,i){e==="focusin"?(Eu(),Wn=t,Hn=i,Wn.attachEvent("onpropertychange",Tu)):e==="focusout"&&Eu()}function qf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hs(Hn)}function Kf(e,t){if(e==="click")return Hs(t)}function Gf(e,t){if(e==="input"||e==="change")return Hs(t)}function Yf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:Yf;function Vn(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var u=i[a];if(!m.call(t,u)||!Ct(e[u],t[u]))return!1}return!0}function Cu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ju(e,t){var i=Cu(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Cu(i)}}function Nu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ou(){for(var e=window,t=Cs();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Cs(e.document)}return t}function Oo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jf(e){var t=Ou(),i=e.focusedElem,a=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Nu(i.ownerDocument.documentElement,i)){if(a!==null&&Oo(i)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=i.textContent.length,d=Math.min(a.start,u);a=a.end===void 0?d:Math.min(a.end,u),!e.extend&&d>a&&(u=a,a=d,d=u),u=ju(i,d);var p=ju(i,a);u&&p&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),d>a?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qf=f&&"documentMode"in document&&11>=document.documentMode,Gr=null,Po=null,qn=null,Ro=!1;function Pu(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ro||Gr==null||Gr!==Cs(a)||(a=Gr,"selectionStart"in a&&Oo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),qn&&Vn(qn,a)||(qn=a,a=Gs(Po,"onSelect"),0<a.length&&(t=new bo("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Gr)))}function Vs(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Yr={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionend:Vs("Transition","TransitionEnd")},Ao={},Ru={};f&&(Ru=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function qs(e){if(Ao[e])return Ao[e];if(!Yr[e])return e;var t=Yr[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Ru)return Ao[e]=t[i];return e}var Au=qs("animationend"),Iu=qs("animationiteration"),zu=qs("animationstart"),Du=qs("transitionend"),$u=new Map,Mu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,t){$u.set(e,t),c(t,[e])}for(var Io=0;Io<Mu.length;Io++){var zo=Mu[Io],Xf=zo.toLowerCase(),Zf=zo[0].toUpperCase()+zo.slice(1);ir(Xf,"on"+Zf)}ir(Au,"onAnimationEnd"),ir(Iu,"onAnimationIteration"),ir(zu,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(Du,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ep=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kn));function Lu(e,t,i){var a=e.type||"unknown-event";e.currentTarget=i,Qh(a,t,void 0,e),e.currentTarget=null}function Uu(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],u=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var p=a.length-1;0<=p;p--){var y=a[p],_=y.instance,j=y.currentTarget;if(y=y.listener,_!==d&&u.isPropagationStopped())break e;Lu(u,y,j),d=_}else for(p=0;p<a.length;p++){if(y=a[p],_=y.instance,j=y.currentTarget,y=y.listener,_!==d&&u.isPropagationStopped())break e;Lu(u,y,j),d=_}}}if(Os)throw e=ho,Os=!1,ho=null,e}function je(e,t){var i=t[Wo];i===void 0&&(i=t[Wo]=new Set);var a=e+"__bubble";i.has(a)||(Fu(t,e,2,!1),i.add(a))}function Do(e,t,i){var a=0;t&&(a|=4),Fu(i,e,a,t)}var Ks="_reactListening"+Math.random().toString(36).slice(2);function Gn(e){if(!e[Ks]){e[Ks]=!0,o.forEach(function(i){i!=="selectionchange"&&(ep.has(i)||Do(i,!1,e),Do(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ks]||(t[Ks]=!0,Do("selectionchange",!1,t))}}function Fu(e,t,i,a){switch(cu(t)){case 1:var u=pf;break;case 4:u=mf;break;default:u=wo}i=u.bind(null,t,i,e),u=void 0,!co||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function $o(e,t,i,a,u){var d=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var y=a.stateNode.containerInfo;if(y===u||y.nodeType===8&&y.parentNode===u)break;if(p===4)for(p=a.return;p!==null;){var _=p.tag;if((_===3||_===4)&&(_=p.stateNode.containerInfo,_===u||_.nodeType===8&&_.parentNode===u))return;p=p.return}for(;y!==null;){if(p=kr(y),p===null)return;if(_=p.tag,_===5||_===6){a=d=p;continue e}y=y.parentNode}}a=a.return}ql(function(){var j=d,z=ao(i),$=[];e:{var I=$u.get(e);if(I!==void 0){var K=bo,Y=e;switch(e){case"keypress":if(Fs(i)===0)break e;case"keydown":case"keyup":K=Of;break;case"focusin":Y="focus",K=Eo;break;case"focusout":Y="blur",K=Eo;break;case"beforeblur":case"afterblur":K=Eo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Af;break;case Au:case Iu:case zu:K=xf;break;case Du:K=zf;break;case"scroll":K=gf;break;case"wheel":K=$f;break;case"copy":case"cut":case"paste":K=kf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=mu}var Q=(t&4)!==0,Me=!Q&&e==="scroll",S=Q?I!==null?I+"Capture":null:I;Q=[];for(var x=j,C;x!==null;){C=x;var L=C.stateNode;if(C.tag===5&&L!==null&&(C=L,S!==null&&(L=On(x,S),L!=null&&Q.push(Yn(x,L,C)))),Me)break;x=x.return}0<Q.length&&(I=new K(I,Y,null,i,z),$.push({event:I,listeners:Q}))}}if((t&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",I&&i!==oo&&(Y=i.relatedTarget||i.fromElement)&&(kr(Y)||Y[Wt]))break e;if((K||I)&&(I=z.window===z?z:(I=z.ownerDocument)?I.defaultView||I.parentWindow:window,K?(Y=i.relatedTarget||i.toElement,K=j,Y=Y?kr(Y):null,Y!==null&&(Me=br(Y),Y!==Me||Y.tag!==5&&Y.tag!==6)&&(Y=null)):(K=null,Y=j),K!==Y)){if(Q=fu,L="onMouseLeave",S="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(Q=mu,L="onPointerLeave",S="onPointerEnter",x="pointer"),Me=K==null?I:Xr(K),C=Y==null?I:Xr(Y),I=new Q(L,x+"leave",K,i,z),I.target=Me,I.relatedTarget=C,L=null,kr(z)===j&&(Q=new Q(S,x+"enter",Y,i,z),Q.target=C,Q.relatedTarget=Me,L=Q),Me=L,K&&Y)t:{for(Q=K,S=Y,x=0,C=Q;C;C=Jr(C))x++;for(C=0,L=S;L;L=Jr(L))C++;for(;0<x-C;)Q=Jr(Q),x--;for(;0<C-x;)S=Jr(S),C--;for(;x--;){if(Q===S||S!==null&&Q===S.alternate)break t;Q=Jr(Q),S=Jr(S)}Q=null}else Q=null;K!==null&&Bu($,I,K,Q,!1),Y!==null&&Me!==null&&Bu($,Me,Y,Q,!0)}}e:{if(I=j?Xr(j):window,K=I.nodeName&&I.nodeName.toLowerCase(),K==="select"||K==="input"&&I.type==="file")var ee=Hf;else if(xu(I))if(ku)ee=Gf;else{ee=qf;var ie=Vf}else(K=I.nodeName)&&K.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(ee=Kf);if(ee&&(ee=ee(e,j))){bu($,ee,i,z);break e}ie&&ie(e,I,j),e==="focusout"&&(ie=I._wrapperState)&&ie.controlled&&I.type==="number"&&to(I,"number",I.value)}switch(ie=j?Xr(j):window,e){case"focusin":(xu(ie)||ie.contentEditable==="true")&&(Gr=ie,Po=j,qn=null);break;case"focusout":qn=Po=Gr=null;break;case"mousedown":Ro=!0;break;case"contextmenu":case"mouseup":case"dragend":Ro=!1,Pu($,i,z);break;case"selectionchange":if(Qf)break;case"keydown":case"keyup":Pu($,i,z)}var oe;if(Co)e:{switch(e){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else Kr?wu(e,i)&&(de="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(de="onCompositionStart");de&&(gu&&i.locale!=="ko"&&(Kr||de!=="onCompositionStart"?de==="onCompositionEnd"&&Kr&&(oe=du()):(sr=z,xo="value"in sr?sr.value:sr.textContent,Kr=!0)),ie=Gs(j,de),0<ie.length&&(de=new pu(de,e,null,i,z),$.push({event:de,listeners:ie}),oe?de.data=oe:(oe=_u(i),oe!==null&&(de.data=oe)))),(oe=Lf?Uf(e,i):Ff(e,i))&&(j=Gs(j,"onBeforeInput"),0<j.length&&(z=new pu("onBeforeInput","beforeinput",null,i,z),$.push({event:z,listeners:j}),z.data=oe))}Uu($,t)})}function Yn(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Gs(e,t){for(var i=t+"Capture",a=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=On(e,i),d!=null&&a.unshift(Yn(e,d,u)),d=On(e,t),d!=null&&a.push(Yn(e,d,u))),e=e.return}return a}function Jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bu(e,t,i,a,u){for(var d=t._reactName,p=[];i!==null&&i!==a;){var y=i,_=y.alternate,j=y.stateNode;if(_!==null&&_===a)break;y.tag===5&&j!==null&&(y=j,u?(_=On(i,d),_!=null&&p.unshift(Yn(i,_,y))):u||(_=On(i,d),_!=null&&p.push(Yn(i,_,y)))),i=i.return}p.length!==0&&e.push({event:t,listeners:p})}var tp=/\r\n?/g,rp=/\u0000|\uFFFD/g;function Wu(e){return(typeof e=="string"?e:""+e).replace(tp,`
`).replace(rp,"")}function Ys(e,t,i){if(t=Wu(t),Wu(e)!==t&&i)throw Error(n(425))}function Js(){}var Mo=null,Lo=null;function Uo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fo=typeof setTimeout=="function"?setTimeout:void 0,np=typeof clearTimeout=="function"?clearTimeout:void 0,Hu=typeof Promise=="function"?Promise:void 0,sp=typeof queueMicrotask=="function"?queueMicrotask:typeof Hu<"u"?function(e){return Hu.resolve(null).then(e).catch(ip)}:Fo;function ip(e){setTimeout(function(){throw e})}function Bo(e,t){var i=t,a=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"){if(a===0){e.removeChild(u),Ln(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=u}while(i);Ln(t)}function or(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Qr=Math.random().toString(36).slice(2),$t="__reactFiber$"+Qr,Jn="__reactProps$"+Qr,Wt="__reactContainer$"+Qr,Wo="__reactEvents$"+Qr,op="__reactListeners$"+Qr,ap="__reactHandles$"+Qr;function kr(e){var t=e[$t];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Wt]||i[$t]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Vu(e);e!==null;){if(i=e[$t])return i;e=Vu(e)}return t}e=i,i=e.parentNode}return null}function Qn(e){return e=e[$t]||e[Wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function Qs(e){return e[Jn]||null}var Ho=[],Zr=-1;function ar(e){return{current:e}}function Ne(e){0>Zr||(e.current=Ho[Zr],Ho[Zr]=null,Zr--)}function Te(e,t){Zr++,Ho[Zr]=e.current,e.current=t}var lr={},Ze=ar(lr),it=ar(!1),Sr=lr;function en(e,t){var i=e.type.contextTypes;if(!i)return lr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in i)u[d]=t[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function ot(e){return e=e.childContextTypes,e!=null}function Xs(){Ne(it),Ne(Ze)}function qu(e,t,i){if(Ze.current!==lr)throw Error(n(168));Te(Ze,t),Te(it,i)}function Ku(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var u in a)if(!(u in t))throw Error(n(108,be(e)||"Unknown",u));return q({},i,a)}function Zs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lr,Sr=Ze.current,Te(Ze,e),Te(it,it.current),!0}function Gu(e,t,i){var a=e.stateNode;if(!a)throw Error(n(169));i?(e=Ku(e,t,Sr),a.__reactInternalMemoizedMergedChildContext=e,Ne(it),Ne(Ze),Te(Ze,e)):Ne(it),Te(it,i)}var Ht=null,ei=!1,Vo=!1;function Yu(e){Ht===null?Ht=[e]:Ht.push(e)}function lp(e){ei=!0,Yu(e)}function ur(){if(!Vo&&Ht!==null){Vo=!0;var e=0,t=Se;try{var i=Ht;for(Se=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}Ht=null,ei=!1}catch(u){throw Ht!==null&&(Ht=Ht.slice(e+1)),Ql(fo,ur),u}finally{Se=t,Vo=!1}}return null}var tn=[],rn=0,ti=null,ri=0,_t=[],xt=0,Er=null,Vt=1,qt="";function Tr(e,t){tn[rn++]=ri,tn[rn++]=ti,ti=e,ri=t}function Ju(e,t,i){_t[xt++]=Vt,_t[xt++]=qt,_t[xt++]=Er,Er=e;var a=Vt;e=qt;var u=32-Tt(a)-1;a&=~(1<<u),i+=1;var d=32-Tt(t)+u;if(30<d){var p=u-u%5;d=(a&(1<<p)-1).toString(32),a>>=p,u-=p,Vt=1<<32-Tt(t)+u|i<<u|a,qt=d+e}else Vt=1<<d|i<<u|a,qt=e}function qo(e){e.return!==null&&(Tr(e,1),Ju(e,1,0))}function Ko(e){for(;e===ti;)ti=tn[--rn],tn[rn]=null,ri=tn[--rn],tn[rn]=null;for(;e===Er;)Er=_t[--xt],_t[xt]=null,qt=_t[--xt],_t[xt]=null,Vt=_t[--xt],_t[xt]=null}var pt=null,mt=null,Pe=!1,jt=null;function Qu(e,t){var i=Et(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Xu(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,mt=or(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Er!==null?{id:Vt,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Et(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,pt=e,mt=null,!0):!1;default:return!1}}function Go(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yo(e){if(Pe){var t=mt;if(t){var i=t;if(!Xu(e,t)){if(Go(e))throw Error(n(418));t=or(i.nextSibling);var a=pt;t&&Xu(e,t)?Qu(a,i):(e.flags=e.flags&-4097|2,Pe=!1,pt=e)}}else{if(Go(e))throw Error(n(418));e.flags=e.flags&-4097|2,Pe=!1,pt=e}}}function Zu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function ni(e){if(e!==pt)return!1;if(!Pe)return Zu(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Uo(e.type,e.memoizedProps)),t&&(t=mt)){if(Go(e))throw ec(),Error(n(418));for(;t;)Qu(e,t),t=or(t.nextSibling)}if(Zu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){mt=or(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=pt?or(e.stateNode.nextSibling):null;return!0}function ec(){for(var e=mt;e;)e=or(e.nextSibling)}function nn(){mt=pt=null,Pe=!1}function Jo(e){jt===null?jt=[e]:jt.push(e)}var up=V.ReactCurrentBatchConfig;function Xn(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var a=i.stateNode}if(!a)throw Error(n(147,e));var u=a,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(p){var y=u.refs;p===null?delete y[d]:y[d]=p},t._stringRef=d,t)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function si(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tc(e){var t=e._init;return t(e._payload)}function rc(e){function t(S,x){if(e){var C=S.deletions;C===null?(S.deletions=[x],S.flags|=16):C.push(x)}}function i(S,x){if(!e)return null;for(;x!==null;)t(S,x),x=x.sibling;return null}function a(S,x){for(S=new Map;x!==null;)x.key!==null?S.set(x.key,x):S.set(x.index,x),x=x.sibling;return S}function u(S,x){return S=vr(S,x),S.index=0,S.sibling=null,S}function d(S,x,C){return S.index=C,e?(C=S.alternate,C!==null?(C=C.index,C<x?(S.flags|=2,x):C):(S.flags|=2,x)):(S.flags|=1048576,x)}function p(S){return e&&S.alternate===null&&(S.flags|=2),S}function y(S,x,C,L){return x===null||x.tag!==6?(x=Fa(C,S.mode,L),x.return=S,x):(x=u(x,C),x.return=S,x)}function _(S,x,C,L){var ee=C.type;return ee===he?z(S,x,C.props.children,L,C.key):x!==null&&(x.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ne&&tc(ee)===x.type)?(L=u(x,C.props),L.ref=Xn(S,x,C),L.return=S,L):(L=ji(C.type,C.key,C.props,null,S.mode,L),L.ref=Xn(S,x,C),L.return=S,L)}function j(S,x,C,L){return x===null||x.tag!==4||x.stateNode.containerInfo!==C.containerInfo||x.stateNode.implementation!==C.implementation?(x=Ba(C,S.mode,L),x.return=S,x):(x=u(x,C.children||[]),x.return=S,x)}function z(S,x,C,L,ee){return x===null||x.tag!==7?(x=Ir(C,S.mode,L,ee),x.return=S,x):(x=u(x,C),x.return=S,x)}function $(S,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Fa(""+x,S.mode,C),x.return=S,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ce:return C=ji(x.type,x.key,x.props,null,S.mode,C),C.ref=Xn(S,null,x),C.return=S,C;case J:return x=Ba(x,S.mode,C),x.return=S,x;case ne:var L=x._init;return $(S,L(x._payload),C)}if(Cn(x)||Z(x))return x=Ir(x,S.mode,C,null),x.return=S,x;si(S,x)}return null}function I(S,x,C,L){var ee=x!==null?x.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return ee!==null?null:y(S,x,""+C,L);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ce:return C.key===ee?_(S,x,C,L):null;case J:return C.key===ee?j(S,x,C,L):null;case ne:return ee=C._init,I(S,x,ee(C._payload),L)}if(Cn(C)||Z(C))return ee!==null?null:z(S,x,C,L,null);si(S,C)}return null}function K(S,x,C,L,ee){if(typeof L=="string"&&L!==""||typeof L=="number")return S=S.get(C)||null,y(x,S,""+L,ee);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case ce:return S=S.get(L.key===null?C:L.key)||null,_(x,S,L,ee);case J:return S=S.get(L.key===null?C:L.key)||null,j(x,S,L,ee);case ne:var ie=L._init;return K(S,x,C,ie(L._payload),ee)}if(Cn(L)||Z(L))return S=S.get(C)||null,z(x,S,L,ee,null);si(x,L)}return null}function Y(S,x,C,L){for(var ee=null,ie=null,oe=x,de=x=0,Ge=null;oe!==null&&de<C.length;de++){oe.index>de?(Ge=oe,oe=null):Ge=oe.sibling;var xe=I(S,oe,C[de],L);if(xe===null){oe===null&&(oe=Ge);break}e&&oe&&xe.alternate===null&&t(S,oe),x=d(xe,x,de),ie===null?ee=xe:ie.sibling=xe,ie=xe,oe=Ge}if(de===C.length)return i(S,oe),Pe&&Tr(S,de),ee;if(oe===null){for(;de<C.length;de++)oe=$(S,C[de],L),oe!==null&&(x=d(oe,x,de),ie===null?ee=oe:ie.sibling=oe,ie=oe);return Pe&&Tr(S,de),ee}for(oe=a(S,oe);de<C.length;de++)Ge=K(oe,S,de,C[de],L),Ge!==null&&(e&&Ge.alternate!==null&&oe.delete(Ge.key===null?de:Ge.key),x=d(Ge,x,de),ie===null?ee=Ge:ie.sibling=Ge,ie=Ge);return e&&oe.forEach(function(yr){return t(S,yr)}),Pe&&Tr(S,de),ee}function Q(S,x,C,L){var ee=Z(C);if(typeof ee!="function")throw Error(n(150));if(C=ee.call(C),C==null)throw Error(n(151));for(var ie=ee=null,oe=x,de=x=0,Ge=null,xe=C.next();oe!==null&&!xe.done;de++,xe=C.next()){oe.index>de?(Ge=oe,oe=null):Ge=oe.sibling;var yr=I(S,oe,xe.value,L);if(yr===null){oe===null&&(oe=Ge);break}e&&oe&&yr.alternate===null&&t(S,oe),x=d(yr,x,de),ie===null?ee=yr:ie.sibling=yr,ie=yr,oe=Ge}if(xe.done)return i(S,oe),Pe&&Tr(S,de),ee;if(oe===null){for(;!xe.done;de++,xe=C.next())xe=$(S,xe.value,L),xe!==null&&(x=d(xe,x,de),ie===null?ee=xe:ie.sibling=xe,ie=xe);return Pe&&Tr(S,de),ee}for(oe=a(S,oe);!xe.done;de++,xe=C.next())xe=K(oe,S,de,xe.value,L),xe!==null&&(e&&xe.alternate!==null&&oe.delete(xe.key===null?de:xe.key),x=d(xe,x,de),ie===null?ee=xe:ie.sibling=xe,ie=xe);return e&&oe.forEach(function(Bp){return t(S,Bp)}),Pe&&Tr(S,de),ee}function Me(S,x,C,L){if(typeof C=="object"&&C!==null&&C.type===he&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case ce:e:{for(var ee=C.key,ie=x;ie!==null;){if(ie.key===ee){if(ee=C.type,ee===he){if(ie.tag===7){i(S,ie.sibling),x=u(ie,C.props.children),x.return=S,S=x;break e}}else if(ie.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ne&&tc(ee)===ie.type){i(S,ie.sibling),x=u(ie,C.props),x.ref=Xn(S,ie,C),x.return=S,S=x;break e}i(S,ie);break}else t(S,ie);ie=ie.sibling}C.type===he?(x=Ir(C.props.children,S.mode,L,C.key),x.return=S,S=x):(L=ji(C.type,C.key,C.props,null,S.mode,L),L.ref=Xn(S,x,C),L.return=S,S=L)}return p(S);case J:e:{for(ie=C.key;x!==null;){if(x.key===ie)if(x.tag===4&&x.stateNode.containerInfo===C.containerInfo&&x.stateNode.implementation===C.implementation){i(S,x.sibling),x=u(x,C.children||[]),x.return=S,S=x;break e}else{i(S,x);break}else t(S,x);x=x.sibling}x=Ba(C,S.mode,L),x.return=S,S=x}return p(S);case ne:return ie=C._init,Me(S,x,ie(C._payload),L)}if(Cn(C))return Y(S,x,C,L);if(Z(C))return Q(S,x,C,L);si(S,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,x!==null&&x.tag===6?(i(S,x.sibling),x=u(x,C),x.return=S,S=x):(i(S,x),x=Fa(C,S.mode,L),x.return=S,S=x),p(S)):i(S,x)}return Me}var sn=rc(!0),nc=rc(!1),ii=ar(null),oi=null,on=null,Qo=null;function Xo(){Qo=on=oi=null}function Zo(e){var t=ii.current;Ne(ii),e._currentValue=t}function ea(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function an(e,t){oi=e,Qo=on=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(at=!0),e.firstContext=null)}function bt(e){var t=e._currentValue;if(Qo!==e)if(e={context:e,memoizedValue:t,next:null},on===null){if(oi===null)throw Error(n(308));on=e,oi.dependencies={lanes:0,firstContext:e}}else on=on.next=e;return t}var Cr=null;function ta(e){Cr===null?Cr=[e]:Cr.push(e)}function sc(e,t,i,a){var u=t.interleaved;return u===null?(i.next=i,ta(t)):(i.next=u.next,u.next=i),t.interleaved=i,Kt(e,a)}function Kt(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var cr=!1;function ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ic(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dr(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(_e&2)!==0){var u=a.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),a.pending=t,Kt(e,i)}return u=a.interleaved,u===null?(t.next=t,ta(a)):(t.next=u.next,u.next=t),a.interleaved=t,Kt(e,i)}function ai(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,go(e,i)}}function oc(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var u=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var p={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?u=d=p:d=d.next=p,i=i.next}while(i!==null);d===null?u=d=t:d=d.next=t}else u=d=t;i={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function li(e,t,i,a){var u=e.updateQueue;cr=!1;var d=u.firstBaseUpdate,p=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var _=y,j=_.next;_.next=null,p===null?d=j:p.next=j,p=_;var z=e.alternate;z!==null&&(z=z.updateQueue,y=z.lastBaseUpdate,y!==p&&(y===null?z.firstBaseUpdate=j:y.next=j,z.lastBaseUpdate=_))}if(d!==null){var $=u.baseState;p=0,z=j=_=null,y=d;do{var I=y.lane,K=y.eventTime;if((a&I)===I){z!==null&&(z=z.next={eventTime:K,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var Y=e,Q=y;switch(I=t,K=i,Q.tag){case 1:if(Y=Q.payload,typeof Y=="function"){$=Y.call(K,$,I);break e}$=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=Q.payload,I=typeof Y=="function"?Y.call(K,$,I):Y,I==null)break e;$=q({},$,I);break e;case 2:cr=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,I=u.effects,I===null?u.effects=[y]:I.push(y))}else K={eventTime:K,lane:I,tag:y.tag,payload:y.payload,callback:y.callback,next:null},z===null?(j=z=K,_=$):z=z.next=K,p|=I;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;I=y,y=I.next,I.next=null,u.lastBaseUpdate=I,u.shared.pending=null}}while(!0);if(z===null&&(_=$),u.baseState=_,u.firstBaseUpdate=j,u.lastBaseUpdate=z,t=u.shared.interleaved,t!==null){u=t;do p|=u.lane,u=u.next;while(u!==t)}else d===null&&(u.shared.lanes=0);Or|=p,e.lanes=p,e.memoizedState=$}}function ac(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],u=a.callback;if(u!==null){if(a.callback=null,a=i,typeof u!="function")throw Error(n(191,u));u.call(a)}}}var Zn={},Mt=ar(Zn),es=ar(Zn),ts=ar(Zn);function jr(e){if(e===Zn)throw Error(n(174));return e}function na(e,t){switch(Te(ts,t),Te(es,e),Te(Mt,Zn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:no(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=no(t,e)}Ne(Mt),Te(Mt,t)}function ln(){Ne(Mt),Ne(es),Ne(ts)}function lc(e){jr(ts.current);var t=jr(Mt.current),i=no(t,e.type);t!==i&&(Te(es,e),Te(Mt,i))}function sa(e){es.current===e&&(Ne(Mt),Ne(es))}var Re=ar(0);function ui(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ia=[];function oa(){for(var e=0;e<ia.length;e++)ia[e]._workInProgressVersionPrimary=null;ia.length=0}var ci=V.ReactCurrentDispatcher,aa=V.ReactCurrentBatchConfig,Nr=0,Ae=null,We=null,qe=null,di=!1,rs=!1,ns=0,cp=0;function et(){throw Error(n(321))}function la(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Ct(e[i],t[i]))return!1;return!0}function ua(e,t,i,a,u,d){if(Nr=d,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ci.current=e===null||e.memoizedState===null?pp:mp,e=i(a,u),rs){d=0;do{if(rs=!1,ns=0,25<=d)throw Error(n(301));d+=1,qe=We=null,t.updateQueue=null,ci.current=gp,e=i(a,u)}while(rs)}if(ci.current=pi,t=We!==null&&We.next!==null,Nr=0,qe=We=Ae=null,di=!1,t)throw Error(n(300));return e}function ca(){var e=ns!==0;return ns=0,e}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ae.memoizedState=qe=e:qe=qe.next=e,qe}function kt(){if(We===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=qe===null?Ae.memoizedState:qe.next;if(t!==null)qe=t,We=e;else{if(e===null)throw Error(n(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},qe===null?Ae.memoizedState=qe=e:qe=qe.next=e}return qe}function ss(e,t){return typeof t=="function"?t(e):t}function da(e){var t=kt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var a=We,u=a.baseQueue,d=i.pending;if(d!==null){if(u!==null){var p=u.next;u.next=d.next,d.next=p}a.baseQueue=u=d,i.pending=null}if(u!==null){d=u.next,a=a.baseState;var y=p=null,_=null,j=d;do{var z=j.lane;if((Nr&z)===z)_!==null&&(_=_.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),a=j.hasEagerState?j.eagerState:e(a,j.action);else{var $={lane:z,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};_===null?(y=_=$,p=a):_=_.next=$,Ae.lanes|=z,Or|=z}j=j.next}while(j!==null&&j!==d);_===null?p=a:_.next=y,Ct(a,t.memoizedState)||(at=!0),t.memoizedState=a,t.baseState=p,t.baseQueue=_,i.lastRenderedState=a}if(e=i.interleaved,e!==null){u=e;do d=u.lane,Ae.lanes|=d,Or|=d,u=u.next;while(u!==e)}else u===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function ha(e){var t=kt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var a=i.dispatch,u=i.pending,d=t.memoizedState;if(u!==null){i.pending=null;var p=u=u.next;do d=e(d,p.action),p=p.next;while(p!==u);Ct(d,t.memoizedState)||(at=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,a]}function uc(){}function cc(e,t){var i=Ae,a=kt(),u=t(),d=!Ct(a.memoizedState,u);if(d&&(a.memoizedState=u,at=!0),a=a.queue,fa(fc.bind(null,i,a,e),[e]),a.getSnapshot!==t||d||qe!==null&&qe.memoizedState.tag&1){if(i.flags|=2048,is(9,hc.bind(null,i,a,u,t),void 0,null),Ke===null)throw Error(n(349));(Nr&30)!==0||dc(i,t,u)}return u}function dc(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function hc(e,t,i,a){t.value=i,t.getSnapshot=a,pc(t)&&mc(e)}function fc(e,t,i){return i(function(){pc(t)&&mc(e)})}function pc(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ct(e,i)}catch{return!0}}function mc(e){var t=Kt(e,1);t!==null&&Rt(t,e,1,-1)}function gc(e){var t=Lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e},t.queue=e,e=e.dispatch=fp.bind(null,Ae,e),[t.memoizedState,e]}function is(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function vc(){return kt().memoizedState}function hi(e,t,i,a){var u=Lt();Ae.flags|=e,u.memoizedState=is(1|t,i,void 0,a===void 0?null:a)}function fi(e,t,i,a){var u=kt();a=a===void 0?null:a;var d=void 0;if(We!==null){var p=We.memoizedState;if(d=p.destroy,a!==null&&la(a,p.deps)){u.memoizedState=is(t,i,d,a);return}}Ae.flags|=e,u.memoizedState=is(1|t,i,d,a)}function yc(e,t){return hi(8390656,8,e,t)}function fa(e,t){return fi(2048,8,e,t)}function wc(e,t){return fi(4,2,e,t)}function _c(e,t){return fi(4,4,e,t)}function xc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bc(e,t,i){return i=i!=null?i.concat([e]):null,fi(4,4,xc.bind(null,t,e),i)}function pa(){}function kc(e,t){var i=kt();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&la(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Sc(e,t){var i=kt();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&la(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function Ec(e,t,i){return(Nr&21)===0?(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=i):(Ct(i,t)||(i=tu(),Ae.lanes|=i,Or|=i,e.baseState=!0),t)}function dp(e,t){var i=Se;Se=i!==0&&4>i?i:4,e(!0);var a=aa.transition;aa.transition={};try{e(!1),t()}finally{Se=i,aa.transition=a}}function Tc(){return kt().memoizedState}function hp(e,t,i){var a=mr(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},Cc(e))jc(t,i);else if(i=sc(e,t,i,a),i!==null){var u=st();Rt(i,e,a,u),Nc(i,t,a)}}function fp(e,t,i){var a=mr(e),u={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(Cc(e))jc(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var p=t.lastRenderedState,y=d(p,i);if(u.hasEagerState=!0,u.eagerState=y,Ct(y,p)){var _=t.interleaved;_===null?(u.next=u,ta(t)):(u.next=_.next,_.next=u),t.interleaved=u;return}}catch{}finally{}i=sc(e,t,u,a),i!==null&&(u=st(),Rt(i,e,a,u),Nc(i,t,a))}}function Cc(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function jc(e,t){rs=di=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Nc(e,t,i){if((i&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,go(e,i)}}var pi={readContext:bt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},pp={readContext:bt,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:bt,useEffect:yc,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,hi(4194308,4,xc.bind(null,t,e),i)},useLayoutEffect:function(e,t){return hi(4194308,4,e,t)},useInsertionEffect:function(e,t){return hi(4,2,e,t)},useMemo:function(e,t){var i=Lt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=Lt();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=hp.bind(null,Ae,e),[a.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:gc,useDebugValue:pa,useDeferredValue:function(e){return Lt().memoizedState=e},useTransition:function(){var e=gc(!1),t=e[0];return e=dp.bind(null,e[1]),Lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=Ae,u=Lt();if(Pe){if(i===void 0)throw Error(n(407));i=i()}else{if(i=t(),Ke===null)throw Error(n(349));(Nr&30)!==0||dc(a,t,i)}u.memoizedState=i;var d={value:i,getSnapshot:t};return u.queue=d,yc(fc.bind(null,a,d,e),[e]),a.flags|=2048,is(9,hc.bind(null,a,d,i,t),void 0,null),i},useId:function(){var e=Lt(),t=Ke.identifierPrefix;if(Pe){var i=qt,a=Vt;i=(a&~(1<<32-Tt(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=ns++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=cp++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mp={readContext:bt,useCallback:kc,useContext:bt,useEffect:fa,useImperativeHandle:bc,useInsertionEffect:wc,useLayoutEffect:_c,useMemo:Sc,useReducer:da,useRef:vc,useState:function(){return da(ss)},useDebugValue:pa,useDeferredValue:function(e){var t=kt();return Ec(t,We.memoizedState,e)},useTransition:function(){var e=da(ss)[0],t=kt().memoizedState;return[e,t]},useMutableSource:uc,useSyncExternalStore:cc,useId:Tc,unstable_isNewReconciler:!1},gp={readContext:bt,useCallback:kc,useContext:bt,useEffect:fa,useImperativeHandle:bc,useInsertionEffect:wc,useLayoutEffect:_c,useMemo:Sc,useReducer:ha,useRef:vc,useState:function(){return ha(ss)},useDebugValue:pa,useDeferredValue:function(e){var t=kt();return We===null?t.memoizedState=e:Ec(t,We.memoizedState,e)},useTransition:function(){var e=ha(ss)[0],t=kt().memoizedState;return[e,t]},useMutableSource:uc,useSyncExternalStore:cc,useId:Tc,unstable_isNewReconciler:!1};function Nt(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function ma(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:q({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var mi={isMounted:function(e){return(e=e._reactInternals)?br(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=st(),u=mr(e),d=Gt(a,u);d.payload=t,i!=null&&(d.callback=i),t=dr(e,d,u),t!==null&&(Rt(t,e,u,a),ai(t,e,u))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=st(),u=mr(e),d=Gt(a,u);d.tag=1,d.payload=t,i!=null&&(d.callback=i),t=dr(e,d,u),t!==null&&(Rt(t,e,u,a),ai(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=st(),a=mr(e),u=Gt(i,a);u.tag=2,t!=null&&(u.callback=t),t=dr(e,u,a),t!==null&&(Rt(t,e,a,i),ai(t,e,a))}};function Oc(e,t,i,a,u,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,p):t.prototype&&t.prototype.isPureReactComponent?!Vn(i,a)||!Vn(u,d):!0}function Pc(e,t,i){var a=!1,u=lr,d=t.contextType;return typeof d=="object"&&d!==null?d=bt(d):(u=ot(t)?Sr:Ze.current,a=t.contextTypes,d=(a=a!=null)?en(e,u):lr),t=new t(i,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mi,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),t}function Rc(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&mi.enqueueReplaceState(t,t.state,null)}function ga(e,t,i,a){var u=e.stateNode;u.props=i,u.state=e.memoizedState,u.refs={},ra(e);var d=t.contextType;typeof d=="object"&&d!==null?u.context=bt(d):(d=ot(t)?Sr:Ze.current,u.context=en(e,d)),u.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(ma(e,t,d,i),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&mi.enqueueReplaceState(u,u.state,null),li(e,i,u,a),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function un(e,t){try{var i="",a=t;do i+=ye(a),a=a.return;while(a);var u=i}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:u,digest:null}}function va(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function ya(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var vp=typeof WeakMap=="function"?WeakMap:Map;function Ac(e,t,i){i=Gt(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){bi||(bi=!0,Aa=a),ya(e,t)},i}function Ic(e,t,i){i=Gt(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var u=t.value;i.payload=function(){return a(u)},i.callback=function(){ya(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){ya(e,t),typeof a!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),i}function zc(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new vp;var u=new Set;a.set(t,u)}else u=a.get(t),u===void 0&&(u=new Set,a.set(t,u));u.has(i)||(u.add(i),e=Pp.bind(null,e,t,i),t.then(e,e))}function Dc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $c(e,t,i,a,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Gt(-1,1),t.tag=2,dr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var yp=V.ReactCurrentOwner,at=!1;function nt(e,t,i,a){t.child=e===null?nc(t,null,i,a):sn(t,e.child,i,a)}function Mc(e,t,i,a,u){i=i.render;var d=t.ref;return an(t,u),a=ua(e,t,i,a,d,u),i=ca(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Yt(e,t,u)):(Pe&&i&&qo(t),t.flags|=1,nt(e,t,a,u),t.child)}function Lc(e,t,i,a,u){if(e===null){var d=i.type;return typeof d=="function"&&!Ua(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=d,Uc(e,t,d,a,u)):(e=ji(i.type,null,a,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&u)===0){var p=d.memoizedProps;if(i=i.compare,i=i!==null?i:Vn,i(p,a)&&e.ref===t.ref)return Yt(e,t,u)}return t.flags|=1,e=vr(d,a),e.ref=t.ref,e.return=t,t.child=e}function Uc(e,t,i,a,u){if(e!==null){var d=e.memoizedProps;if(Vn(d,a)&&e.ref===t.ref)if(at=!1,t.pendingProps=a=d,(e.lanes&u)!==0)(e.flags&131072)!==0&&(at=!0);else return t.lanes=e.lanes,Yt(e,t,u)}return wa(e,t,i,a,u)}function Fc(e,t,i){var a=t.pendingProps,u=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(dn,gt),gt|=i;else{if((i&1073741824)===0)return e=d!==null?d.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(dn,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:i,Te(dn,gt),gt|=a}else d!==null?(a=d.baseLanes|i,t.memoizedState=null):a=i,Te(dn,gt),gt|=a;return nt(e,t,u,i),t.child}function Bc(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function wa(e,t,i,a,u){var d=ot(i)?Sr:Ze.current;return d=en(t,d),an(t,u),i=ua(e,t,i,a,d,u),a=ca(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Yt(e,t,u)):(Pe&&a&&qo(t),t.flags|=1,nt(e,t,i,u),t.child)}function Wc(e,t,i,a,u){if(ot(i)){var d=!0;Zs(t)}else d=!1;if(an(t,u),t.stateNode===null)vi(e,t),Pc(t,i,a),ga(t,i,a,u),a=!0;else if(e===null){var p=t.stateNode,y=t.memoizedProps;p.props=y;var _=p.context,j=i.contextType;typeof j=="object"&&j!==null?j=bt(j):(j=ot(i)?Sr:Ze.current,j=en(t,j));var z=i.getDerivedStateFromProps,$=typeof z=="function"||typeof p.getSnapshotBeforeUpdate=="function";$||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==a||_!==j)&&Rc(t,p,a,j),cr=!1;var I=t.memoizedState;p.state=I,li(t,a,p,u),_=t.memoizedState,y!==a||I!==_||it.current||cr?(typeof z=="function"&&(ma(t,i,z,a),_=t.memoizedState),(y=cr||Oc(t,i,y,a,I,_,j))?($||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=_),p.props=a,p.state=_,p.context=j,a=y):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{p=t.stateNode,ic(e,t),y=t.memoizedProps,j=t.type===t.elementType?y:Nt(t.type,y),p.props=j,$=t.pendingProps,I=p.context,_=i.contextType,typeof _=="object"&&_!==null?_=bt(_):(_=ot(i)?Sr:Ze.current,_=en(t,_));var K=i.getDerivedStateFromProps;(z=typeof K=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==$||I!==_)&&Rc(t,p,a,_),cr=!1,I=t.memoizedState,p.state=I,li(t,a,p,u);var Y=t.memoizedState;y!==$||I!==Y||it.current||cr?(typeof K=="function"&&(ma(t,i,K,a),Y=t.memoizedState),(j=cr||Oc(t,i,j,a,I,Y,_)||!1)?(z||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,Y,_),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,Y,_)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Y),p.props=a,p.state=Y,p.context=_,a=j):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),a=!1)}return _a(e,t,i,a,d,u)}function _a(e,t,i,a,u,d){Bc(e,t);var p=(t.flags&128)!==0;if(!a&&!p)return u&&Gu(t,i,!1),Yt(e,t,d);a=t.stateNode,yp.current=t;var y=p&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&p?(t.child=sn(t,e.child,null,d),t.child=sn(t,null,y,d)):nt(e,t,y,d),t.memoizedState=a.state,u&&Gu(t,i,!0),t.child}function Hc(e){var t=e.stateNode;t.pendingContext?qu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qu(e,t.context,!1),na(e,t.containerInfo)}function Vc(e,t,i,a,u){return nn(),Jo(u),t.flags|=256,nt(e,t,i,a),t.child}var xa={dehydrated:null,treeContext:null,retryLane:0};function ba(e){return{baseLanes:e,cachePool:null,transitions:null}}function qc(e,t,i){var a=t.pendingProps,u=Re.current,d=!1,p=(t.flags&128)!==0,y;if((y=p)||(y=e!==null&&e.memoizedState===null?!1:(u&2)!==0),y?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Te(Re,u&1),e===null)return Yo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=a.children,e=a.fallback,d?(a=t.mode,d=t.child,p={mode:"hidden",children:p},(a&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=p):d=Ni(p,a,0,null),e=Ir(e,a,i,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=ba(i),t.memoizedState=xa,e):ka(t,p));if(u=e.memoizedState,u!==null&&(y=u.dehydrated,y!==null))return wp(e,t,p,a,y,u,i);if(d){d=a.fallback,p=t.mode,u=e.child,y=u.sibling;var _={mode:"hidden",children:a.children};return(p&1)===0&&t.child!==u?(a=t.child,a.childLanes=0,a.pendingProps=_,t.deletions=null):(a=vr(u,_),a.subtreeFlags=u.subtreeFlags&14680064),y!==null?d=vr(y,d):(d=Ir(d,p,i,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,a=d,d=t.child,p=e.child.memoizedState,p=p===null?ba(i):{baseLanes:p.baseLanes|i,cachePool:null,transitions:p.transitions},d.memoizedState=p,d.childLanes=e.childLanes&~i,t.memoizedState=xa,a}return d=e.child,e=d.sibling,a=vr(d,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=i),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function ka(e,t){return t=Ni({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gi(e,t,i,a){return a!==null&&Jo(a),sn(t,e.child,null,i),e=ka(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wp(e,t,i,a,u,d,p){if(i)return t.flags&256?(t.flags&=-257,a=va(Error(n(422))),gi(e,t,p,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=a.fallback,u=t.mode,a=Ni({mode:"visible",children:a.children},u,0,null),d=Ir(d,u,p,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,(t.mode&1)!==0&&sn(t,e.child,null,p),t.child.memoizedState=ba(p),t.memoizedState=xa,d);if((t.mode&1)===0)return gi(e,t,p,null);if(u.data==="$!"){if(a=u.nextSibling&&u.nextSibling.dataset,a)var y=a.dgst;return a=y,d=Error(n(419)),a=va(d,a,void 0),gi(e,t,p,a)}if(y=(p&e.childLanes)!==0,at||y){if(a=Ke,a!==null){switch(p&-p){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(a.suspendedLanes|p))!==0?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,Kt(e,u),Rt(a,e,u,-1))}return La(),a=va(Error(n(421))),gi(e,t,p,a)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Rp.bind(null,e),u._reactRetry=t,null):(e=d.treeContext,mt=or(u.nextSibling),pt=t,Pe=!0,jt=null,e!==null&&(_t[xt++]=Vt,_t[xt++]=qt,_t[xt++]=Er,Vt=e.id,qt=e.overflow,Er=t),t=ka(t,a.children),t.flags|=4096,t)}function Kc(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ea(e.return,t,i)}function Sa(e,t,i,a,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:u}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=i,d.tailMode=u)}function Gc(e,t,i){var a=t.pendingProps,u=a.revealOrder,d=a.tail;if(nt(e,t,a.children,i),a=Re.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kc(e,i,t);else if(e.tag===19)Kc(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Te(Re,a),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&ui(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),Sa(t,!1,u,i,d);break;case"backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&ui(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}Sa(t,!0,i,null,d);break;case"together":Sa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yt(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Or|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,i=vr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=vr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function _p(e,t,i){switch(t.tag){case 3:Hc(t),nn();break;case 5:lc(t);break;case 1:ot(t.type)&&Zs(t);break;case 4:na(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,u=t.memoizedProps.value;Te(ii,a._currentValue),a._currentValue=u;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Te(Re,Re.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?qc(e,t,i):(Te(Re,Re.current&1),e=Yt(e,t,i),e!==null?e.sibling:null);Te(Re,Re.current&1);break;case 19:if(a=(i&t.childLanes)!==0,(e.flags&128)!==0){if(a)return Gc(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Te(Re,Re.current),a)break;return null;case 22:case 23:return t.lanes=0,Fc(e,t,i)}return Yt(e,t,i)}var Yc,Ea,Jc,Qc;Yc=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ea=function(){},Jc=function(e,t,i,a){var u=e.memoizedProps;if(u!==a){e=t.stateNode,jr(Mt.current);var d=null;switch(i){case"input":u=Zi(e,u),a=Zi(e,a),d=[];break;case"select":u=q({},u,{value:void 0}),a=q({},a,{value:void 0}),d=[];break;case"textarea":u=ro(e,u),a=ro(e,a),d=[];break;default:typeof u.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Js)}so(i,a);var p;i=null;for(j in u)if(!a.hasOwnProperty(j)&&u.hasOwnProperty(j)&&u[j]!=null)if(j==="style"){var y=u[j];for(p in y)y.hasOwnProperty(p)&&(i||(i={}),i[p]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(l.hasOwnProperty(j)?d||(d=[]):(d=d||[]).push(j,null));for(j in a){var _=a[j];if(y=u!=null?u[j]:void 0,a.hasOwnProperty(j)&&_!==y&&(_!=null||y!=null))if(j==="style")if(y){for(p in y)!y.hasOwnProperty(p)||_&&_.hasOwnProperty(p)||(i||(i={}),i[p]="");for(p in _)_.hasOwnProperty(p)&&y[p]!==_[p]&&(i||(i={}),i[p]=_[p])}else i||(d||(d=[]),d.push(j,i)),i=_;else j==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,y=y?y.__html:void 0,_!=null&&y!==_&&(d=d||[]).push(j,_)):j==="children"?typeof _!="string"&&typeof _!="number"||(d=d||[]).push(j,""+_):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(l.hasOwnProperty(j)?(_!=null&&j==="onScroll"&&je("scroll",e),d||y===_||(d=[])):(d=d||[]).push(j,_))}i&&(d=d||[]).push("style",i);var j=d;(t.updateQueue=j)&&(t.flags|=4)}},Qc=function(e,t,i,a){i!==a&&(t.flags|=4)};function os(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags&14680064,a|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function xp(e,t,i){var a=t.pendingProps;switch(Ko(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return ot(t.type)&&Xs(),tt(t),null;case 3:return a=t.stateNode,ln(),Ne(it),Ne(Ze),oa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ni(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,jt!==null&&(Da(jt),jt=null))),Ea(e,t),tt(t),null;case 5:sa(t);var u=jr(ts.current);if(i=t.type,e!==null&&t.stateNode!=null)Jc(e,t,i,a,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(n(166));return tt(t),null}if(e=jr(Mt.current),ni(t)){a=t.stateNode,i=t.type;var d=t.memoizedProps;switch(a[$t]=t,a[Jn]=d,e=(t.mode&1)!==0,i){case"dialog":je("cancel",a),je("close",a);break;case"iframe":case"object":case"embed":je("load",a);break;case"video":case"audio":for(u=0;u<Kn.length;u++)je(Kn[u],a);break;case"source":je("error",a);break;case"img":case"image":case"link":je("error",a),je("load",a);break;case"details":je("toggle",a);break;case"input":Pl(a,d),je("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},je("invalid",a);break;case"textarea":Il(a,d),je("invalid",a)}so(i,d),u=null;for(var p in d)if(d.hasOwnProperty(p)){var y=d[p];p==="children"?typeof y=="string"?a.textContent!==y&&(d.suppressHydrationWarning!==!0&&Ys(a.textContent,y,e),u=["children",y]):typeof y=="number"&&a.textContent!==""+y&&(d.suppressHydrationWarning!==!0&&Ys(a.textContent,y,e),u=["children",""+y]):l.hasOwnProperty(p)&&y!=null&&p==="onScroll"&&je("scroll",a)}switch(i){case"input":Ts(a),Al(a,d,!0);break;case"textarea":Ts(a),Dl(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Js)}a=u,t.updateQueue=a,a!==null&&(t.flags|=4)}else{p=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$l(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=p.createElement(i,{is:a.is}):(e=p.createElement(i),i==="select"&&(p=e,a.multiple?p.multiple=!0:a.size&&(p.size=a.size))):e=p.createElementNS(e,i),e[$t]=t,e[Jn]=a,Yc(e,t,!1,!1),t.stateNode=e;e:{switch(p=io(i,a),i){case"dialog":je("cancel",e),je("close",e),u=a;break;case"iframe":case"object":case"embed":je("load",e),u=a;break;case"video":case"audio":for(u=0;u<Kn.length;u++)je(Kn[u],e);u=a;break;case"source":je("error",e),u=a;break;case"img":case"image":case"link":je("error",e),je("load",e),u=a;break;case"details":je("toggle",e),u=a;break;case"input":Pl(e,a),u=Zi(e,a),je("invalid",e);break;case"option":u=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},u=q({},a,{value:void 0}),je("invalid",e);break;case"textarea":Il(e,a),u=ro(e,a),je("invalid",e);break;default:u=a}so(i,u),y=u;for(d in y)if(y.hasOwnProperty(d)){var _=y[d];d==="style"?Ul(e,_):d==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&Ml(e,_)):d==="children"?typeof _=="string"?(i!=="textarea"||_!=="")&&jn(e,_):typeof _=="number"&&jn(e,""+_):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?_!=null&&d==="onScroll"&&je("scroll",e):_!=null&&A(e,d,_,p))}switch(i){case"input":Ts(e),Al(e,a,!1);break;case"textarea":Ts(e),Dl(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ke(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?Br(e,!!a.multiple,d,!1):a.defaultValue!=null&&Br(e,!!a.multiple,a.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Js)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)Qc(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(n(166));if(i=jr(ts.current),jr(Mt.current),ni(t)){if(a=t.stateNode,i=t.memoizedProps,a[$t]=t,(d=a.nodeValue!==i)&&(e=pt,e!==null))switch(e.tag){case 3:Ys(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ys(a.nodeValue,i,(e.mode&1)!==0)}d&&(t.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[$t]=t,t.stateNode=a}return tt(t),null;case 13:if(Ne(Re),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&mt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)ec(),nn(),t.flags|=98560,d=!1;else if(d=ni(t),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(n(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));d[$t]=t}else nn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),d=!1}else jt!==null&&(Da(jt),jt=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Re.current&1)!==0?He===0&&(He=3):La())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return ln(),Ea(e,t),e===null&&Gn(t.stateNode.containerInfo),tt(t),null;case 10:return Zo(t.type._context),tt(t),null;case 17:return ot(t.type)&&Xs(),tt(t),null;case 19:if(Ne(Re),d=t.memoizedState,d===null)return tt(t),null;if(a=(t.flags&128)!==0,p=d.rendering,p===null)if(a)os(d,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=ui(e),p!==null){for(t.flags|=128,os(d,!1),a=p.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=i,i=t.child;i!==null;)d=i,e=a,d.flags&=14680066,p=d.alternate,p===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=p.childLanes,d.lanes=p.lanes,d.child=p.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=p.memoizedProps,d.memoizedState=p.memoizedState,d.updateQueue=p.updateQueue,d.type=p.type,e=p.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Te(Re,Re.current&1|2),t.child}e=e.sibling}d.tail!==null&&$e()>hn&&(t.flags|=128,a=!0,os(d,!1),t.lanes=4194304)}else{if(!a)if(e=ui(p),e!==null){if(t.flags|=128,a=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),os(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!Pe)return tt(t),null}else 2*$e()-d.renderingStartTime>hn&&i!==1073741824&&(t.flags|=128,a=!0,os(d,!1),t.lanes=4194304);d.isBackwards?(p.sibling=t.child,t.child=p):(i=d.last,i!==null?i.sibling=p:t.child=p,d.last=p)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=$e(),t.sibling=null,i=Re.current,Te(Re,a?i&1|2:i&1),t):(tt(t),null);case 22:case 23:return Ma(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(gt&1073741824)!==0&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function bp(e,t){switch(Ko(t),t.tag){case 1:return ot(t.type)&&Xs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ln(),Ne(it),Ne(Ze),oa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return sa(t),null;case 13:if(Ne(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));nn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(Re),null;case 4:return ln(),null;case 10:return Zo(t.type._context),null;case 22:case 23:return Ma(),null;case 24:return null;default:return null}}var yi=!1,rt=!1,kp=typeof WeakSet=="function"?WeakSet:Set,G=null;function cn(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){ze(e,t,a)}else i.current=null}function Ta(e,t,i){try{i()}catch(a){ze(e,t,a)}}var Xc=!1;function Sp(e,t){if(Mo=Ms,e=Ou(),Oo(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var u=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var p=0,y=-1,_=-1,j=0,z=0,$=e,I=null;t:for(;;){for(var K;$!==i||u!==0&&$.nodeType!==3||(y=p+u),$!==d||a!==0&&$.nodeType!==3||(_=p+a),$.nodeType===3&&(p+=$.nodeValue.length),(K=$.firstChild)!==null;)I=$,$=K;for(;;){if($===e)break t;if(I===i&&++j===u&&(y=p),I===d&&++z===a&&(_=p),(K=$.nextSibling)!==null)break;$=I,I=$.parentNode}$=K}i=y===-1||_===-1?null:{start:y,end:_}}else i=null}i=i||{start:0,end:0}}else i=null;for(Lo={focusedElem:e,selectionRange:i},Ms=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var Y=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Y!==null){var Q=Y.memoizedProps,Me=Y.memoizedState,S=t.stateNode,x=S.getSnapshotBeforeUpdate(t.elementType===t.type?Q:Nt(t.type,Q),Me);S.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(L){ze(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return Y=Xc,Xc=!1,Y}function as(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&Ta(t,i,d)}u=u.next}while(u!==a)}}function wi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function Ca(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Zc(e){var t=e.alternate;t!==null&&(e.alternate=null,Zc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$t],delete t[Jn],delete t[Wo],delete t[op],delete t[ap])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ed(e){return e.tag===5||e.tag===3||e.tag===4}function td(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ed(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ja(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Js));else if(a!==4&&(e=e.child,e!==null))for(ja(e,t,i),e=e.sibling;e!==null;)ja(e,t,i),e=e.sibling}function Na(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Na(e,t,i),e=e.sibling;e!==null;)Na(e,t,i),e=e.sibling}var Ye=null,Ot=!1;function hr(e,t,i){for(i=i.child;i!==null;)rd(e,t,i),i=i.sibling}function rd(e,t,i){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Rs,i)}catch{}switch(i.tag){case 5:rt||cn(i,t);case 6:var a=Ye,u=Ot;Ye=null,hr(e,t,i),Ye=a,Ot=u,Ye!==null&&(Ot?(e=Ye,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Ye.removeChild(i.stateNode));break;case 18:Ye!==null&&(Ot?(e=Ye,i=i.stateNode,e.nodeType===8?Bo(e.parentNode,i):e.nodeType===1&&Bo(e,i),Ln(e)):Bo(Ye,i.stateNode));break;case 4:a=Ye,u=Ot,Ye=i.stateNode.containerInfo,Ot=!0,hr(e,t,i),Ye=a,Ot=u;break;case 0:case 11:case 14:case 15:if(!rt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){u=a=a.next;do{var d=u,p=d.destroy;d=d.tag,p!==void 0&&((d&2)!==0||(d&4)!==0)&&Ta(i,t,p),u=u.next}while(u!==a)}hr(e,t,i);break;case 1:if(!rt&&(cn(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(y){ze(i,t,y)}hr(e,t,i);break;case 21:hr(e,t,i);break;case 22:i.mode&1?(rt=(a=rt)||i.memoizedState!==null,hr(e,t,i),rt=a):hr(e,t,i);break;default:hr(e,t,i)}}function nd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new kp),t.forEach(function(a){var u=Ap.bind(null,e,a);i.has(a)||(i.add(a),a.then(u,u))})}}function Pt(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];try{var d=e,p=t,y=p;e:for(;y!==null;){switch(y.tag){case 5:Ye=y.stateNode,Ot=!1;break e;case 3:Ye=y.stateNode.containerInfo,Ot=!0;break e;case 4:Ye=y.stateNode.containerInfo,Ot=!0;break e}y=y.return}if(Ye===null)throw Error(n(160));rd(d,p,u),Ye=null,Ot=!1;var _=u.alternate;_!==null&&(_.return=null),u.return=null}catch(j){ze(u,t,j)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sd(t,e),t=t.sibling}function sd(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(t,e),Ut(e),a&4){try{as(3,e,e.return),wi(3,e)}catch(Q){ze(e,e.return,Q)}try{as(5,e,e.return)}catch(Q){ze(e,e.return,Q)}}break;case 1:Pt(t,e),Ut(e),a&512&&i!==null&&cn(i,i.return);break;case 5:if(Pt(t,e),Ut(e),a&512&&i!==null&&cn(i,i.return),e.flags&32){var u=e.stateNode;try{jn(u,"")}catch(Q){ze(e,e.return,Q)}}if(a&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,p=i!==null?i.memoizedProps:d,y=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{y==="input"&&d.type==="radio"&&d.name!=null&&Rl(u,d),io(y,p);var j=io(y,d);for(p=0;p<_.length;p+=2){var z=_[p],$=_[p+1];z==="style"?Ul(u,$):z==="dangerouslySetInnerHTML"?Ml(u,$):z==="children"?jn(u,$):A(u,z,$,j)}switch(y){case"input":eo(u,d);break;case"textarea":zl(u,d);break;case"select":var I=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var K=d.value;K!=null?Br(u,!!d.multiple,K,!1):I!==!!d.multiple&&(d.defaultValue!=null?Br(u,!!d.multiple,d.defaultValue,!0):Br(u,!!d.multiple,d.multiple?[]:"",!1))}u[Jn]=d}catch(Q){ze(e,e.return,Q)}}break;case 6:if(Pt(t,e),Ut(e),a&4){if(e.stateNode===null)throw Error(n(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(Q){ze(e,e.return,Q)}}break;case 3:if(Pt(t,e),Ut(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Ln(t.containerInfo)}catch(Q){ze(e,e.return,Q)}break;case 4:Pt(t,e),Ut(e);break;case 13:Pt(t,e),Ut(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(Ra=$e())),a&4&&nd(e);break;case 22:if(z=i!==null&&i.memoizedState!==null,e.mode&1?(rt=(j=rt)||z,Pt(t,e),rt=j):Pt(t,e),Ut(e),a&8192){if(j=e.memoizedState!==null,(e.stateNode.isHidden=j)&&!z&&(e.mode&1)!==0)for(G=e,z=e.child;z!==null;){for($=G=z;G!==null;){switch(I=G,K=I.child,I.tag){case 0:case 11:case 14:case 15:as(4,I,I.return);break;case 1:cn(I,I.return);var Y=I.stateNode;if(typeof Y.componentWillUnmount=="function"){a=I,i=I.return;try{t=a,Y.props=t.memoizedProps,Y.state=t.memoizedState,Y.componentWillUnmount()}catch(Q){ze(a,i,Q)}}break;case 5:cn(I,I.return);break;case 22:if(I.memoizedState!==null){ad($);continue}}K!==null?(K.return=I,G=K):ad($)}z=z.sibling}e:for(z=null,$=e;;){if($.tag===5){if(z===null){z=$;try{u=$.stateNode,j?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(y=$.stateNode,_=$.memoizedProps.style,p=_!=null&&_.hasOwnProperty("display")?_.display:null,y.style.display=Ll("display",p))}catch(Q){ze(e,e.return,Q)}}}else if($.tag===6){if(z===null)try{$.stateNode.nodeValue=j?"":$.memoizedProps}catch(Q){ze(e,e.return,Q)}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===e)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===e)break e;for(;$.sibling===null;){if($.return===null||$.return===e)break e;z===$&&(z=null),$=$.return}z===$&&(z=null),$.sibling.return=$.return,$=$.sibling}}break;case 19:Pt(t,e),Ut(e),a&4&&nd(e);break;case 21:break;default:Pt(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(ed(i)){var a=i;break e}i=i.return}throw Error(n(160))}switch(a.tag){case 5:var u=a.stateNode;a.flags&32&&(jn(u,""),a.flags&=-33);var d=td(e);Na(e,d,u);break;case 3:case 4:var p=a.stateNode.containerInfo,y=td(e);ja(e,y,p);break;default:throw Error(n(161))}}catch(_){ze(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ep(e,t,i){G=e,id(e)}function id(e,t,i){for(var a=(e.mode&1)!==0;G!==null;){var u=G,d=u.child;if(u.tag===22&&a){var p=u.memoizedState!==null||yi;if(!p){var y=u.alternate,_=y!==null&&y.memoizedState!==null||rt;y=yi;var j=rt;if(yi=p,(rt=_)&&!j)for(G=u;G!==null;)p=G,_=p.child,p.tag===22&&p.memoizedState!==null?ld(u):_!==null?(_.return=p,G=_):ld(u);for(;d!==null;)G=d,id(d),d=d.sibling;G=u,yi=y,rt=j}od(e)}else(u.subtreeFlags&8772)!==0&&d!==null?(d.return=u,G=d):od(e)}}function od(e){for(;G!==null;){var t=G;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:rt||wi(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!rt)if(i===null)a.componentDidMount();else{var u=t.elementType===t.type?i.memoizedProps:Nt(t.type,i.memoizedProps);a.componentDidUpdate(u,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&ac(t,d,a);break;case 3:var p=t.updateQueue;if(p!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}ac(t,p,i)}break;case 5:var y=t.stateNode;if(i===null&&t.flags&4){i=y;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&i.focus();break;case"img":_.src&&(i.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var j=t.alternate;if(j!==null){var z=j.memoizedState;if(z!==null){var $=z.dehydrated;$!==null&&Ln($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}rt||t.flags&512&&Ca(t)}catch(I){ze(t,t.return,I)}}if(t===e){G=null;break}if(i=t.sibling,i!==null){i.return=t.return,G=i;break}G=t.return}}function ad(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var i=t.sibling;if(i!==null){i.return=t.return,G=i;break}G=t.return}}function ld(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{wi(4,t)}catch(_){ze(t,i,_)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var u=t.return;try{a.componentDidMount()}catch(_){ze(t,u,_)}}var d=t.return;try{Ca(t)}catch(_){ze(t,d,_)}break;case 5:var p=t.return;try{Ca(t)}catch(_){ze(t,p,_)}}}catch(_){ze(t,t.return,_)}if(t===e){G=null;break}var y=t.sibling;if(y!==null){y.return=t.return,G=y;break}G=t.return}}var Tp=Math.ceil,_i=V.ReactCurrentDispatcher,Oa=V.ReactCurrentOwner,St=V.ReactCurrentBatchConfig,_e=0,Ke=null,Ue=null,Je=0,gt=0,dn=ar(0),He=0,ls=null,Or=0,xi=0,Pa=0,us=null,lt=null,Ra=0,hn=1/0,Jt=null,bi=!1,Aa=null,fr=null,ki=!1,pr=null,Si=0,cs=0,Ia=null,Ei=-1,Ti=0;function st(){return(_e&6)!==0?$e():Ei!==-1?Ei:Ei=$e()}function mr(e){return(e.mode&1)===0?1:(_e&2)!==0&&Je!==0?Je&-Je:up.transition!==null?(Ti===0&&(Ti=tu()),Ti):(e=Se,e!==0||(e=window.event,e=e===void 0?16:cu(e.type)),e)}function Rt(e,t,i,a){if(50<cs)throw cs=0,Ia=null,Error(n(185));In(e,i,a),((_e&2)===0||e!==Ke)&&(e===Ke&&((_e&2)===0&&(xi|=i),He===4&&gr(e,Je)),ut(e,a),i===1&&_e===0&&(t.mode&1)===0&&(hn=$e()+500,ei&&ur()))}function ut(e,t){var i=e.callbackNode;uf(e,t);var a=zs(e,e===Ke?Je:0);if(a===0)i!==null&&Xl(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&Xl(i),t===1)e.tag===0?lp(cd.bind(null,e)):Yu(cd.bind(null,e)),sp(function(){(_e&6)===0&&ur()}),i=null;else{switch(ru(a)){case 1:i=fo;break;case 4:i=Zl;break;case 16:i=Ps;break;case 536870912:i=eu;break;default:i=Ps}i=yd(i,ud.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function ud(e,t){if(Ei=-1,Ti=0,(_e&6)!==0)throw Error(n(327));var i=e.callbackNode;if(fn()&&e.callbackNode!==i)return null;var a=zs(e,e===Ke?Je:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Ci(e,a);else{t=a;var u=_e;_e|=2;var d=hd();(Ke!==e||Je!==t)&&(Jt=null,hn=$e()+500,Rr(e,t));do try{Np();break}catch(y){dd(e,y)}while(!0);Xo(),_i.current=d,_e=u,Ue!==null?t=0:(Ke=null,Je=0,t=He)}if(t!==0){if(t===2&&(u=po(e),u!==0&&(a=u,t=za(e,u))),t===1)throw i=ls,Rr(e,0),gr(e,a),ut(e,$e()),i;if(t===6)gr(e,a);else{if(u=e.current.alternate,(a&30)===0&&!Cp(u)&&(t=Ci(e,a),t===2&&(d=po(e),d!==0&&(a=d,t=za(e,d))),t===1))throw i=ls,Rr(e,0),gr(e,a),ut(e,$e()),i;switch(e.finishedWork=u,e.finishedLanes=a,t){case 0:case 1:throw Error(n(345));case 2:Ar(e,lt,Jt);break;case 3:if(gr(e,a),(a&130023424)===a&&(t=Ra+500-$e(),10<t)){if(zs(e,0)!==0)break;if(u=e.suspendedLanes,(u&a)!==a){st(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Fo(Ar.bind(null,e,lt,Jt),t);break}Ar(e,lt,Jt);break;case 4:if(gr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,u=-1;0<a;){var p=31-Tt(a);d=1<<p,p=t[p],p>u&&(u=p),a&=~d}if(a=u,a=$e()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Tp(a/1960))-a,10<a){e.timeoutHandle=Fo(Ar.bind(null,e,lt,Jt),a);break}Ar(e,lt,Jt);break;case 5:Ar(e,lt,Jt);break;default:throw Error(n(329))}}}return ut(e,$e()),e.callbackNode===i?ud.bind(null,e):null}function za(e,t){var i=us;return e.current.memoizedState.isDehydrated&&(Rr(e,t).flags|=256),e=Ci(e,t),e!==2&&(t=lt,lt=i,t!==null&&Da(t)),e}function Da(e){lt===null?lt=e:lt.push.apply(lt,e)}function Cp(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var u=i[a],d=u.getSnapshot;u=u.value;try{if(!Ct(d(),u))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gr(e,t){for(t&=~Pa,t&=~xi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Tt(t),a=1<<i;e[i]=-1,t&=~a}}function cd(e){if((_e&6)!==0)throw Error(n(327));fn();var t=zs(e,0);if((t&1)===0)return ut(e,$e()),null;var i=Ci(e,t);if(e.tag!==0&&i===2){var a=po(e);a!==0&&(t=a,i=za(e,a))}if(i===1)throw i=ls,Rr(e,0),gr(e,t),ut(e,$e()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ar(e,lt,Jt),ut(e,$e()),null}function $a(e,t){var i=_e;_e|=1;try{return e(t)}finally{_e=i,_e===0&&(hn=$e()+500,ei&&ur())}}function Pr(e){pr!==null&&pr.tag===0&&(_e&6)===0&&fn();var t=_e;_e|=1;var i=St.transition,a=Se;try{if(St.transition=null,Se=1,e)return e()}finally{Se=a,St.transition=i,_e=t,(_e&6)===0&&ur()}}function Ma(){gt=dn.current,Ne(dn)}function Rr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,np(i)),Ue!==null)for(i=Ue.return;i!==null;){var a=i;switch(Ko(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Xs();break;case 3:ln(),Ne(it),Ne(Ze),oa();break;case 5:sa(a);break;case 4:ln();break;case 13:Ne(Re);break;case 19:Ne(Re);break;case 10:Zo(a.type._context);break;case 22:case 23:Ma()}i=i.return}if(Ke=e,Ue=e=vr(e.current,null),Je=gt=t,He=0,ls=null,Pa=xi=Or=0,lt=us=null,Cr!==null){for(t=0;t<Cr.length;t++)if(i=Cr[t],a=i.interleaved,a!==null){i.interleaved=null;var u=a.next,d=i.pending;if(d!==null){var p=d.next;d.next=u,a.next=p}i.pending=a}Cr=null}return e}function dd(e,t){do{var i=Ue;try{if(Xo(),ci.current=pi,di){for(var a=Ae.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}di=!1}if(Nr=0,qe=We=Ae=null,rs=!1,ns=0,Oa.current=null,i===null||i.return===null){He=1,ls=t,Ue=null;break}e:{var d=e,p=i.return,y=i,_=t;if(t=Je,y.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var j=_,z=y,$=z.tag;if((z.mode&1)===0&&($===0||$===11||$===15)){var I=z.alternate;I?(z.updateQueue=I.updateQueue,z.memoizedState=I.memoizedState,z.lanes=I.lanes):(z.updateQueue=null,z.memoizedState=null)}var K=Dc(p);if(K!==null){K.flags&=-257,$c(K,p,y,d,t),K.mode&1&&zc(d,j,t),t=K,_=j;var Y=t.updateQueue;if(Y===null){var Q=new Set;Q.add(_),t.updateQueue=Q}else Y.add(_);break e}else{if((t&1)===0){zc(d,j,t),La();break e}_=Error(n(426))}}else if(Pe&&y.mode&1){var Me=Dc(p);if(Me!==null){(Me.flags&65536)===0&&(Me.flags|=256),$c(Me,p,y,d,t),Jo(un(_,y));break e}}d=_=un(_,y),He!==4&&(He=2),us===null?us=[d]:us.push(d),d=p;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var S=Ac(d,_,t);oc(d,S);break e;case 1:y=_;var x=d.type,C=d.stateNode;if((d.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(fr===null||!fr.has(C)))){d.flags|=65536,t&=-t,d.lanes|=t;var L=Ic(d,y,t);oc(d,L);break e}}d=d.return}while(d!==null)}pd(i)}catch(ee){t=ee,Ue===i&&i!==null&&(Ue=i=i.return);continue}break}while(!0)}function hd(){var e=_i.current;return _i.current=pi,e===null?pi:e}function La(){(He===0||He===3||He===2)&&(He=4),Ke===null||(Or&268435455)===0&&(xi&268435455)===0||gr(Ke,Je)}function Ci(e,t){var i=_e;_e|=2;var a=hd();(Ke!==e||Je!==t)&&(Jt=null,Rr(e,t));do try{jp();break}catch(u){dd(e,u)}while(!0);if(Xo(),_e=i,_i.current=a,Ue!==null)throw Error(n(261));return Ke=null,Je=0,He}function jp(){for(;Ue!==null;)fd(Ue)}function Np(){for(;Ue!==null&&!Zh();)fd(Ue)}function fd(e){var t=vd(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?pd(e):Ue=t,Oa.current=null}function pd(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=xp(i,t,gt),i!==null){Ue=i;return}}else{if(i=bp(i,t),i!==null){i.flags&=32767,Ue=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,Ue=null;return}}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);He===0&&(He=5)}function Ar(e,t,i){var a=Se,u=St.transition;try{St.transition=null,Se=1,Op(e,t,i,a)}finally{St.transition=u,Se=a}return null}function Op(e,t,i,a){do fn();while(pr!==null);if((_e&6)!==0)throw Error(n(327));i=e.finishedWork;var u=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(cf(e,d),e===Ke&&(Ue=Ke=null,Je=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||ki||(ki=!0,yd(Ps,function(){return fn(),null})),d=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||d){d=St.transition,St.transition=null;var p=Se;Se=1;var y=_e;_e|=4,Oa.current=null,Sp(e,i),sd(i,e),Jf(Lo),Ms=!!Mo,Lo=Mo=null,e.current=i,Ep(i),ef(),_e=y,Se=p,St.transition=d}else e.current=i;if(ki&&(ki=!1,pr=e,Si=u),d=e.pendingLanes,d===0&&(fr=null),nf(i.stateNode),ut(e,$e()),t!==null)for(a=e.onRecoverableError,i=0;i<t.length;i++)u=t[i],a(u.value,{componentStack:u.stack,digest:u.digest});if(bi)throw bi=!1,e=Aa,Aa=null,e;return(Si&1)!==0&&e.tag!==0&&fn(),d=e.pendingLanes,(d&1)!==0?e===Ia?cs++:(cs=0,Ia=e):cs=0,ur(),null}function fn(){if(pr!==null){var e=ru(Si),t=St.transition,i=Se;try{if(St.transition=null,Se=16>e?16:e,pr===null)var a=!1;else{if(e=pr,pr=null,Si=0,(_e&6)!==0)throw Error(n(331));var u=_e;for(_e|=4,G=e.current;G!==null;){var d=G,p=d.child;if((G.flags&16)!==0){var y=d.deletions;if(y!==null){for(var _=0;_<y.length;_++){var j=y[_];for(G=j;G!==null;){var z=G;switch(z.tag){case 0:case 11:case 15:as(8,z,d)}var $=z.child;if($!==null)$.return=z,G=$;else for(;G!==null;){z=G;var I=z.sibling,K=z.return;if(Zc(z),z===j){G=null;break}if(I!==null){I.return=K,G=I;break}G=K}}}var Y=d.alternate;if(Y!==null){var Q=Y.child;if(Q!==null){Y.child=null;do{var Me=Q.sibling;Q.sibling=null,Q=Me}while(Q!==null)}}G=d}}if((d.subtreeFlags&2064)!==0&&p!==null)p.return=d,G=p;else e:for(;G!==null;){if(d=G,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:as(9,d,d.return)}var S=d.sibling;if(S!==null){S.return=d.return,G=S;break e}G=d.return}}var x=e.current;for(G=x;G!==null;){p=G;var C=p.child;if((p.subtreeFlags&2064)!==0&&C!==null)C.return=p,G=C;else e:for(p=x;G!==null;){if(y=G,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:wi(9,y)}}catch(ee){ze(y,y.return,ee)}if(y===p){G=null;break e}var L=y.sibling;if(L!==null){L.return=y.return,G=L;break e}G=y.return}}if(_e=u,ur(),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Rs,e)}catch{}a=!0}return a}finally{Se=i,St.transition=t}}return!1}function md(e,t,i){t=un(i,t),t=Ac(e,t,1),e=dr(e,t,1),t=st(),e!==null&&(In(e,1,t),ut(e,t))}function ze(e,t,i){if(e.tag===3)md(e,e,i);else for(;t!==null;){if(t.tag===3){md(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(fr===null||!fr.has(a))){e=un(i,e),e=Ic(t,e,1),t=dr(t,e,1),e=st(),t!==null&&(In(t,1,e),ut(t,e));break}}t=t.return}}function Pp(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=st(),e.pingedLanes|=e.suspendedLanes&i,Ke===e&&(Je&i)===i&&(He===4||He===3&&(Je&130023424)===Je&&500>$e()-Ra?Rr(e,0):Pa|=i),ut(e,t)}function gd(e,t){t===0&&((e.mode&1)===0?t=1:(t=Is,Is<<=1,(Is&130023424)===0&&(Is=4194304)));var i=st();e=Kt(e,t),e!==null&&(In(e,t,i),ut(e,i))}function Rp(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),gd(e,i)}function Ap(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(n(314))}a!==null&&a.delete(t),gd(e,i)}var vd;vd=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)at=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return at=!1,_p(e,t,i);at=(e.flags&131072)!==0}else at=!1,Pe&&(t.flags&1048576)!==0&&Ju(t,ri,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;vi(e,t),e=t.pendingProps;var u=en(t,Ze.current);an(t,i),u=ua(null,t,a,e,u,i);var d=ca();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(a)?(d=!0,Zs(t)):d=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,ra(t),u.updater=mi,t.stateNode=u,u._reactInternals=t,ga(t,a,e,i),t=_a(null,t,a,!0,d,i)):(t.tag=0,Pe&&d&&qo(t),nt(null,t,u,i),t=t.child),t;case 16:a=t.elementType;e:{switch(vi(e,t),e=t.pendingProps,u=a._init,a=u(a._payload),t.type=a,u=t.tag=zp(a),e=Nt(a,e),u){case 0:t=wa(null,t,a,e,i);break e;case 1:t=Wc(null,t,a,e,i);break e;case 11:t=Mc(null,t,a,e,i);break e;case 14:t=Lc(null,t,a,Nt(a.type,e),i);break e}throw Error(n(306,a,""))}return t;case 0:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:Nt(a,u),wa(e,t,a,u,i);case 1:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:Nt(a,u),Wc(e,t,a,u,i);case 3:e:{if(Hc(t),e===null)throw Error(n(387));a=t.pendingProps,d=t.memoizedState,u=d.element,ic(e,t),li(t,a,null,i);var p=t.memoizedState;if(a=p.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){u=un(Error(n(423)),t),t=Vc(e,t,a,i,u);break e}else if(a!==u){u=un(Error(n(424)),t),t=Vc(e,t,a,i,u);break e}else for(mt=or(t.stateNode.containerInfo.firstChild),pt=t,Pe=!0,jt=null,i=nc(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(nn(),a===u){t=Yt(e,t,i);break e}nt(e,t,a,i)}t=t.child}return t;case 5:return lc(t),e===null&&Yo(t),a=t.type,u=t.pendingProps,d=e!==null?e.memoizedProps:null,p=u.children,Uo(a,u)?p=null:d!==null&&Uo(a,d)&&(t.flags|=32),Bc(e,t),nt(e,t,p,i),t.child;case 6:return e===null&&Yo(t),null;case 13:return qc(e,t,i);case 4:return na(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=sn(t,null,a,i):nt(e,t,a,i),t.child;case 11:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:Nt(a,u),Mc(e,t,a,u,i);case 7:return nt(e,t,t.pendingProps,i),t.child;case 8:return nt(e,t,t.pendingProps.children,i),t.child;case 12:return nt(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,u=t.pendingProps,d=t.memoizedProps,p=u.value,Te(ii,a._currentValue),a._currentValue=p,d!==null)if(Ct(d.value,p)){if(d.children===u.children&&!it.current){t=Yt(e,t,i);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var y=d.dependencies;if(y!==null){p=d.child;for(var _=y.firstContext;_!==null;){if(_.context===a){if(d.tag===1){_=Gt(-1,i&-i),_.tag=2;var j=d.updateQueue;if(j!==null){j=j.shared;var z=j.pending;z===null?_.next=_:(_.next=z.next,z.next=_),j.pending=_}}d.lanes|=i,_=d.alternate,_!==null&&(_.lanes|=i),ea(d.return,i,t),y.lanes|=i;break}_=_.next}}else if(d.tag===10)p=d.type===t.type?null:d.child;else if(d.tag===18){if(p=d.return,p===null)throw Error(n(341));p.lanes|=i,y=p.alternate,y!==null&&(y.lanes|=i),ea(p,i,t),p=d.sibling}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===t){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}nt(e,t,u.children,i),t=t.child}return t;case 9:return u=t.type,a=t.pendingProps.children,an(t,i),u=bt(u),a=a(u),t.flags|=1,nt(e,t,a,i),t.child;case 14:return a=t.type,u=Nt(a,t.pendingProps),u=Nt(a.type,u),Lc(e,t,a,u,i);case 15:return Uc(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:Nt(a,u),vi(e,t),t.tag=1,ot(a)?(e=!0,Zs(t)):e=!1,an(t,i),Pc(t,a,u),ga(t,a,u,i),_a(null,t,a,!0,e,i);case 19:return Gc(e,t,i);case 22:return Fc(e,t,i)}throw Error(n(156,t.tag))};function yd(e,t){return Ql(e,t)}function Ip(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,i,a){return new Ip(e,t,i,a)}function Ua(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zp(e){if(typeof e=="function")return Ua(e)?1:0;if(e!=null){if(e=e.$$typeof,e===H)return 11;if(e===pe)return 14}return 2}function vr(e,t){var i=e.alternate;return i===null?(i=Et(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function ji(e,t,i,a,u,d){var p=2;if(a=e,typeof e=="function")Ua(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case he:return Ir(i.children,u,d,t);case B:p=8,u|=8;break;case W:return e=Et(12,i,t,u|2),e.elementType=W,e.lanes=d,e;case se:return e=Et(13,i,t,u),e.elementType=se,e.lanes=d,e;case ve:return e=Et(19,i,t,u),e.elementType=ve,e.lanes=d,e;case X:return Ni(i,u,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case te:p=10;break e;case ue:p=9;break e;case H:p=11;break e;case pe:p=14;break e;case ne:p=16,a=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=Et(p,i,t,u),t.elementType=e,t.type=a,t.lanes=d,t}function Ir(e,t,i,a){return e=Et(7,e,a,t),e.lanes=i,e}function Ni(e,t,i,a){return e=Et(22,e,a,t),e.elementType=X,e.lanes=i,e.stateNode={isHidden:!1},e}function Fa(e,t,i){return e=Et(6,e,null,t),e.lanes=i,e}function Ba(e,t,i){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dp(e,t,i,a,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mo(0),this.expirationTimes=mo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mo(0),this.identifierPrefix=a,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Wa(e,t,i,a,u,d,p,y,_){return e=new Dp(e,t,i,y,_),t===1?(t=1,d===!0&&(t|=8)):t=0,d=Et(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ra(d),e}function $p(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}}function wd(e){if(!e)return lr;e=e._reactInternals;e:{if(br(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if(ot(i))return Ku(e,i,t)}return t}function _d(e,t,i,a,u,d,p,y,_){return e=Wa(i,a,!0,e,u,d,p,y,_),e.context=wd(null),i=e.current,a=st(),u=mr(i),d=Gt(a,u),d.callback=t??null,dr(i,d,u),e.current.lanes=u,In(e,u,a),ut(e,a),e}function Oi(e,t,i,a){var u=t.current,d=st(),p=mr(u);return i=wd(i),t.context===null?t.context=i:t.pendingContext=i,t=Gt(d,p),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=dr(u,t,p),e!==null&&(Rt(e,u,p,d),ai(e,u,p)),p}function Pi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Ha(e,t){xd(e,t),(e=e.alternate)&&xd(e,t)}function Mp(){return null}var bd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Va(e){this._internalRoot=e}Ri.prototype.render=Va.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));Oi(e,t,null,null)},Ri.prototype.unmount=Va.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pr(function(){Oi(null,e,null,null)}),t[Wt]=null}};function Ri(e){this._internalRoot=e}Ri.prototype.unstable_scheduleHydration=function(e){if(e){var t=iu();e={blockedOn:null,target:e,priority:t};for(var i=0;i<nr.length&&t!==0&&t<nr[i].priority;i++);nr.splice(i,0,e),i===0&&lu(e)}};function qa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ai(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kd(){}function Lp(e,t,i,a,u){if(u){if(typeof a=="function"){var d=a;a=function(){var j=Pi(p);d.call(j)}}var p=_d(t,a,e,0,null,!1,!1,"",kd);return e._reactRootContainer=p,e[Wt]=p.current,Gn(e.nodeType===8?e.parentNode:e),Pr(),p}for(;u=e.lastChild;)e.removeChild(u);if(typeof a=="function"){var y=a;a=function(){var j=Pi(_);y.call(j)}}var _=Wa(e,0,!1,null,null,!1,!1,"",kd);return e._reactRootContainer=_,e[Wt]=_.current,Gn(e.nodeType===8?e.parentNode:e),Pr(function(){Oi(t,_,i,a)}),_}function Ii(e,t,i,a,u){var d=i._reactRootContainer;if(d){var p=d;if(typeof u=="function"){var y=u;u=function(){var _=Pi(p);y.call(_)}}Oi(t,p,e,u)}else p=Lp(i,t,e,u,a);return Pi(p)}nu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=An(t.pendingLanes);i!==0&&(go(t,i|1),ut(t,$e()),(_e&6)===0&&(hn=$e()+500,ur()))}break;case 13:Pr(function(){var a=Kt(e,1);if(a!==null){var u=st();Rt(a,e,1,u)}}),Ha(e,1)}},vo=function(e){if(e.tag===13){var t=Kt(e,134217728);if(t!==null){var i=st();Rt(t,e,134217728,i)}Ha(e,134217728)}},su=function(e){if(e.tag===13){var t=mr(e),i=Kt(e,t);if(i!==null){var a=st();Rt(i,e,t,a)}Ha(e,t)}},iu=function(){return Se},ou=function(e,t){var i=Se;try{return Se=e,t()}finally{Se=i}},lo=function(e,t,i){switch(t){case"input":if(eo(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var u=Qs(a);if(!u)throw Error(n(90));Ol(a),eo(a,u)}}}break;case"textarea":zl(e,i);break;case"select":t=i.value,t!=null&&Br(e,!!i.multiple,t,!1)}},Hl=$a,Vl=Pr;var Up={usingClientEntryPoint:!1,Events:[Qn,Xr,Qs,Bl,Wl,$a]},ds={findFiberByHostInstance:kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fp={bundleType:ds.bundleType,version:ds.version,rendererPackageName:ds.rendererPackageName,rendererConfig:ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yl(e),e===null?null:e.stateNode},findFiberByHostInstance:ds.findFiberByHostInstance||Mp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zi.isDisabled&&zi.supportsFiber)try{Rs=zi.inject(Fp),Dt=zi}catch{}}return ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Up,ct.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qa(t))throw Error(n(200));return $p(e,t,null,i)},ct.createRoot=function(e,t){if(!qa(e))throw Error(n(299));var i=!1,a="",u=bd;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Wa(e,1,!1,null,null,i,!1,a,u),e[Wt]=t.current,Gn(e.nodeType===8?e.parentNode:e),new Va(t)},ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=Yl(t),e=e===null?null:e.stateNode,e},ct.flushSync=function(e){return Pr(e)},ct.hydrate=function(e,t,i){if(!Ai(t))throw Error(n(200));return Ii(null,e,t,!0,i)},ct.hydrateRoot=function(e,t,i){if(!qa(e))throw Error(n(405));var a=i!=null&&i.hydratedSources||null,u=!1,d="",p=bd;if(i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),t=_d(t,null,e,1,i??null,u,!1,d,p),e[Wt]=t.current,Gn(e),a)for(e=0;e<a.length;e++)i=a[e],u=i._getVersion,u=u(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,u]:t.mutableSourceEagerHydrationData.push(i,u);return new Ri(t)},ct.render=function(e,t,i){if(!Ai(t))throw Error(n(200));return Ii(null,e,t,!1,i)},ct.unmountComponentAtNode=function(e){if(!Ai(e))throw Error(n(40));return e._reactRootContainer?(Pr(function(){Ii(null,null,e,!1,function(){e._reactRootContainer=null,e[Wt]=null})}),!0):!1},ct.unstable_batchedUpdates=$a,ct.unstable_renderSubtreeIntoContainer=function(e,t,i,a){if(!Ai(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return Ii(e,t,i,!1,a)},ct.version="18.3.1-next-f1338f8080-20240426",ct}var Pd;function Yp(){if(Pd)return Ya.exports;Pd=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Ya.exports=Gp(),Ya.exports}var Rd;function Jp(){if(Rd)return Di;Rd=1;var s=Yp();return Di.createRoot=s.createRoot,Di.hydrateRoot=s.hydrateRoot,Di}var Qp=Jp();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ch=(...s)=>s.filter((r,n,o)=>!!r&&r.trim()!==""&&o.indexOf(r)===n).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=F.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:l="",children:c,iconNode:h,...f},m)=>F.createElement("svg",{ref:m,...Zp,width:r,height:r,stroke:s,strokeWidth:o?Number(n)*24/Number(r):n,className:ch("lucide",l),...f},[...h.map(([v,w])=>F.createElement(v,w)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(s,r)=>{const n=F.forwardRef(({className:o,...l},c)=>F.createElement(em,{ref:c,iconNode:r,className:ch(`lucide-${Xp(s)}`,o),...l}));return n.displayName=`${s}`,n};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=Be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=Be("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=Be("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=Be("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=Be("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=Be("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=Be("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=Be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=Be("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=Be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=Be("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=Be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=Be("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=Be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function dt(s){const r=Object.prototype.toString.call(s);return s instanceof Date||typeof s=="object"&&r==="[object Date]"?new s.constructor(+s):typeof s=="number"||r==="[object Number]"||typeof s=="string"||r==="[object String]"?new Date(s):new Date(NaN)}function Xt(s,r){return s instanceof Date?new s.constructor(r):new Date(r)}function um(s,r){const n=dt(s);return isNaN(r)?Xt(s,NaN):(n.setDate(n.getDate()+r),n)}const yh=6048e5,cm=864e5,wh=6e4,_h=36e5;let dm={};function Yi(){return dm}function ys(s,r){var f,m,v,w;const n=Yi(),o=(r==null?void 0:r.weekStartsOn)??((m=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??0,l=dt(s),c=l.getDay(),h=(c<o?7:0)+c-o;return l.setDate(l.getDate()-h),l.setHours(0,0,0,0),l}function Wi(s){return ys(s,{weekStartsOn:1})}function xh(s){const r=dt(s),n=r.getFullYear(),o=Xt(s,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const l=Wi(o),c=Xt(s,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const h=Wi(c);return r.getTime()>=l.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function Hi(s){const r=dt(s);return r.setHours(0,0,0,0),r}function Ad(s){const r=dt(s),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+s-+n}function bh(s,r){const n=Hi(s),o=Hi(r),l=+n-Ad(n),c=+o-Ad(o);return Math.round((l-c)/cm)}function hm(s){const r=xh(s),n=Xt(s,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Wi(n)}function kh(s){return Xt(s,Date.now())}function Sh(s,r){const n=Hi(s),o=Hi(r);return+n==+o}function fm(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function pm(s){if(!fm(s)&&typeof s!="number")return!1;const r=dt(s);return!isNaN(Number(r))}function mm(s,r){const n=dt(s),o=dt(r),l=Id(n,o),c=Math.abs(bh(n,o));n.setDate(n.getDate()-l*c);const h=+(Id(n,o)===-l),f=l*(c-h);return f===0?0:f}function Id(s,r){const n=s.getFullYear()-r.getFullYear()||s.getMonth()-r.getMonth()||s.getDate()-r.getDate()||s.getHours()-r.getHours()||s.getMinutes()-r.getMinutes()||s.getSeconds()-r.getSeconds()||s.getMilliseconds()-r.getMilliseconds();return n<0?-1:n>0?1:n}function gm(s){const r=dt(s),n=Xt(s,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}const vm={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ym=(s,r,n)=>{let o;const l=vm[s];return typeof l=="string"?o=l:r===1?o=l.one:o=l.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function En(s){return(r={})=>{const n=r.width?String(r.width):s.defaultWidth;return s.formats[n]||s.formats[s.defaultWidth]}}const wm={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_m={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xm={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bm={date:En({formats:wm,defaultWidth:"full"}),time:En({formats:_m,defaultWidth:"full"}),dateTime:En({formats:xm,defaultWidth:"full"})},km={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Sm=(s,r,n,o)=>km[s];function Ft(s){return(r,n)=>{const o=n!=null&&n.context?String(n.context):"standalone";let l;if(o==="formatting"&&s.formattingValues){const h=s.defaultFormattingWidth||s.defaultWidth,f=n!=null&&n.width?String(n.width):h;l=s.formattingValues[f]||s.formattingValues[h]}else{const h=s.defaultWidth,f=n!=null&&n.width?String(n.width):s.defaultWidth;l=s.values[f]||s.values[h]}const c=s.argumentCallback?s.argumentCallback(r):r;return l[c]}}const Em={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Tm={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Cm={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jm={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Nm={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Om={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Pm=(s,r)=>{const n=Number(s),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Rm={ordinalNumber:Pm,era:Ft({values:Em,defaultWidth:"wide"}),quarter:Ft({values:Tm,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Ft({values:Cm,defaultWidth:"wide"}),day:Ft({values:jm,defaultWidth:"wide"}),dayPeriod:Ft({values:Nm,defaultWidth:"wide",formattingValues:Om,defaultFormattingWidth:"wide"})};function Bt(s){return(r,n={})=>{const o=n.width,l=o&&s.matchPatterns[o]||s.matchPatterns[s.defaultMatchWidth],c=r.match(l);if(!c)return null;const h=c[0],f=o&&s.parsePatterns[o]||s.parsePatterns[s.defaultParseWidth],m=Array.isArray(f)?Im(f,E=>E.test(h)):Am(f,E=>E.test(h));let v;v=s.valueCallback?s.valueCallback(m):m,v=n.valueCallback?n.valueCallback(v):v;const w=r.slice(h.length);return{value:v,rest:w}}}function Am(s,r){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n)&&r(s[n]))return n}function Im(s,r){for(let n=0;n<s.length;n++)if(r(s[n]))return n}function Eh(s){return(r,n={})=>{const o=r.match(s.matchPattern);if(!o)return null;const l=o[0],c=r.match(s.parsePattern);if(!c)return null;let h=s.valueCallback?s.valueCallback(c[0]):c[0];h=n.valueCallback?n.valueCallback(h):h;const f=r.slice(l.length);return{value:h,rest:f}}}const zm=/^(\d+)(th|st|nd|rd)?/i,Dm=/\d+/i,$m={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mm={any:[/^b/i,/^(a|c)/i]},Lm={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Um={any:[/1/i,/2/i,/3/i,/4/i]},Fm={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Bm={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wm={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hm={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vm={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qm={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Km={ordinalNumber:Eh({matchPattern:zm,parsePattern:Dm,valueCallback:s=>parseInt(s,10)}),era:Bt({matchPatterns:$m,defaultMatchWidth:"wide",parsePatterns:Mm,defaultParseWidth:"any"}),quarter:Bt({matchPatterns:Lm,defaultMatchWidth:"wide",parsePatterns:Um,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Bt({matchPatterns:Fm,defaultMatchWidth:"wide",parsePatterns:Bm,defaultParseWidth:"any"}),day:Bt({matchPatterns:Wm,defaultMatchWidth:"wide",parsePatterns:Hm,defaultParseWidth:"any"}),dayPeriod:Bt({matchPatterns:Vm,defaultMatchWidth:"any",parsePatterns:qm,defaultParseWidth:"any"})},Gm={code:"en-US",formatDistance:ym,formatLong:bm,formatRelative:Sm,localize:Rm,match:Km,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ym(s){const r=dt(s);return bh(r,gm(r))+1}function Jm(s){const r=dt(s),n=+Wi(r)-+hm(r);return Math.round(n/yh)+1}function Th(s,r){var w,E,k,N;const n=dt(s),o=n.getFullYear(),l=Yi(),c=(r==null?void 0:r.firstWeekContainsDate)??((E=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:E.firstWeekContainsDate)??l.firstWeekContainsDate??((N=(k=l.locale)==null?void 0:k.options)==null?void 0:N.firstWeekContainsDate)??1,h=Xt(s,0);h.setFullYear(o+1,0,c),h.setHours(0,0,0,0);const f=ys(h,r),m=Xt(s,0);m.setFullYear(o,0,c),m.setHours(0,0,0,0);const v=ys(m,r);return n.getTime()>=f.getTime()?o+1:n.getTime()>=v.getTime()?o:o-1}function Qm(s,r){var f,m,v,w;const n=Yi(),o=(r==null?void 0:r.firstWeekContainsDate)??((m=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,l=Th(s,r),c=Xt(s,0);return c.setFullYear(l,0,o),c.setHours(0,0,0,0),ys(c,r)}function Xm(s,r){const n=dt(s),o=+ys(n,r)-+Qm(n,r);return Math.round(o/yh)+1}function Ee(s,r){const n=s<0?"-":"",o=Math.abs(s).toString().padStart(r,"0");return n+o}const wr={y(s,r){const n=s.getFullYear(),o=n>0?n:1-n;return Ee(r==="yy"?o%100:o,r.length)},M(s,r){const n=s.getMonth();return r==="M"?String(n+1):Ee(n+1,2)},d(s,r){return Ee(s.getDate(),r.length)},a(s,r){const n=s.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(s,r){return Ee(s.getHours()%12||12,r.length)},H(s,r){return Ee(s.getHours(),r.length)},m(s,r){return Ee(s.getMinutes(),r.length)},s(s,r){return Ee(s.getSeconds(),r.length)},S(s,r){const n=r.length,o=s.getMilliseconds(),l=Math.trunc(o*Math.pow(10,n-3));return Ee(l,r.length)}},pn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zd={G:function(s,r,n){const o=s.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(s,r,n){if(r==="yo"){const o=s.getFullYear(),l=o>0?o:1-o;return n.ordinalNumber(l,{unit:"year"})}return wr.y(s,r)},Y:function(s,r,n,o){const l=Th(s,o),c=l>0?l:1-l;if(r==="YY"){const h=c%100;return Ee(h,2)}return r==="Yo"?n.ordinalNumber(c,{unit:"year"}):Ee(c,r.length)},R:function(s,r){const n=xh(s);return Ee(n,r.length)},u:function(s,r){const n=s.getFullYear();return Ee(n,r.length)},Q:function(s,r,n){const o=Math.ceil((s.getMonth()+1)/3);switch(r){case"Q":return String(o);case"QQ":return Ee(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(s,r,n){const o=Math.ceil((s.getMonth()+1)/3);switch(r){case"q":return String(o);case"qq":return Ee(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(s,r,n){const o=s.getMonth();switch(r){case"M":case"MM":return wr.M(s,r);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(s,r,n){const o=s.getMonth();switch(r){case"L":return String(o+1);case"LL":return Ee(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(s,r,n,o){const l=Xm(s,o);return r==="wo"?n.ordinalNumber(l,{unit:"week"}):Ee(l,r.length)},I:function(s,r,n){const o=Jm(s);return r==="Io"?n.ordinalNumber(o,{unit:"week"}):Ee(o,r.length)},d:function(s,r,n){return r==="do"?n.ordinalNumber(s.getDate(),{unit:"date"}):wr.d(s,r)},D:function(s,r,n){const o=Ym(s);return r==="Do"?n.ordinalNumber(o,{unit:"dayOfYear"}):Ee(o,r.length)},E:function(s,r,n){const o=s.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});case"EEEE":default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(s,r,n,o){const l=s.getDay(),c=(l-o.weekStartsOn+8)%7||7;switch(r){case"e":return String(c);case"ee":return Ee(c,2);case"eo":return n.ordinalNumber(c,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});case"eeee":default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(s,r,n,o){const l=s.getDay(),c=(l-o.weekStartsOn+8)%7||7;switch(r){case"c":return String(c);case"cc":return Ee(c,r.length);case"co":return n.ordinalNumber(c,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});case"cccc":default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(s,r,n){const o=s.getDay(),l=o===0?7:o;switch(r){case"i":return String(l);case"ii":return Ee(l,r.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});case"iiii":default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(s,r,n){const l=s.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(s,r,n){const o=s.getHours();let l;switch(o===12?l=pn.noon:o===0?l=pn.midnight:l=o/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(s,r,n){const o=s.getHours();let l;switch(o>=17?l=pn.evening:o>=12?l=pn.afternoon:o>=4?l=pn.morning:l=pn.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(s,r,n){if(r==="ho"){let o=s.getHours()%12;return o===0&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return wr.h(s,r)},H:function(s,r,n){return r==="Ho"?n.ordinalNumber(s.getHours(),{unit:"hour"}):wr.H(s,r)},K:function(s,r,n){const o=s.getHours()%12;return r==="Ko"?n.ordinalNumber(o,{unit:"hour"}):Ee(o,r.length)},k:function(s,r,n){let o=s.getHours();return o===0&&(o=24),r==="ko"?n.ordinalNumber(o,{unit:"hour"}):Ee(o,r.length)},m:function(s,r,n){return r==="mo"?n.ordinalNumber(s.getMinutes(),{unit:"minute"}):wr.m(s,r)},s:function(s,r,n){return r==="so"?n.ordinalNumber(s.getSeconds(),{unit:"second"}):wr.s(s,r)},S:function(s,r){return wr.S(s,r)},X:function(s,r,n){const o=s.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return $d(o);case"XXXX":case"XX":return $r(o);case"XXXXX":case"XXX":default:return $r(o,":")}},x:function(s,r,n){const o=s.getTimezoneOffset();switch(r){case"x":return $d(o);case"xxxx":case"xx":return $r(o);case"xxxxx":case"xxx":default:return $r(o,":")}},O:function(s,r,n){const o=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Dd(o,":");case"OOOO":default:return"GMT"+$r(o,":")}},z:function(s,r,n){const o=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Dd(o,":");case"zzzz":default:return"GMT"+$r(o,":")}},t:function(s,r,n){const o=Math.trunc(s.getTime()/1e3);return Ee(o,r.length)},T:function(s,r,n){const o=s.getTime();return Ee(o,r.length)}};function Dd(s,r=""){const n=s>0?"-":"+",o=Math.abs(s),l=Math.trunc(o/60),c=o%60;return c===0?n+String(l):n+String(l)+r+Ee(c,2)}function $d(s,r){return s%60===0?(s>0?"-":"+")+Ee(Math.abs(s)/60,2):$r(s,r)}function $r(s,r=""){const n=s>0?"-":"+",o=Math.abs(s),l=Ee(Math.trunc(o/60),2),c=Ee(o%60,2);return n+l+r+c}const Md=(s,r)=>{switch(s){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Ch=(s,r)=>{switch(s){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Zm=(s,r)=>{const n=s.match(/(P+)(p+)?/)||[],o=n[1],l=n[2];if(!l)return Md(s,r);let c;switch(o){case"P":c=r.dateTime({width:"short"});break;case"PP":c=r.dateTime({width:"medium"});break;case"PPP":c=r.dateTime({width:"long"});break;case"PPPP":default:c=r.dateTime({width:"full"});break}return c.replace("{{date}}",Md(o,r)).replace("{{time}}",Ch(l,r))},eg={p:Ch,P:Zm},tg=/^D+$/,rg=/^Y+$/,ng=["D","DD","YY","YYYY"];function sg(s){return tg.test(s)}function ig(s){return rg.test(s)}function og(s,r,n){const o=ag(s,r,n);if(console.warn(o),ng.includes(s))throw new RangeError(o)}function ag(s,r,n){const o=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${r}\`) for formatting ${o} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lg=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ug=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cg=/^'([^]*?)'?$/,dg=/''/g,hg=/[a-zA-Z]/;function fg(s,r,n){var w,E,k,N,T,O,P,M;const o=Yi(),l=(n==null?void 0:n.locale)??o.locale??Gm,c=(n==null?void 0:n.firstWeekContainsDate)??((E=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:E.firstWeekContainsDate)??o.firstWeekContainsDate??((N=(k=o.locale)==null?void 0:k.options)==null?void 0:N.firstWeekContainsDate)??1,h=(n==null?void 0:n.weekStartsOn)??((O=(T=n==null?void 0:n.locale)==null?void 0:T.options)==null?void 0:O.weekStartsOn)??o.weekStartsOn??((M=(P=o.locale)==null?void 0:P.options)==null?void 0:M.weekStartsOn)??0,f=dt(s);if(!pm(f))throw new RangeError("Invalid time value");let m=r.match(ug).map(D=>{const A=D[0];if(A==="p"||A==="P"){const V=eg[A];return V(D,l.formatLong)}return D}).join("").match(lg).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const A=D[0];if(A==="'")return{isToken:!1,value:pg(D)};if(zd[A])return{isToken:!0,value:D};if(A.match(hg))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:D}});l.localize.preprocessor&&(m=l.localize.preprocessor(f,m));const v={firstWeekContainsDate:c,weekStartsOn:h,locale:l};return m.map(D=>{if(!D.isToken)return D.value;const A=D.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&ig(A)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&sg(A))&&og(A,r,String(s));const V=zd[A[0]];return V(f,A,l.localize,v)}).join("")}function pg(s){const r=s.match(cg);return r?r[1].replace(dg,"'"):s}function Ld(s){return Sh(s,kh(s))}function mg(s,r){return um(s,-1)}function gg(s){return Sh(s,mg(kh(s)))}function fs(s,r){const o=_g(s);let l;if(o.date){const m=xg(o.date,2);l=bg(m.restDateString,m.year)}if(!l||isNaN(l.getTime()))return new Date(NaN);const c=l.getTime();let h=0,f;if(o.time&&(h=kg(o.time),isNaN(h)))return new Date(NaN);if(o.timezone){if(f=Sg(o.timezone),isNaN(f))return new Date(NaN)}else{const m=new Date(c+h),v=new Date(0);return v.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),v.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),v}return new Date(c+h+f)}const $i={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},vg=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,yg=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,wg=/^([+-])(\d{2})(?::?(\d{2}))?$/;function _g(s){const r={},n=s.split($i.dateTimeDelimiter);let o;if(n.length>2)return r;if(/:/.test(n[0])?o=n[0]:(r.date=n[0],o=n[1],$i.timeZoneDelimiter.test(r.date)&&(r.date=s.split($i.timeZoneDelimiter)[0],o=s.substr(r.date.length,s.length))),o){const l=$i.timezone.exec(o);l?(r.time=o.replace(l[1],""),r.timezone=l[1]):r.time=o}return r}function xg(s,r){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),o=s.match(n);if(!o)return{year:NaN,restDateString:""};const l=o[1]?parseInt(o[1]):null,c=o[2]?parseInt(o[2]):null;return{year:c===null?l:c*100,restDateString:s.slice((o[1]||o[2]).length)}}function bg(s,r){if(r===null)return new Date(NaN);const n=s.match(vg);if(!n)return new Date(NaN);const o=!!n[4],l=ps(n[1]),c=ps(n[2])-1,h=ps(n[3]),f=ps(n[4]),m=ps(n[5])-1;if(o)return Ng(r,f,m)?Eg(r,f,m):new Date(NaN);{const v=new Date(0);return!Cg(r,c,h)||!jg(r,l)?new Date(NaN):(v.setUTCFullYear(r,c,Math.max(l,h)),v)}}function ps(s){return s?parseInt(s):1}function kg(s){const r=s.match(yg);if(!r)return NaN;const n=Xa(r[1]),o=Xa(r[2]),l=Xa(r[3]);return Og(n,o,l)?n*_h+o*wh+l*1e3:NaN}function Xa(s){return s&&parseFloat(s.replace(",","."))||0}function Sg(s){if(s==="Z")return 0;const r=s.match(wg);if(!r)return 0;const n=r[1]==="+"?-1:1,o=parseInt(r[2]),l=r[3]&&parseInt(r[3])||0;return Pg(o,l)?n*(o*_h+l*wh):NaN}function Eg(s,r,n){const o=new Date(0);o.setUTCFullYear(s,0,4);const l=o.getUTCDay()||7,c=(r-1)*7+n+1-l;return o.setUTCDate(o.getUTCDate()+c),o}const Tg=[31,null,31,30,31,30,31,31,30,31,30,31];function jh(s){return s%400===0||s%4===0&&s%100!==0}function Cg(s,r,n){return r>=0&&r<=11&&n>=1&&n<=(Tg[r]||(jh(s)?29:28))}function jg(s,r){return r>=1&&r<=(jh(s)?366:365)}function Ng(s,r,n){return r>=1&&r<=53&&n>=0&&n<=6}function Og(s,r,n){return s===24?r===0&&n===0:n>=0&&n<60&&r>=0&&r<60&&s>=0&&s<25}function Pg(s,r){return r>=0&&r<=59}const Rg={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},Ag=(s,r,n)=>{let o;const l=Rg[s];return typeof l=="string"?o=l:r===1?o=l.one:o=l.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+o:"hace "+o:o},Ig={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},zg={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Dg={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$g={date:En({formats:Ig,defaultWidth:"full"}),time:En({formats:zg,defaultWidth:"full"}),dateTime:En({formats:Dg,defaultWidth:"full"})},Mg={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Lg={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Ug=(s,r,n,o)=>r.getHours()!==1?Lg[s]:Mg[s],Fg={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},Bg={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Wg={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Hg={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},Vg={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},qg={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Kg=(s,r)=>Number(s)+"",Gg={ordinalNumber:Kg,era:Ft({values:Fg,defaultWidth:"wide"}),quarter:Ft({values:Bg,defaultWidth:"wide",argumentCallback:s=>Number(s)-1}),month:Ft({values:Wg,defaultWidth:"wide"}),day:Ft({values:Hg,defaultWidth:"wide"}),dayPeriod:Ft({values:Vg,defaultWidth:"wide",formattingValues:qg,defaultFormattingWidth:"wide"})},Yg=/^(\d+)()?/i,Jg=/\d+/i,Qg={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},Xg={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},Zg={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},e0={any:[/1/i,/2/i,/3/i,/4/i]},t0={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},r0={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},n0={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},s0={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},i0={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},o0={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},a0={ordinalNumber:Eh({matchPattern:Yg,parsePattern:Jg,valueCallback:function(s){return parseInt(s,10)}}),era:Bt({matchPatterns:Qg,defaultMatchWidth:"wide",parsePatterns:Xg,defaultParseWidth:"any"}),quarter:Bt({matchPatterns:Zg,defaultMatchWidth:"wide",parsePatterns:e0,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Bt({matchPatterns:t0,defaultMatchWidth:"wide",parsePatterns:r0,defaultParseWidth:"any"}),day:Bt({matchPatterns:n0,defaultMatchWidth:"wide",parsePatterns:s0,defaultParseWidth:"any"}),dayPeriod:Bt({matchPatterns:i0,defaultMatchWidth:"any",parsePatterns:o0,defaultParseWidth:"any"})},l0={code:"es",formatDistance:Ag,formatLong:$g,formatRelative:Ug,localize:Gg,match:a0,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Ji(s,r){var n={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r.indexOf(o)<0&&(n[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(s);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(s,o[l])&&(n[o[l]]=s[o[l]]);return n}function u0(s,r,n,o){function l(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function f(w){try{v(o.next(w))}catch(E){h(E)}}function m(w){try{v(o.throw(w))}catch(E){h(E)}}function v(w){w.done?c(w.value):l(w.value).then(f,m)}v((o=o.apply(s,r||[])).next())})}const c0=s=>s?(...r)=>s(...r):(...r)=>fetch(...r);class El extends Error{constructor(r,n="FunctionsError",o){super(r),this.name=n,this.context=o}}class d0 extends El{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Ud extends El{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Fd extends El{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var ul;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(ul||(ul={}));class h0{constructor(r,{headers:n={},customFetch:o,region:l=ul.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=c0(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return u0(this,arguments,void 0,function*(n,o={}){var l;let c,h;try{const{headers:f,method:m,body:v,signal:w,timeout:E}=o;let k={},{region:N}=o;N||(N=this.region);const T=new URL(`${this.url}/${n}`);N&&N!=="any"&&(k["x-region"]=N,T.searchParams.set("forceFunctionRegion",N));let O;v&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(k["Content-Type"]="application/octet-stream",O=v):typeof v=="string"?(k["Content-Type"]="text/plain",O=v):typeof FormData<"u"&&v instanceof FormData?O=v:(k["Content-Type"]="application/json",O=JSON.stringify(v)):O=v;let P=w;E&&(h=new AbortController,c=setTimeout(()=>h.abort(),E),w?(P=h.signal,w.addEventListener("abort",()=>h.abort())):P=h.signal);const M=yield this.fetch(T.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},k),this.headers),f),body:O,signal:P}).catch(ce=>{throw new d0(ce)}),D=M.headers.get("x-relay-error");if(D&&D==="true")throw new Ud(M);if(!M.ok)throw new Fd(M);let A=((l=M.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),V;return A==="application/json"?V=yield M.json():A==="application/octet-stream"||A==="application/pdf"?V=yield M.blob():A==="text/event-stream"?V=M:A==="multipart/form-data"?V=yield M.formData():V=yield M.text(),{data:V,error:null,response:M}}catch(f){return{data:null,error:f,response:f instanceof Fd||f instanceof Ud?f.context:void 0}}finally{c&&clearTimeout(c)}})}}var f0=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},p0=class{constructor(s){var r,n;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(r=s.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=s.signal,this.isMaybeSingle=(n=s.isMaybeSingle)!==null&&n!==void 0?n:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=new Headers(this.headers),this.headers.set(s,r),this}then(s,r){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let h=null,f=null,m=null,v=c.status,w=c.statusText;if(c.ok){var E,k;if(n.method!=="HEAD"){var N;const M=await c.text();M===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((N=n.headers.get("Accept"))===null||N===void 0)&&N.includes("application/vnd.pgrst.plan+text"))?f=M:f=JSON.parse(M))}const O=(E=n.headers.get("Prefer"))===null||E===void 0?void 0:E.match(/count=(exact|planned|estimated)/),P=(k=c.headers.get("content-range"))===null||k===void 0?void 0:k.split("/");O&&P&&P.length>1&&(m=parseInt(P[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(f)&&(f.length>1?(h={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,v=406,w="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var T;const O=await c.text();try{h=JSON.parse(O),Array.isArray(h)&&c.status===404&&(f=[],h=null,v=200,w="OK")}catch{c.status===404&&O===""?(v=204,w="No Content"):h={message:O}}if(h&&n.isMaybeSingle&&(!(h==null||(T=h.details)===null||T===void 0)&&T.includes("0 rows"))&&(h=null,v=200,w="OK"),h&&n.shouldThrowOnError)throw new f0(h)}return{error:h,data:f,count:m,status:v,statusText:w}});return this.shouldThrowOnError||(l=l.catch(c=>{var h;let f="";const m=c==null?void 0:c.cause;if(m){var v,w,E,k;const T=(v=m==null?void 0:m.message)!==null&&v!==void 0?v:"",O=(w=m==null?void 0:m.code)!==null&&w!==void 0?w:"";f=`${(E=c==null?void 0:c.name)!==null&&E!==void 0?E:"FetchError"}: ${c==null?void 0:c.message}`,f+=`

Caused by: ${(k=m==null?void 0:m.name)!==null&&k!==void 0?k:"Error"}: ${T}`,O&&(f+=` (${O})`),m!=null&&m.stack&&(f+=`
${m.stack}`)}else{var N;f=(N=c==null?void 0:c.stack)!==null&&N!==void 0?N:""}return{error:{message:`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,r)}returns(){return this}overrideTypes(){return this}},m0=class extends p0{select(s){let r=!1;const n=(s??"*").split("").map(o=>/\s/.test(o)&&!r?"":(o==='"'&&(r=!r),o)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:r=!0,nullsFirst:n,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${s}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:r,referencedTable:n=r}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${s}`),this}range(s,r,{foreignTable:n,referencedTable:o=n}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${r-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:r=!1,settings:n=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var h;const f=[s?"analyze":null,r?"verbose":null,n?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const Bd=new RegExp("[,()]");var xn=class extends m0{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}regexMatch(s,r){return this.url.searchParams.append(s,`match.${r}`),this}regexIMatch(s,r){return this.url.searchParams.append(s,`imatch.${r}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}isDistinct(s,r){return this.url.searchParams.append(s,`isdistinct.${r}`),this}in(s,r){const n=Array.from(new Set(r)).map(o=>typeof o=="string"&&Bd.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${n})`),this}notIn(s,r){const n=Array.from(new Set(r)).map(o=>typeof o=="string"&&Bd.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`not.in.(${n})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:n,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const c=n===void 0?"":`(${n})`;return this.url.searchParams.append(s,`${l}fts${c}.${r}`),this}match(s){return Object.entries(s).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(s,r,n){return this.url.searchParams.append(s,`not.${r}.${n}`),this}or(s,{foreignTable:r,referencedTable:n=r}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,r,n){return this.url.searchParams.append(s,`${r}.${n}`),this}},g0=class{constructor(s,{headers:r={},schema:n,fetch:o}){this.url=s,this.headers=new Headers(r),this.schema=n,this.fetch=o}select(s,r){const{head:n=!1,count:o}=r??{},l=n?"HEAD":"GET";let c=!1;const h=(s??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",h),o&&this.headers.append("Prefer",`count=${o}`),new xn({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:r,defaultToNull:n=!0}={}){var o;const l="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(c.length>0){const h=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new xn({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(s,{onConflict:r,ignoreDuplicates:n=!1,count:o,defaultToNull:l=!0}={}){var c;const h="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(f.length>0){const m=[...new Set(f)].map(v=>`"${v}"`);this.url.searchParams.set("columns",m.join(","))}}return new xn({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:r}={}){var n;const o="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new xn({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:s}={}){var r;const n="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new xn({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}},v0=class Nh{constructor(r,{headers:n={},schema:o,fetch:l}={}){this.url=r,this.headers=new Headers(n),this.schemaName=o,this.fetch=l}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new g0(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new Nh(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,n={},{head:o=!1,get:l=!1,count:c}={}){var h;let f;const m=new URL(`${this.url}/rpc/${r}`);let v;o||l?(f=o?"HEAD":"GET",Object.entries(n).filter(([E,k])=>k!==void 0).map(([E,k])=>[E,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([E,k])=>{m.searchParams.append(E,k)})):(f="POST",v=n);const w=new Headers(this.headers);return c&&w.set("Prefer",`count=${c}`),new xn({method:f,url:m,headers:w,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class y0{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=n.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const o=this.getWebSocketConstructor();return new o(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const w0="2.89.0",_0=`realtime-js/${w0}`,Oh="1.0.0",x0="2.0.0",Wd=Oh,cl=1e4,b0=1e3,k0=100;var _r;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(_r||(_r={}));var Ve;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Ve||(Ve={}));var zt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(zt||(zt={}));var dl;(function(s){s.websocket="websocket"})(dl||(dl={}));var Lr;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Lr||(Lr={}));class S0{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,n){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let o=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,o;const l=(o=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(r){var n,o;const l=(o=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},h=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(r,n,o){var l,c;const h=r.topic,f=(l=r.ref)!==null&&l!==void 0?l:"",m=(c=r.join_ref)!==null&&c!==void 0?c:"",v=r.payload.event,w=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},E=Object.keys(w).length===0?"":JSON.stringify(w);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(E.length>255)throw new Error(`metadata length ${E.length} exceeds maximum of 255`);const k=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+f.length+h.length+v.length+E.length,N=new ArrayBuffer(this.HEADER_LENGTH+k);let T=new DataView(N),O=0;T.setUint8(O++,this.KINDS.userBroadcastPush),T.setUint8(O++,m.length),T.setUint8(O++,f.length),T.setUint8(O++,h.length),T.setUint8(O++,v.length),T.setUint8(O++,E.length),T.setUint8(O++,n),Array.from(m,M=>T.setUint8(O++,M.charCodeAt(0))),Array.from(f,M=>T.setUint8(O++,M.charCodeAt(0))),Array.from(h,M=>T.setUint8(O++,M.charCodeAt(0))),Array.from(v,M=>T.setUint8(O++,M.charCodeAt(0))),Array.from(E,M=>T.setUint8(O++,M.charCodeAt(0)));var P=new Uint8Array(N.byteLength+o.byteLength);return P.set(new Uint8Array(N),0),P.set(new Uint8Array(o),N.byteLength),P.buffer}decode(r,n){if(this._isArrayBuffer(r)){let o=this._binaryDecode(r);return n(o)}if(typeof r=="string"){const o=JSON.parse(r),[l,c,h,f,m]=o;return n({join_ref:l,ref:c,topic:h,event:f,payload:m})}return n({})}_binaryDecode(r){const n=new DataView(r),o=n.getUint8(0),l=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,l)}}_decodeUserBroadcast(r,n,o){const l=n.getUint8(1),c=n.getUint8(2),h=n.getUint8(3),f=n.getUint8(4);let m=this.HEADER_LENGTH+4;const v=o.decode(r.slice(m,m+l));m=m+l;const w=o.decode(r.slice(m,m+c));m=m+c;const E=o.decode(r.slice(m,m+h));m=m+h;const k=r.slice(m,r.byteLength),N=f===this.JSON_ENCODING?JSON.parse(o.decode(k)):k,T={type:this.BROADCAST_EVENT,event:w,payload:N};return h>0&&(T.meta=JSON.parse(E)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r==null?void 0:r.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(r,n){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([o])=>n.includes(o)))}}class Ph{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Ce||(Ce={}));const Hd=(s,r,n={})=>{var o;const l=(o=n.skipTypes)!==null&&o!==void 0?o:[];return r?Object.keys(r).reduce((c,h)=>(c[h]=E0(h,s,r,l),c),{}):{}},E0=(s,r,n,o)=>{const l=r.find(f=>f.name===s),c=l==null?void 0:l.type,h=n[s];return c&&!o.includes(c)?Rh(c,h):hl(h)},Rh=(s,r)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return N0(r,n)}switch(s){case Ce.bool:return T0(r);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return C0(r);case Ce.json:case Ce.jsonb:return j0(r);case Ce.timestamp:return O0(r);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return hl(r);default:return hl(r)}},hl=s=>s,T0=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},C0=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},j0=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},N0=(s,r)=>{if(typeof s!="string")return s;const n=s.length-1,o=s[n];if(s[0]==="{"&&o==="}"){let c;const h=s.slice(1,n);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(f=>Rh(r,f))}return s},O0=s=>typeof s=="string"?s.replace(" ","T"):s,Ah=s=>{const r=new URL(s);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class Za{constructor(r,n,o={},l=cl){this.channel=r,this.event=n,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var o;return this._hasReceived(r)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Vd;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Vd||(Vd={}));class gs{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:c,onLeave:h,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gs.syncState(this.state,l,c,h),this.pendingDiffs.forEach(m=>{this.state=gs.syncDiff(this.state,m,c,h)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},l=>{const{onJoin:c,onLeave:h,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=gs.syncDiff(this.state,l,c,h),f())}),this.onJoin((l,c,h)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:h})}),this.onLeave((l,c,h)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,o,l){const c=this.cloneDeep(r),h=this.transformState(n),f={},m={};return this.map(c,(v,w)=>{h[v]||(m[v]=w)}),this.map(h,(v,w)=>{const E=c[v];if(E){const k=w.map(P=>P.presence_ref),N=E.map(P=>P.presence_ref),T=w.filter(P=>N.indexOf(P.presence_ref)<0),O=E.filter(P=>k.indexOf(P.presence_ref)<0);T.length>0&&(f[v]=T),O.length>0&&(m[v]=O)}else f[v]=w}),this.syncDiff(c,{joins:f,leaves:m},o,l)}static syncDiff(r,n,o,l){const{joins:c,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(c,(f,m)=>{var v;const w=(v=r[f])!==null&&v!==void 0?v:[];if(r[f]=this.cloneDeep(m),w.length>0){const E=r[f].map(N=>N.presence_ref),k=w.filter(N=>E.indexOf(N.presence_ref)<0);r[f].unshift(...k)}o(f,w,m)}),this.map(h,(f,m)=>{let v=r[f];if(!v)return;const w=m.map(E=>E.presence_ref);v=v.filter(E=>w.indexOf(E.presence_ref)<0),r[f]=v,l(f,v,m),v.length===0&&delete r[f]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(o=>n(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,o)=>{const l=r[o];return"metas"in l?n[o]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):n[o]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qd;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(qd||(qd={}));var vs;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(vs||(vs={}));var Qt;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Qt||(Qt={}));class Sn{constructor(r,n={config:{}},o){var l,c;if(this.topic=r,this.params=n,this.socket=o,this.bindings={},this.state=Ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Za(this,zt.join,this.params,this.timeout),this.rejoinTimer=new Ph(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ve.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zt.reply,{},(h,f)=>{this._trigger(this._replyEventName(f),h)}),this.presence=new gs(this),this.broadcastEndpointURL=Ah(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var o,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Ve.closed){const{config:{broadcast:h,presence:f,private:m}}=this.params,v=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(N=>N.filter))!==null&&l!==void 0?l:[],w=!!this.bindings[vs.PRESENCE]&&this.bindings[vs.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,E={},k={broadcast:h,presence:Object.assign(Object.assign({},f),{enabled:w}),postgres_changes:v,private:m};this.socket.accessTokenValue&&(E.access_token=this.socket.accessTokenValue),this._onError(N=>r==null?void 0:r(Qt.CHANNEL_ERROR,N)),this._onClose(()=>r==null?void 0:r(Qt.CLOSED)),this.updateJoinPayload(Object.assign({config:k},E)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:N})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),N===void 0){r==null||r(Qt.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,P=(T=O==null?void 0:O.length)!==null&&T!==void 0?T:0,M=[];for(let D=0;D<P;D++){const A=O[D],{filter:{event:V,schema:ce,table:J,filter:he}}=A,B=N&&N[D];if(B&&B.event===V&&Sn.isFilterValueEqual(B.schema,ce)&&Sn.isFilterValueEqual(B.table,J)&&Sn.isFilterValueEqual(B.filter,he))M.push(Object.assign(Object.assign({},A),{id:B.id}));else{this.unsubscribe(),this.state=Ve.errored,r==null||r(Qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,r&&r(Qt.SUBSCRIBED);return}}).receive("error",N=>{this.state=Ve.errored,r==null||r(Qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,o){return this.state===Ve.joined&&r===vs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,n,o)}async httpSend(r,n,o={}){var l;if(n==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let m=f.statusText;try{const v=await f.json();m=v.error||v.message||m}catch{}return Promise.reject(new Error(m))}async send(r,n={}){var o,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=r,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=v.body)===null||l===void 0?void 0:l.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,f,m;const v=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((m=(f=(h=this.params)===null||h===void 0?void 0:h.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),v.receive("ok",()=>c("ok")),v.receive("error",()=>c("error")),v.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ve.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new Za(this,zt.leave,{},r),o.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ve.closed,this.bindings={}}async _fetchWithTimeout(r,n,o){const l=new AbortController,c=setTimeout(()=>l.abort(),o),h=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(c),h}_push(r,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Za(this,r,n,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>k0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,o){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,o){var l,c;const h=r.toLocaleLowerCase(),{close:f,error:m,leave:v,join:w}=zt;if(o&&[f,m,v,w].indexOf(h)>=0&&o!==this._joinRef())return;let k=this._onMessage(h,n,o);if(n&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(N=>{var T,O,P;return((T=N.filter)===null||T===void 0?void 0:T.event)==="*"||((P=(O=N.filter)===null||O===void 0?void 0:O.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===h}).map(N=>N.callback(k,o)):(c=this.bindings[h])===null||c===void 0||c.filter(N=>{var T,O,P,M,D,A;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in N){const V=N.id,ce=(T=N.filter)===null||T===void 0?void 0:T.event;return V&&((O=n.ids)===null||O===void 0?void 0:O.includes(V))&&(ce==="*"||(ce==null?void 0:ce.toLocaleLowerCase())===((P=n.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const V=(D=(M=N==null?void 0:N.filter)===null||M===void 0?void 0:M.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return V==="*"||V===((A=n==null?void 0:n.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===h}).map(N=>{if(typeof k=="object"&&"ids"in k){const T=k.data,{schema:O,table:P,commit_timestamp:M,type:D,errors:A}=T;k=Object.assign(Object.assign({},{schema:O,table:P,commit_timestamp:M,eventType:D,new:{},old:{},errors:A}),this._getPayloadRecords(T))}N.callback(k,o)})}_isClosed(){return this.state===Ve.closed}_isJoined(){return this.state===Ve.joined}_isJoining(){return this.state===Ve.joining}_isLeaving(){return this.state===Ve.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,o){const l=r.toLocaleLowerCase(),c={type:l,filter:n,callback:o};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(r,n){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&Sn.isEqual(l.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const o in r)if(r[o]!==n[o])return!1;return!0}static isFilterValueEqual(r,n){return(r??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(zt.close,{},r)}_onError(r){this._on(zt.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ve.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Hd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Hd(r.columns,r.old_record)),n}}const el=()=>{},Mi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},P0=[1e3,2e3,5e3,1e4],R0=1e4,A0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class I0{constructor(r,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cl,this.transport=null,this.heartbeatIntervalMs=Mi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=el,this.ref=0,this.reconnectTimer=null,this.vsn=Wd,this.logger=el,this.conn=null,this.sendBuffer=[],this.serializer=new S0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...c)=>l(...c):(...c)=>fetch(...c),!(!((o=n==null?void 0:n.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${dl.websocket}`,this.httpEndpoint=Ah(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=y0.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,o){this.logger(r,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case _r.connecting:return Lr.Connecting;case _r.open:return Lr.Open;case _r.closing:return Lr.Closing;default:return Lr.Closed}}isConnected(){return this.connectionState()===Lr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const o=`realtime:${r}`,l=this.getChannels().find(c=>c.topic===o);if(l)return l;{const c=new Sn(`realtime:${r}`,n,this);return this.channels.push(c),c}}push(r){const{topic:n,event:o,payload:l,ref:c}=r,h=()=>{this.encode(r,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${n} ${o} (${c})`,l),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(b0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Mi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:l,payload:c,ref:h}=n,f=h?`(${h})`:"",m=c.status||"";this.log("receive",`${m} ${o} ${l} ${f}`.trim(),c),this.channels.filter(v=>v._isMember(o)).forEach(v=>v._trigger(l,c,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===_r.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===_r.open||this.conn.readyState===_r.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(zt.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const o=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${o}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const o=new Blob([A0],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n,o=!1;if(r)n=r,o=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),n=this.accessTokenValue}else n=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(l=>{const c={access_token:n,version:_0};n&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(zt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(n)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Ph(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Mi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,o,l,c,h,f,m,v,w,E,k,N;switch(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(o=r==null?void 0:r.timeout)!==null&&o!==void 0?o:cl,this.heartbeatIntervalMs=(l=r==null?void 0:r.heartbeatIntervalMs)!==null&&l!==void 0?l:Mi.HEARTBEAT_INTERVAL,this.worker=(c=r==null?void 0:r.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=r==null?void 0:r.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(f=r==null?void 0:r.heartbeatCallback)!==null&&f!==void 0?f:el,this.vsn=(m=r==null?void 0:r.vsn)!==null&&m!==void 0?m:Wd,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=r==null?void 0:r.reconnectAfterMs)!==null&&v!==void 0?v:(T=>P0[T-1]||R0),this.vsn){case Oh:this.encode=(w=r==null?void 0:r.encode)!==null&&w!==void 0?w:((T,O)=>O(JSON.stringify(T))),this.decode=(E=r==null?void 0:r.decode)!==null&&E!==void 0?E:((T,O)=>O(JSON.parse(T)));break;case x0:this.encode=(k=r==null?void 0:r.encode)!==null&&k!==void 0?k:this.serializer.encode.bind(this.serializer),this.decode=(N=r==null?void 0:r.decode)!==null&&N!==void 0?N:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}var ws=class extends Error{constructor(s,r){var n;super(s),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((n=r.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function z0(s,r,n){const o=new URL(r,s);if(n)for(const[l,c]of Object.entries(n))c!==void 0&&o.searchParams.set(l,c);return o.toString()}async function D0(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function $0(s){const r=s.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:l,body:c,headers:h}){const f=z0(s.baseUrl,o,l),m=await D0(s.auth),v=await r(f,{method:n,headers:{...c?{"Content-Type":"application/json"}:{},...m,...h},body:c?JSON.stringify(c):void 0}),w=await v.text(),E=(v.headers.get("content-type")||"").includes("application/json"),k=E&&w?JSON.parse(w):w;if(!v.ok){const N=E?k:void 0,T=N==null?void 0:N.error;throw new ws((T==null?void 0:T.message)??`Request failed with status ${v.status}`,{status:v.status,icebergType:T==null?void 0:T.type,icebergCode:T==null?void 0:T.code,details:N})}return{status:v.status,headers:v.headers,data:k}}}}function Li(s){return s.join("")}var M0=class{constructor(s,r=""){this.client=s,this.prefix=r}async listNamespaces(s){const r=s?{parent:Li(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(s,r){const n={namespace:s.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Li(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Li(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Li(s.namespace)}`}),!0}catch(r){if(r instanceof ws&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(s,r){try{return await this.createNamespace(s,r)}catch(n){if(n instanceof ws&&n.status===409)return;throw n}}};function mn(s){return s.join("")}var L0=class{constructor(s,r="",n){this.client=s,this.prefix=r,this.accessDelegation=n}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mn(s.namespace)}/tables`})).data.identifiers}async createTable(s,r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mn(s.namespace)}/tables`,body:r,headers:n})).data.metadata}async updateTable(s,r){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mn(s.namespace)}/tables/${s.name}`,body:r});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(s,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mn(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(s){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mn(s.namespace)}/tables/${s.name}`,headers:r})).data.metadata}async tableExists(s){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mn(s.namespace)}/tables/${s.name}`,headers:r}),!0}catch(n){if(n instanceof ws&&n.status===404)return!1;throw n}}async createTableIfNotExists(s,r){try{return await this.createTable(s,r)}catch(n){if(n instanceof ws&&n.status===409)return await this.loadTable({namespace:s.namespace,name:r.name});throw n}}},U0=class{constructor(s){var o;let r="v1";s.catalogName&&(r+=`/${s.catalogName}`);const n=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=$0({baseUrl:n,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(o=s.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new M0(this.client,r),this.tableOps=new L0(this.client,r,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,r){return this.namespaceOps.createNamespace(s,r)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,r){return this.tableOps.createTable(s,r)}async updateTable(s,r){return this.tableOps.updateTable(s,r)}async dropTable(s,r){await this.tableOps.dropTable(s,r)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,r){return this.namespaceOps.createNamespaceIfNotExists(s,r)}async createTableIfNotExists(s,r){return this.tableOps.createTableIfNotExists(s,r)}},Qi=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function Ie(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var F0=class extends Qi{constructor(s,r,n){super(s),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fl=class extends Qi{constructor(s,r){super(s),this.name="StorageUnknownError",this.originalError=r}};const Tl=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),B0=()=>Response,pl=s=>{if(Array.isArray(s))return s.map(n=>pl(n));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([n,o])=>{const l=n.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[l]=pl(o)}),r},W0=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},H0=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function _s(s){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_s(s)}function V0(s,r){if(_s(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var o=n.call(s,r);if(_s(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function q0(s){var r=V0(s,"string");return _s(r)=="symbol"?r:r+""}function K0(s,r,n){return(r=q0(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function Kd(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,o)}return n}function le(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Kd(Object(n),!0).forEach(function(o){K0(s,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Kd(Object(n)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(n,o))})}return s}const tl=s=>{var r;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(r=s.error)===null||r===void 0?void 0:r.message)||JSON.stringify(s)},G0=async(s,r,n)=>{s instanceof await B0()&&!(n!=null&&n.noResolveJson)?s.json().then(o=>{const l=s.status||500,c=(o==null?void 0:o.statusCode)||l+"";r(new F0(tl(o),l,c))}).catch(o=>{r(new fl(tl(o),o))}):r(new fl(tl(s),s))},Y0=(s,r,n,o)=>{const l={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"||!o?l:(W0(o)?(l.headers=le({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(o)):l.body=o,r!=null&&r.duplex&&(l.duplex=r.duplex),le(le({},l),n))};async function Es(s,r,n,o,l,c){return new Promise((h,f)=>{s(n,Y0(r,o,l,c)).then(m=>{if(!m.ok)throw m;return o!=null&&o.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>G0(m,f,o))})}async function xs(s,r,n,o){return Es(s,"GET",r,n,o)}async function It(s,r,n,o,l){return Es(s,"POST",r,o,l,n)}async function ml(s,r,n,o,l){return Es(s,"PUT",r,o,l,n)}async function J0(s,r,n,o){return Es(s,"HEAD",r,le(le({},n),{},{noResolveJson:!0}),o)}async function Cl(s,r,n,o,l){return Es(s,"DELETE",r,o,l,n)}var Q0=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r}then(s,r){return this.execute().then(s,r)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}}};let Ih;Ih=Symbol.toStringTag;var X0=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r,this[Ih]="BlobDownloadBuilder",this.promise=null}asStream(){return new Q0(this.downloadFn,this.shouldThrowOnError)}then(s,r){return this.getPromise().then(s,r)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}}};const Z0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ev=class{constructor(s,r={},n,o){this.shouldThrowOnError=!1,this.url=s,this.headers=r,this.bucketId=n,this.fetch=Tl(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,r,n,o){var l=this;try{let c;const h=le(le({},Gd),o);let f=le(le({},l.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),m&&c.append("metadata",l.encodeMetadata(m)),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),m&&!c.has("metadata")&&c.append("metadata",l.encodeMetadata(m))):(c=n,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType,m&&(f["x-metadata"]=l.toBase64(l.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),o!=null&&o.headers&&(f=le(le({},f),o.headers));const v=l._removeEmptyFolders(r),w=l._getFinalPath(v),E=await(s=="PUT"?ml:It)(l.fetch,`${l.url}/object/${w}`,c,le({headers:f},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:v,id:E.Id,fullPath:E.Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ie(c))return{data:null,error:c};throw c}}async upload(s,r,n){return this.uploadOrUpdate("POST",s,r,n)}async uploadToSignedUrl(s,r,n,o){var l=this;const c=l._removeEmptyFolders(s),h=l._getFinalPath(c),f=new URL(l.url+`/object/upload/sign/${h}`);f.searchParams.set("token",r);try{let m;const v=le({upsert:Gd.upsert},o),w=le(le({},l.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&n instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",n)):typeof FormData<"u"&&n instanceof FormData?(m=n,m.append("cacheControl",v.cacheControl)):(m=n,w["cache-control"]=`max-age=${v.cacheControl}`,w["content-type"]=v.contentType),{data:{path:c,fullPath:(await ml(l.fetch,f.toString(),m,{headers:w})).Key},error:null}}catch(m){if(l.shouldThrowOnError)throw m;if(Ie(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(s,r){var n=this;try{let o=n._getFinalPath(s);const l=le({},n.headers);r!=null&&r.upsert&&(l["x-upsert"]="true");const c=await It(n.fetch,`${n.url}/object/upload/sign/${o}`,{},{headers:l}),h=new URL(n.url+c.url),f=h.searchParams.get("token");if(!f)throw new Qi("No token returned by API");return{data:{signedUrl:h.toString(),path:s,token:f},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Ie(o))return{data:null,error:o};throw o}}async update(s,r,n){return this.uploadOrUpdate("PUT",s,r,n)}async move(s,r,n){var o=this;try{return{data:await It(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:o.headers}),error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ie(l))return{data:null,error:l};throw l}}async copy(s,r,n){var o=this;try{return{data:{path:(await It(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:o.headers})).Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ie(l))return{data:null,error:l};throw l}}async createSignedUrl(s,r,n){var o=this;try{let l=o._getFinalPath(s),c=await It(o.fetch,`${o.url}/object/sign/${l}`,le({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:o.headers});const h=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return c={signedUrl:encodeURI(`${o.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ie(l))return{data:null,error:l};throw l}}async createSignedUrls(s,r,n){var o=this;try{const l=await It(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:r,paths:s},{headers:o.headers}),c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:l.map(h=>le(le({},h),{},{signedUrl:h.signedURL?encodeURI(`${o.url}${h.signedURL}${c}`):null})),error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ie(l))return{data:null,error:l};throw l}}download(s,r){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=o?`?${o}`:"",c=this._getFinalPath(s),h=()=>xs(this.fetch,`${this.url}/${n}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new X0(h,this.shouldThrowOnError)}async info(s){var r=this;const n=r._getFinalPath(s);try{return{data:pl(await xs(r.fetch,`${r.url}/object/info/${n}`,{headers:r.headers})),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Ie(o))return{data:null,error:o};throw o}}async exists(s){var r=this;const n=r._getFinalPath(s);try{return await J0(r.fetch,`${r.url}/object/${n}`,{headers:r.headers}),{data:!0,error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Ie(o)&&o instanceof fl){const l=o.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:o}}throw o}}getPublicUrl(s,r){const n=this._getFinalPath(s),o=[],l=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&o.push(h);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${f}`)}}}async remove(s){var r=this;try{return{data:await Cl(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:s},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}}async list(s,r,n){var o=this;try{const l=le(le(le({},Z0),r),{},{prefix:s||""});return{data:await It(o.fetch,`${o.url}/object/list/${o.bucketId}`,l,{headers:o.headers},n),error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ie(l))return{data:null,error:l};throw l}}async listV2(s,r){var n=this;try{const o=le({},s);return{data:await It(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,o,{headers:n.headers},r),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Ie(o))return{data:null,error:o};throw o}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const r=[];return s.width&&r.push(`width=${s.width}`),s.height&&r.push(`height=${s.height}`),s.resize&&r.push(`resize=${s.resize}`),s.format&&r.push(`format=${s.format}`),s.quality&&r.push(`quality=${s.quality}`),r.join("&")}};const zh="2.89.0",Dh={"X-Client-Info":`storage-js/${zh}`};var tv=class{constructor(s,r={},n,o){this.shouldThrowOnError=!1;const l=new URL(s);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=le(le({},Dh),r),this.fetch=Tl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var r=this;try{const n=r.listBucketOptionsToQueryString(s);return{data:await xs(r.fetch,`${r.url}/bucket${n}`,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}}async getBucket(s){var r=this;try{return{data:await xs(r.fetch,`${r.url}/bucket/${s}`,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}}async createBucket(s,r={public:!1}){var n=this;try{return{data:await It(n.fetch,`${n.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Ie(o))return{data:null,error:o};throw o}}async updateBucket(s,r){var n=this;try{return{data:await ml(n.fetch,`${n.url}/bucket/${s}`,{id:s,name:s,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Ie(o))return{data:null,error:o};throw o}}async emptyBucket(s){var r=this;try{return{data:await It(r.fetch,`${r.url}/bucket/${s}/empty`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}}async deleteBucket(s){var r=this;try{return{data:await Cl(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(s){const r={};return s&&("limit"in s&&(r.limit=String(s.limit)),"offset"in s&&(r.offset=String(s.offset)),s.search&&(r.search=s.search),s.sortColumn&&(r.sortColumn=s.sortColumn),s.sortOrder&&(r.sortOrder=s.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},rv=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},Dh),r),this.fetch=Tl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var r=this;try{return{data:await It(r.fetch,`${r.url}/bucket`,{name:s},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}}async listBuckets(s){var r=this;try{const n=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&n.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&n.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&n.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&n.set("sortOrder",s.sortOrder),s!=null&&s.search&&n.set("search",s.search);const o=n.toString(),l=o?`${r.url}/bucket?${o}`:`${r.url}/bucket`;return{data:await xs(r.fetch,l,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}}async deleteBucket(s){var r=this;try{return{data:await Cl(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}}from(s){var r=this;if(!H0(s))throw new Qi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new U0({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(n,{get(l,c){const h=l[c];return typeof h!="function"?h:async(...f)=>{try{return{data:await h.apply(l,f),error:null}}catch(m){if(o)throw m;return{data:null,error:m}}}}})}};const jl={"X-Client-Info":`storage-js/${zh}`,"Content-Type":"application/json"};var $h=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function yt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var rl=class extends $h{constructor(s,r,n){super(s),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},nv=class extends $h{constructor(s,r){super(s),this.name="StorageVectorsUnknownError",this.originalError=r}};const Nl=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),sv=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Yd=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),iv=async(s,r,n)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(n!=null&&n.noResolveJson)){const o=s.status||500,l=s;if(typeof l.json=="function")l.json().then(c=>{const h=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||o+"";r(new rl(Yd(c),o,h))}).catch(()=>{const c=o+"";r(new rl(l.statusText||`HTTP ${o} error`,o,c))});else{const c=o+"";r(new rl(l.statusText||`HTTP ${o} error`,o,c))}}else r(new nv(Yd(s),s))},ov=(s,r,n,o)=>{const l={method:s,headers:(r==null?void 0:r.headers)||{}};return o?(sv(o)?(l.headers=le({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(o)):l.body=o,le(le({},l),n)):l};async function av(s,r,n,o,l,c){return new Promise((h,f)=>{s(n,ov(r,o,l,c)).then(m=>{if(!m.ok)throw m;if(o!=null&&o.noResolveJson)return m;const v=m.headers.get("content-type");return!v||!v.includes("application/json")?{}:m.json()}).then(m=>h(m)).catch(m=>iv(m,f,o))})}async function wt(s,r,n,o,l){return av(s,"POST",r,o,l,n)}var lv=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},jl),r),this.fetch=Nl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var r=this;try{return{data:await wt(r.fetch,`${r.url}/CreateIndex`,s,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}async getIndex(s,r){var n=this;try{return{data:await wt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:s,indexName:r},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(yt(o))return{data:null,error:o};throw o}}async listIndexes(s){var r=this;try{return{data:await wt(r.fetch,`${r.url}/ListIndexes`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}async deleteIndex(s,r){var n=this;try{return{data:await wt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:s,indexName:r},{headers:n.headers})||{},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(yt(o))return{data:null,error:o};throw o}}},uv=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},jl),r),this.fetch=Nl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var r=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await wt(r.fetch,`${r.url}/PutVectors`,s,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}async getVectors(s){var r=this;try{return{data:await wt(r.fetch,`${r.url}/GetVectors`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}async listVectors(s){var r=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await wt(r.fetch,`${r.url}/ListVectors`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}async queryVectors(s){var r=this;try{return{data:await wt(r.fetch,`${r.url}/QueryVectors`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}async deleteVectors(s){var r=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await wt(r.fetch,`${r.url}/DeleteVectors`,s,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}},cv=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},jl),r),this.fetch=Nl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var r=this;try{return{data:await wt(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}async getBucket(s){var r=this;try{return{data:await wt(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:s},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}async listBuckets(s={}){var r=this;try{return{data:await wt(r.fetch,`${r.url}/ListVectorBuckets`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}async deleteBucket(s){var r=this;try{return{data:await wt(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}},dv=class extends cv{constructor(s,r={}){super(s,r.headers||{},r.fetch)}from(s){return new hv(this.url,this.headers,s,this.fetch)}async createBucket(s){var r=()=>super.createBucket,n=this;return r().call(n,s)}async getBucket(s){var r=()=>super.getBucket,n=this;return r().call(n,s)}async listBuckets(s={}){var r=()=>super.listBuckets,n=this;return r().call(n,s)}async deleteBucket(s){var r=()=>super.deleteBucket,n=this;return r().call(n,s)}},hv=class extends lv{constructor(s,r,n,o){super(s,r,o),this.vectorBucketName=n}async createIndex(s){var r=()=>super.createIndex,n=this;return r().call(n,le(le({},s),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(s={}){var r=()=>super.listIndexes,n=this;return r().call(n,le(le({},s),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(s){var r=()=>super.getIndex,n=this;return r().call(n,n.vectorBucketName,s)}async deleteIndex(s){var r=()=>super.deleteIndex,n=this;return r().call(n,n.vectorBucketName,s)}index(s){return new fv(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},fv=class extends uv{constructor(s,r,n,o,l){super(s,r,l),this.vectorBucketName=n,this.indexName=o}async putVectors(s){var r=()=>super.putVectors,n=this;return r().call(n,le(le({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(s){var r=()=>super.getVectors,n=this;return r().call(n,le(le({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(s={}){var r=()=>super.listVectors,n=this;return r().call(n,le(le({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(s){var r=()=>super.queryVectors,n=this;return r().call(n,le(le({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(s){var r=()=>super.deleteVectors,n=this;return r().call(n,le(le({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},pv=class extends tv{constructor(s,r={},n,o){super(s,r,n,o)}from(s){return new ev(this.url,this.headers,s,this.fetch)}get vectors(){return new dv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new rv(this.url+"/iceberg",this.headers,this.fetch)}};const Mh="2.89.0",bn=30*1e3,gl=3,nl=gl*bn,mv="http://localhost:9999",gv="supabase.auth.token",vv={"X-Client-Info":`gotrue-js/${Mh}`},vl="X-Supabase-Api-Version",Lh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wv=600*1e3;class bs extends Error{constructor(r,n,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function re(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class _v extends bs{constructor(r,n,o){super(r,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function xv(s){return re(s)&&s.name==="AuthApiError"}class Ur extends bs{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class Zt extends bs{constructor(r,n,o,l){super(r,o,l),this.name=n,this.status=o}}class vt extends Zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bv(s){return re(s)&&s.name==="AuthSessionMissingError"}class gn extends Zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ui extends Zt{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Fi extends Zt{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kv(s){return re(s)&&s.name==="AuthImplicitGrantRedirectError"}class Jd extends Zt{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sv extends Zt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class yl extends Zt{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function sl(s){return re(s)&&s.name==="AuthRetryableFetchError"}class Qd extends Zt{constructor(r,n,o){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class wl extends Zt{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xd=` 	
\r=`.split(""),Ev=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<Xd.length;r+=1)s[Xd[r].charCodeAt(0)]=-2;for(let r=0;r<Vi.length;r+=1)s[Vi[r].charCodeAt(0)]=r;return s})();function Zd(s,r,n){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(Vi[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(Vi[o]),r.queuedBits-=6}}function Uh(s,r,n){const o=Ev[s];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function eh(s){const r=[],n=h=>{r.push(String.fromCodePoint(h))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=h=>{jv(h,o,n)};for(let h=0;h<s.length;h+=1)Uh(s.charCodeAt(h),l,c);return r.join("")}function Tv(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Cv(s,r){for(let n=0;n<s.length;n+=1){let o=s.charCodeAt(n);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(s.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}Tv(o,r)}}function jv(s,r,n){if(r.utf8seq===0){if(s<=127){n(s);return}for(let o=1;o<6;o+=1)if((s>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function Tn(s){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};for(let l=0;l<s.length;l+=1)Uh(s.charCodeAt(l),n,o);return new Uint8Array(r)}function Nv(s){const r=[];return Cv(s,n=>r.push(n)),new Uint8Array(r)}function Fr(s){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};return s.forEach(l=>Zd(l,n,o)),Zd(null,n,o),r.join("")}function Ov(s){return Math.round(Date.now()/1e3)+s}function Pv(){return Symbol("auth-callback")}const Xe=()=>typeof window<"u"&&typeof document<"u",zr={tested:!1,writable:!1},Fh=()=>{if(!Xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zr.tested)return zr.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),zr.tested=!0,zr.writable=!0}catch{zr.tested=!0,zr.writable=!1}return zr.writable};function Rv(s){const r={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,c)=>{r[c]=l})}catch{}return n.searchParams.forEach((o,l)=>{r[l]=o}),r}const Bh=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),Av=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",kn=async(s,r,n)=>{await s.setItem(r,JSON.stringify(n))},Dr=async(s,r)=>{const n=await s.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Qe=async(s,r)=>{await s.removeItem(r)};class Xi{constructor(){this.promise=new Xi.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}Xi.promiseConstructor=Promise;function il(s){const r=s.split(".");if(r.length!==3)throw new wl("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!yv.test(r[o]))throw new wl("JWT not in base64url format");return{header:JSON.parse(eh(r[0])),payload:JSON.parse(eh(r[1])),signature:Tn(r[2]),raw:{header:r[0],payload:r[1]}}}async function Iv(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function zv(s,r){return new Promise((o,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await s(c);if(!r(c,null,h)){o(h);return}}catch(h){if(!r(c,h)){l(h);return}}})()})}function Dv(s){return("0"+s.toString(16)).substr(-2)}function $v(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let l="";for(let c=0;c<56;c++)l+=n.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(r),Array.from(r,Dv).join("")}async function Mv(s){const n=new TextEncoder().encode(s),o=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(o);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function Lv(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await Mv(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vn(s,r,n=!1){const o=$v();let l=o;n&&(l+="/PASSWORD_RECOVERY"),await kn(s,`${r}-code-verifier`,l);const c=await Lv(o);return[c,o===c?"plain":"s256"]}const Uv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Fv(s){const r=s.headers.get(vl);if(!r||!r.match(Uv))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Bv(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function Wv(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Hv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yn(s){if(!Hv.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ol(){const s={};return new Proxy(s,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vv(s,r){return new Proxy(s,{get:(n,o,l)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const c=o.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,l)}return!r.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,o,l)}})}function th(s){return JSON.parse(JSON.stringify(s))}const Mr=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),qv=[502,503,504];async function rh(s){var r;if(!Av(s))throw new yl(Mr(s),0);if(qv.includes(s.status))throw new yl(Mr(s),s.status);let n;try{n=await s.json()}catch(c){throw new Ur(Mr(c),c)}let o;const l=Fv(s);if(l&&l.getTime()>=Lh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new Qd(Mr(n),s.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new vt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new Qd(Mr(n),s.status,n.weak_password.reasons);throw new _v(Mr(n),s.status||500,o)}const Kv=(s,r,n,o)=>{const l={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),n))};async function ae(s,r,n,o){var l;const c=Object.assign({},o==null?void 0:o.headers);c[vl]||(c[vl]=Lh["2024-01-01"].name),o!=null&&o.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const h=(l=o==null?void 0:o.query)!==null&&l!==void 0?l:{};o!=null&&o.redirectTo&&(h.redirect_to=o.redirectTo);const f=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await Gv(s,r,n+f,{headers:c,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(m):{data:Object.assign({},m),error:null}}async function Gv(s,r,n,o,l,c){const h=Kv(r,o,l,c);let f;try{f=await s(n,Object.assign({},h))}catch(m){throw console.error(m),new yl(Mr(m),0)}if(f.ok||await rh(f),o!=null&&o.noResolveJson)return f;try{return await f.json()}catch(m){await rh(m)}}function At(s){var r;let n=null;Qv(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=Ov(s.expires_in)));const o=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:n,user:o},error:null}}function nh(s){const r=At(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(r.data.weak_password=s.weak_password),r}function xr(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function Yv(s){return{data:s,error:null}}function Jv(s){const{action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:c}=s,h=Ji(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:c},m=Object.assign({},h);return{data:{properties:f,user:m},error:null}}function sh(s){return s}function Qv(s){return s.access_token&&s.refresh_token&&s.expires_in}const al=["global","local","others"];class Xv{constructor({url:r="",headers:n={},fetch:o}){this.url=r,this.headers=n,this.fetch=Bh(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=al[0]){if(al.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${al.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(re(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,n={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xr})}catch(o){if(re(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:n}=r,o=Ji(r,["options"]),l=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(l.new_email=o==null?void 0:o.newEmail,delete l.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Jv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(re(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:xr})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,o,l,c,h,f,m;try{const v={nextPage:null,lastPage:0,total:0},w=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(c=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:sh});if(w.error)throw w.error;const E=await w.json(),k=(h=w.headers.get("x-total-count"))!==null&&h!==void 0?h:0,N=(m=(f=w.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return N.length>0&&(N.forEach(T=>{const O=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(T.split(";")[1].split("=")[1]);v[`${P}Page`]=O}),v.total=parseInt(k)),{data:Object.assign(Object.assign({},E),v),error:null}}catch(v){if(re(v))return{data:{users:[]},error:v};throw v}}async getUserById(r){yn(r);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:xr})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){yn(r);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:xr})}catch(o){if(re(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,n=!1){yn(r);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:xr})}catch(o){if(re(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){yn(r.userId);try{const{data:n,error:o}=await ae(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:o}}catch(n){if(re(n))return{data:null,error:n};throw n}}async _deleteFactor(r){yn(r.userId),yn(r.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,o,l,c,h,f,m;try{const v={nextPage:null,lastPage:0,total:0},w=await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(c=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:sh});if(w.error)throw w.error;const E=await w.json(),k=(h=w.headers.get("x-total-count"))!==null&&h!==void 0?h:0,N=(m=(f=w.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return N.length>0&&(N.forEach(T=>{const O=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(T.split(";")[1].split("=")[1]);v[`${P}Page`]=O}),v.total=parseInt(k)),{data:Object.assign(Object.assign({},E),v),error:null}}catch(v){if(re(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(r){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await ae(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(re(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(r){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(re(n))return{data:null,error:n};throw n}}}function ih(s={}){return{getItem:r=>s[r]||null,setItem:(r,n)=>{s[r]=n},removeItem:r=>{delete s[r]}}}const wn={debug:!!(globalThis&&Fh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wh extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Zv extends Wh{}async function ey(s,r,n){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),wn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,l.name);try{return await n()}finally{wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,l.name)}}else{if(r===0)throw wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Zv(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(wn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function ty(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Hh(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function ry(s){return parseInt(s,16)}function ny(s){const r=new TextEncoder().encode(s);return"0x"+Array.from(r,o=>o.toString(16).padStart(2,"0")).join("")}function sy(s){var r;const{chainId:n,domain:o,expirationTime:l,issuedAt:c=new Date,nonce:h,notBefore:f,requestId:m,resources:v,scheme:w,uri:E,version:k}=s;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!E)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(k!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${k}`);if(!((r=s.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const N=Hh(s.address),T=w?`${w}://${o}`:o,O=s.statement?`${s.statement}
`:"",P=`${T} wants you to sign in with your Ethereum account:
${N}

${O}`;let M=`URI: ${E}
Version: ${k}
Chain ID: ${n}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(l&&(M+=`
Expiration Time: ${l.toISOString()}`),f&&(M+=`
Not Before: ${f.toISOString()}`),m&&(M+=`
Request ID: ${m}`),v){let D=`
Resources:`;for(const A of v){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);D+=`
- ${A}`}M+=D}return`${P}
${M}`}class Fe extends Error{constructor({message:r,code:n,cause:o,name:l}){var c;super(r,{cause:o}),this.__isWebAuthnError=!0,this.name=(c=l??(o instanceof Error?o.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=n}}class qi extends Fe{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function iy({error:s,options:r}){var n,o,l;const{publicKey:c}=r;if(!c)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((n=c.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(r.mediation==="conditional"&&((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Fe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return c.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const h=window.location.hostname;if(Vh(h)){if(c.rp.id!==h)return new Fe({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function oy({error:s,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Fe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const o=window.location.hostname;if(Vh(o)){if(n.rpId!==o)return new Fe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class ay{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const ly=new ay;function uy(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:r,user:n,excludeCredentials:o}=s,l=Ji(s,["challenge","user","excludeCredentials"]),c=Tn(r).buffer,h=Object.assign(Object.assign({},n),{id:Tn(n.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:c,user:h});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let m=0;m<o.length;m++){const v=o[m];f.excludeCredentials[m]=Object.assign(Object.assign({},v),{id:Tn(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return f}function cy(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:r,allowCredentials:n}=s,o=Ji(s,["challenge","allowCredentials"]),l=Tn(r).buffer,c=Object.assign(Object.assign({},o),{challenge:l});if(n&&n.length>0){c.allowCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const f=n[h];c.allowCredentials[h]=Object.assign(Object.assign({},f),{id:Tn(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function dy(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s;return{id:s.id,rawId:s.id,response:{attestationObject:Fr(new Uint8Array(s.response.attestationObject)),clientDataJSON:Fr(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function hy(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s,o=s.getClientExtensionResults(),l=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Fr(new Uint8Array(l.authenticatorData)),clientDataJSON:Fr(new Uint8Array(l.clientDataJSON)),signature:Fr(new Uint8Array(l.signature)),userHandle:l.userHandle?Fr(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Vh(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function oh(){var s,r;return!!(Xe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function fy(s){try{const r=await navigator.credentials.create(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new qi("Browser returned unexpected credential type",r)}:{data:null,error:new qi("Empty credential response",r)}}catch(r){return{data:null,error:iy({error:r,options:s})}}}async function py(s){try{const r=await navigator.credentials.get(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new qi("Browser returned unexpected credential type",r)}:{data:null,error:new qi("Empty credential response",r)}}catch(r){return{data:null,error:oy({error:r,options:s})}}}const my={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},gy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ki(...s){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),o={};for(const l of s)if(l)for(const c in l){const h=l[c];if(h!==void 0)if(Array.isArray(h))o[c]=h;else if(n(h))o[c]=h;else if(r(h)){const f=o[c];r(f)?o[c]=Ki(f,h):o[c]=Ki(h)}else o[c]=h}return o}function vy(s,r){return Ki(my,s,r||{})}function yy(s,r){return Ki(gy,s,r||{})}class wy{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:o,signal:l},c){try{const{data:h,error:f}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!h)return{data:null,error:f};const m=l??ly.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:v}=h.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${o}`),v.displayName||(v.displayName=v.name)}switch(h.webauthn.type){case"create":{const v=vy(h.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:w,error:E}=await fy({publicKey:v,signal:m});return w?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:w}},error:null}:{data:null,error:E}}case"request":{const v=yy(h.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:w,error:E}=await py(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v,signal:m}));return w?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:w}},error:null}:{data:null,error:E}}}}catch(h){return re(h)?{data:null,error:h}:{data:null,error:new Ur("Unexpected error in challenge",h)}}}async _verify({challengeId:r,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:o})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!n)return{data:null,error:new bs("rpId is required for WebAuthn authentication")};try{if(!oh())return{data:null,error:new Ur("Browser does not support WebAuthn",null)};const{data:h,error:f}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:o},signal:l},{request:c});if(!h)return{data:null,error:f};const{webauthn:m}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:o,credential_response:m.credential_response}})}catch(h){return re(h)?{data:null,error:h}:{data:null,error:new Ur("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!n)return{data:null,error:new bs("rpId is required for WebAuthn registration")};try{if(!oh())return{data:null,error:new Ur("Browser does not support WebAuthn",null)};const{data:h,error:f}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(w=>{var E;return(E=w.data)===null||E===void 0?void 0:E.all.find(k=>k.factor_type==="webauthn"&&k.friendly_name===r&&k.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w==null?void 0:w.id}):void 0),{data:null,error:f};const{data:m,error:v}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:l},{create:c});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:o,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:v}}catch(h){return re(h)?{data:null,error:h}:{data:null,error:new Ur("Unexpected error in register",h)}}}}ty();const _y={url:mv,storageKey:gv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ah(s,r,n){return await n()}const _n={};class ks{get jwks(){var r,n;return(n=(r=_n[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){_n[this.storageKey]=Object.assign(Object.assign({},_n[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=_n[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){_n[this.storageKey]=Object.assign(Object.assign({},_n[this.storageKey]),{cachedAt:r})}constructor(r){var n,o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},_y),r);if(this.storageKey=c.storageKey,this.instanceID=(n=ks.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ks.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Xe()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Xv({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Bh(c.fetch),this.lock=c.lock||ah,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&Xe()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=ey:this.lock=ah,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Fh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ih(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=ih(this.memoryStorage)),Xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Mh}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},o="none";if(Xe()&&(n=Rv(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),Xe()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:c}=await this._getSessionFromURL(n,o);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),kv(c)){const m=(r=c.details)===null||r===void 0?void 0:r.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",h,"redirect type",f),await this._saveSession(h),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return re(n)?this._returnResult({error:n}):this._returnResult({error:new Ur("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,o,l;try{const c=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:At}),{data:h,error:f}=c;if(f||!h)return this._returnResult({data:{user:null,session:null},error:f});const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(c){if(re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(r){var n,o,l;try{let c;if("email"in r){const{email:w,password:E,options:k}=r;let N=null,T=null;this.flowType==="pkce"&&([N,T]=await vn(this.storage,this.storageKey)),c=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k==null?void 0:k.emailRedirectTo,body:{email:w,password:E,data:(n=k==null?void 0:k.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},code_challenge:N,code_challenge_method:T},xform:At})}else if("phone"in r){const{phone:w,password:E,options:k}=r;c=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:E,data:(o=k==null?void 0:k.data)!==null&&o!==void 0?o:{},channel:(l=k==null?void 0:k.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken}},xform:At})}else throw new Ui("You must provide either an email or phone number and a password");const{data:h,error:f}=c;if(f||!h)return await Qe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(c){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(r){try{let n;if("email"in r){const{email:c,password:h,options:f}=r;n=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:nh})}else if("phone"in r){const{phone:c,password:h,options:f}=r;n=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:nh})}else throw new Ui("You must provide either an email or phone number and a password");const{data:o,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const c=new gn;return this._returnResult({data:{user:null,session:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(n){if(re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,o,l,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,o,l,c,h,f,m,v,w,E,k;let N,T;if("message"in r)N=r.message,T=r.signature;else{const{chain:O,wallet:P,statement:M,options:D}=r;let A;if(Xe())if(typeof P=="object")A=P;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")A=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=P}const V=new URL((n=D==null?void 0:D.url)!==null&&n!==void 0?n:window.location.href),ce=await A.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ce||ce.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const J=Hh(ce[0]);let he=(o=D==null?void 0:D.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!he){const W=await A.request({method:"eth_chainId"});he=ry(W)}const B={domain:V.host,address:J,statement:M,uri:V.href,version:"1",chainId:he,nonce:(l=D==null?void 0:D.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(h=(c=D==null?void 0:D.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(f=D==null?void 0:D.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(m=D==null?void 0:D.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(v=D==null?void 0:D.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(w=D==null?void 0:D.signInWithEthereum)===null||w===void 0?void 0:w.resources};N=sy(B),T=await A.request({method:"personal_sign",params:[ny(N),J]})}try{const{data:O,error:P}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:N,signature:T},!((E=r.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(k=r.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:At});if(P)throw P;if(!O||!O.session||!O.user){const M=new gn;return this._returnResult({data:{user:null,session:null},error:M})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:P})}catch(O){if(re(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async signInWithSolana(r){var n,o,l,c,h,f,m,v,w,E,k,N;let T,O;if("message"in r)T=r.message,O=r.signature;else{const{chain:P,wallet:M,statement:D,options:A}=r;let V;if(Xe())if(typeof M=="object")V=M;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))V=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=M}const ce=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in V&&V.signIn){const J=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:ce.host,uri:ce.href}),D?{statement:D}:null));let he;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")he=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)he=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in he&&"signature"in he&&(typeof he.signedMessage=="string"||he.signedMessage instanceof Uint8Array)&&he.signature instanceof Uint8Array)T=typeof he.signedMessage=="string"?he.signedMessage:new TextDecoder().decode(he.signedMessage),O=he.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${ce.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${ce.href}`,`Issued At: ${(l=(o=A==null?void 0:A.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=A==null?void 0:A.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((m=A==null?void 0:A.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((v=A==null?void 0:A.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((E=(w=A==null?void 0:A.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||E===void 0)&&E.length?["Resources",...A.signInWithSolana.resources.map(he=>`- ${he}`)]:[]].join(`
`);const J=await V.signMessage(new TextEncoder().encode(T),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=J}}try{const{data:P,error:M}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Fr(O)},!((k=r.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(N=r.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:At});if(M)throw M;if(!P||!P.session||!P.user){const D=new gn;return this._returnResult({data:{user:null,session:null},error:D})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:M})}catch(P){if(re(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async _exchangeCodeForSession(r){const n=await Dr(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(n??"").split("/");try{if(!o&&this.flowType==="pkce")throw new Sv;const{data:c,error:h}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:At});if(await Qe(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const f=new gn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:h})}catch(c){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),re(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(r){try{const{options:n,provider:o,token:l,access_token:c,nonce:h}=r,f=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:At}),{data:m,error:v}=f;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!m||!m.session||!m.user){const w=new gn;return this._returnResult({data:{user:null,session:null},error:w})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:v})}catch(n){if(re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,o,l,c,h;try{if("email"in r){const{email:f,options:m}=r;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await vn(this.storage,this.storageKey));const{error:E}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(o=m==null?void 0:m.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:w},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:E})}if("phone"in r){const{phone:f,options:m}=r,{data:v,error:w}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(c=m==null?void 0:m.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(h=m==null?void 0:m.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:w})}throw new Ui("You must provide either an email or phone number.")}catch(f){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),re(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(r){var n,o;try{let l,c;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,c=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:h,error:f}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:At});if(f)throw f;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,v=h.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(l){if(re(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(r){var n,o,l,c,h;try{let f=null,m=null;this.flowType==="pkce"&&([f,m]=await vn(this.storage,this.storageKey));const v=await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:m}),headers:this.headers,xform:Yv});return!((c=v.data)===null||c===void 0)&&c.url&&Xe()&&!(!((h=r.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(f){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),re(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;if(o)throw o;if(!n)throw new vt;const{error:l}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:o,type:l,options:c}=r,{error:h}=await ae(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:o,type:l,options:c}=r,{data:h,error:f}=await ae(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f})}throw new Ui("You must provide either an email or phone number and a type")}catch(n){if(re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Dr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<nl:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const h=await Dr(this.userStorage,this.storageKey+"-user");h!=null&&h.user?r.user=h.user:r.user=ol()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=Vv(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(r){try{return r?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:xr}):await this._useSession(async n=>{var o,l,c;const{data:h,error:f}=n;if(f)throw f;return!(!((o=h.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vt}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:xr})})}catch(n){if(re(n))return bv(n)&&(await this._removeSession(),await Qe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async o=>{const{data:l,error:c}=o;if(c)throw c;if(!l.session)throw new vt;const h=l.session;let f=null,m=null;this.flowType==="pkce"&&r.email!=null&&([f,m]=await vn(this.storage,this.storageKey));const{data:v,error:w}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:f,code_challenge_method:m}),jwt:h.access_token,xform:xr});if(w)throw w;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(o){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),re(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new vt;const n=Date.now()/1e3;let o=n,l=!0,c=null;const{payload:h}=il(r.access_token);if(h.exp&&(o=h.exp,l=o<=n),l){const{data:f,error:m}=await this._callRefreshToken(r.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:m}=await this._getUser(r.access_token);if(m)throw m;c={access_token:r.access_token,refresh_token:r.refresh_token,user:f.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(n){if(re(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var o;if(!r){const{data:h,error:f}=n;if(f)throw f;r=(o=h.session)!==null&&o!==void 0?o:void 0}if(!(r!=null&&r.refresh_token))throw new vt;const{data:l,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!Xe())throw new Fi("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Fi(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Jd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Jd("No code detected.");const{data:D,error:A}=await this._exchangeCodeForSession(r.code);if(A)throw A;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:c,refresh_token:h,expires_in:f,expires_at:m,token_type:v}=r;if(!c||!f||!h||!v)throw new Fi("No session defined in URL");const w=Math.round(Date.now()/1e3),E=parseInt(f);let k=w+E;m&&(k=parseInt(m));const N=k-w;N*1e3<=bn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${E}s`);const T=k-E;w-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,k,w):w-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,k,w);const{data:O,error:P}=await this._getUser(c);if(P)throw P;const M={provider_token:o,provider_refresh_token:l,access_token:c,expires_in:E,expires_at:k,refresh_token:h,token_type:v,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:r.type},error:null})}catch(o){if(re(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Dr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:l,error:c}=n;if(c)return this._returnResult({error:c});const h=(o=l.session)===null||o===void 0?void 0:o.access_token;if(h){const{error:f}=await this.admin.signOut(h,r);if(f&&!(xv(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return r!=="others"&&(await this._removeSession(),await Qe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=Pv(),o={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async n=>{var o,l;try{const{data:{session:c},error:h}=n;if(h)throw h;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,n={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await vn(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(c){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),re(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var r;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:o,error:l}=await this._useSession(async c=>{var h,f,m,v,w;const{data:E,error:k}=c;if(k)throw k;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(f=r.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",N,{headers:this.headers,jwt:(w=(v=E.session)===null||v===void 0?void 0:v.access_token)!==null&&w!==void 0?w:void 0})});if(l)throw l;return Xe()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:r.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(re(o))return this._returnResult({data:{provider:r.provider,url:null},error:o});throw o}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var o;try{const{error:l,data:{session:c}}=n;if(l)throw l;const{options:h,provider:f,token:m,access_token:v,nonce:w}=r,E=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=c==null?void 0:c.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:m,access_token:v,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:At}),{data:k,error:N}=E;return N?this._returnResult({data:{user:null,session:null},error:N}):!k||!k.session||!k.user?this._returnResult({data:{user:null,session:null},error:new gn}):(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:N}))}catch(l){if(await Qe(this.storage,`${this.storageKey}-code-verifier`),re(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var o,l;const{data:c,error:h}=n;if(h)throw h;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await zv(async l=>(l>0&&await Iv(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:At})),(l,c)=>{const h=200*Math.pow(2,l);return c&&sl(c)&&Date.now()+h-o<bn})}catch(o){if(this._debug(n,"error",o),re(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",o),Xe()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await Dr(this.storage,this.storageKey);if(l&&this.userStorage){let h=await Dr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:l.user},await kn(this.userStorage,this.storageKey+"-user",h)),l.user=(r=h==null?void 0:h.user)!==null&&r!==void 0?r:ol()}else if(l&&!l.user&&!l.user){const h=await Dr(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(l.user=h.user,await Qe(this.storage,this.storageKey+"-user"),await kn(this.storage,this.storageKey,l)):l.user=ol()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const c=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<nl;if(this._debug(o,`session has${c?"":" not"} expired with margin of ${nl}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:h}=await this._callRefreshToken(l.refresh_token);h&&(console.error(h),sl(h)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:f}=await this._getUser(l.access_token);!f&&(h!=null&&h.user)?(l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(o,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var n,o;if(!r)throw new vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Xi;const{data:c,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!c.session)throw new vt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={data:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(l,"error",c),re(c)){const h={data:null,error:c};return sl(c)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,o=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:n});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(r,n)}catch(m){c.push(m)}});if(await Promise.all(h),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await Qe(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},r),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await kn(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const c=th(l);await kn(this.storage,this.storageKey,c)}else{const l=th(n);await kn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Qe(this.storage,this.storageKey),await Qe(this.storage,this.storageKey+"-code-verifier"),await Qe(this.storage,this.storageKey+"-user"),this.userStorage&&await Qe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Xe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),bn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-r)/bn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${bn}ms, refresh threshold is ${gl} ticks`),l<=gl&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Wh)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,o){const l=[`provider=${encodeURIComponent(n)}`];if(o!=null&&o.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[c,h]=await vn(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});l.push(f.toString())}if(o!=null&&o.queryParams){const c=new URLSearchParams(o.queryParams);l.push(c.toString())}return o!=null&&o.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var o;const{data:l,error:c}=n;return c?this._returnResult({data:null,error:c}):await ae(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var o,l;const{data:c,error:h}=n;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:m,error:v}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});return v?this._returnResult({data:null,error:v}):(r.factorType==="totp"&&m.type==="totp"&&(!((l=m==null?void 0:m.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?dy(r.webauthn.credential_response):hy(r.webauthn.credential_response)})}:{code:r.code}),{data:f,error:m}=await ae(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:m}))})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=await ae(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});if(h.error)return h;const{data:f}=h;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:uy(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:cy(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:o}=await this._challenge({factorId:r.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const l={all:[],phone:[],totp:[],webauthn:[]};for(const c of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])l.all.push(c),c.status==="verified"&&l[c.factor_type].push(c);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=il(o.access_token);let h=null;c.aal&&(h=c.aal);let f=h;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(w=>w.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const v=c.amr||[];return{data:{currentLevel:h,nextLevel:f,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?this._returnResult({data:null,error:l}):o?await ae(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:o.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new vt})})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:c}=o;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new vt});const h=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return h.data&&h.data.redirect_url&&Xe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(o){if(re(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:c}=o;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new vt});const h=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return h.data&&h.data.redirect_url&&Xe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(o){if(re(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?this._returnResult({data:null,error:o}):n?await ae(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new vt})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?this._returnResult({data:null,error:l}):o?(await ae(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new vt})})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(r,n={keys:[]}){let o=n.keys.find(f=>f.kid===r);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(f=>f.kid===r),o&&this.jwks_cached_at+wv>l)return o;const{data:c,error:h}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,o=c.keys.find(f=>f.kid===r),!o)?null:o}async getClaims(r,n={}){try{let o=r;if(!o){const{data:N,error:T}=await this.getSession();if(T||!N.session)return this._returnResult({data:null,error:T});o=N.session.access_token}const{header:l,payload:c,signature:h,raw:{header:f,payload:m}}=il(o);n!=null&&n.allowExpired||Bv(c.exp);const v=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!v){const{error:N}=await this.getUser(o);if(N)throw N;return{data:{claims:c,header:l,signature:h},error:null}}const w=Wv(l.alg),E=await crypto.subtle.importKey("jwk",v,w,!0,["verify"]);if(!await crypto.subtle.verify(w,E,h,Nv(`${f}.${m}`)))throw new wl("Invalid JWT signature");return{data:{claims:c,header:l,signature:h},error:null}}catch(o){if(re(o))return this._returnResult({data:null,error:o});throw o}}}ks.nextInstanceID={};const xy=ks,by="2.89.0";let ms="";typeof Deno<"u"?ms="deno":typeof document<"u"?ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ms="react-native":ms="node";const ky={"X-Client-Info":`supabase-js-${ms}/${by}`},Sy={headers:ky},Ey={schema:"public"},Ty={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Cy={};function Ss(s){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ss(s)}function jy(s,r){if(Ss(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var o=n.call(s,r);if(Ss(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function Ny(s){var r=jy(s,"string");return Ss(r)=="symbol"?r:r+""}function Oy(s,r,n){return(r=Ny(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function lh(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,o)}return n}function De(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?lh(Object(n),!0).forEach(function(o){Oy(s,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):lh(Object(n)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(n,o))})}return s}const Py=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),Ry=()=>Headers,Ay=(s,r,n)=>{const o=Py(n),l=Ry();return async(c,h)=>{var f;const m=(f=await r())!==null&&f!==void 0?f:s;let v=new l(h==null?void 0:h.headers);return v.has("apikey")||v.set("apikey",s),v.has("Authorization")||v.set("Authorization",`Bearer ${m}`),o(c,De(De({},h),{},{headers:v}))}};function Iy(s){return s.endsWith("/")?s:s+"/"}function zy(s,r){var n,o;const{db:l,auth:c,realtime:h,global:f}=s,{db:m,auth:v,realtime:w,global:E}=r,k={db:De(De({},m),l),auth:De(De({},v),c),realtime:De(De({},w),h),storage:{},global:De(De(De({},E),f),{},{headers:De(De({},(n=E==null?void 0:E.headers)!==null&&n!==void 0?n:{}),(o=f==null?void 0:f.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return s.accessToken?k.accessToken=s.accessToken:delete k.accessToken,k}function Dy(s){const r=s==null?void 0:s.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Iy(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var $y=class extends xy{constructor(s){super(s)}},My=class{constructor(s,r,n){var o,l;this.supabaseUrl=s,this.supabaseKey=r;const c=Dy(s);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const h=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:Ey,realtime:Cy,auth:De(De({},Ty),{},{storageKey:h}),global:Sy},m=zy(n??{},f);if(this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(w,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=m.auth)!==null&&v!==void 0?v:{},this.headers,m.global.fetch)}this.fetch=Ay(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(De({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new v0(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new pv(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new h0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,r,n)}channel(s,r={config:{}}){return this.realtime.channel(s,r)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,r,n;if(s.accessToken)return await s.accessToken();const{data:o}=await s.auth.getSession();return(r=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:l,storageKey:c,flowType:h,lock:f,debug:m,throwOnError:v},w,E){const k={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $y({url:this.authUrl.href,headers:De(De({},k),w),storageKey:c,autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:l,flowType:h,lock:f,debug:m,throwOnError:v,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new I0(this.realtimeUrl.href,De(De({},s),{},{params:De(De({},{apikey:this.supabaseKey}),s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(s,r,n){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Ly=(s,r,n)=>new My(s,r,n);function Uy(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const r=s.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Uy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Fy="https://fmkyfaxlwseaskkxwokq.supabase.co",By="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZta3lmYXhsd3NlYXNra3h3b2txIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcxMTE4NDUsImV4cCI6MjA4MjY4Nzg0NX0.dmU0bE3ldHeEhDaO3SztdrckkDuh_H7aGhAQG2nqRQs",Le=Ly(Fy,By),_l="life-os-fecha-nacimiento",Wy=()=>{try{return localStorage.getItem(_l)}catch(s){return console.error("Error loading fechaNacimiento from localStorage:",s),null}},Hy=()=>{const[s,r]=F.useState([]),[n,o]=F.useState([]),[l,c]=F.useState(Wy),[h,f]=F.useState(!0),[m,v]=F.useState(null);F.useEffect(()=>{(async()=>{try{f(!0);const{data:W,error:te}=await Le.from("metas").select("*").order("nombre",{ascending:!0});if(te)throw te;o(W||[]);const{data:ue,error:H}=await Le.from("habitos").select("*").order("fecha_inicio",{ascending:!0});if(H)throw H;const se=(ue||[]).map(ve=>({...ve,meta:(W||[]).find(pe=>pe.id===ve.meta_id)||null}));r(se)}catch(W){console.error("Error fetching data:",W),v(W.message)}finally{f(!1)}})()},[]),F.useEffect(()=>{try{l?localStorage.setItem(_l,l):localStorage.removeItem(_l)}catch(B){console.error("Error saving fechaNacimiento to localStorage:",B)}},[l]),F.useEffect(()=>{const B=async()=>{let te=!1;const ue=[];for(const H of s){if(H.tipo==="construir"){if(H.ultima_fecha){const se=fs(H.ultima_fecha);if(!Ld(se)&&!gg(se)&&H.racha>0){te=!0,ue.push({...H,racha:0});continue}}}else if(H.tipo==="dejar"){const se=fs(H.fecha_inicio),ve=mm(new Date,se);if(ve!==H.racha){te=!0,ue.push({...H,racha:Math.max(0,ve)});continue}}ue.push(H)}if(te){r(ue);for(const H of ue){const se=s.find(ve=>ve.id===H.id);se&&se.racha!==H.racha&&await Le.from("habitos").update({racha:H.racha}).eq("id",H.id)}}};s.length>0&&B();const W=setInterval(B,6e4);return()=>clearInterval(W)},[s.length]);const w=F.useCallback(async(B,W,te=null)=>{const ue={nombre:B.trim(),racha:0,ultima_fecha:null,fecha_inicio:new Date().toISOString(),tipo:W,meta_id:te||null};try{const{data:H,error:se}=await Le.from("habitos").insert([ue]).select().single();if(se)throw se;const ve=n.find(ne=>ne.id===te)||null,pe={...H,meta:ve};r(ne=>[...ne,pe])}catch(H){console.error("Error adding habito:",H),alert("ERROR SUPABASE: "+H.message),v(H.message)}},[n]),E=F.useCallback(async(B,W="",te="#3B82F6")=>{const ue={nombre:B.trim(),descripcion:W.trim(),color:te};try{const{data:H,error:se}=await Le.from("metas").insert([ue]).select().single();if(se)throw se;return o(ve=>[...ve,H]),H}catch(H){return console.error("Error adding meta:",H),alert("ERROR SUPABASE: "+H.message),v(H.message),null}},[]),k=F.useCallback(async(B,W)=>{try{const{error:te}=await Le.from("habitos").update(W).eq("id",B);if(te)throw te;const ue=W.meta_id?n.find(H=>H.id===W.meta_id):null;r(H=>H.map(se=>se.id===B?{...se,...W,meta:ue}:se))}catch(te){console.error("Error updating habito:",te),alert("ERROR SUPABASE: "+te.message),v(te.message)}},[n]),N=F.useCallback(async(B,W)=>{try{const{error:te}=await Le.from("metas").update(W).eq("id",B);if(te)throw te;o(ue=>ue.map(H=>H.id===B?{...H,...W}:H)),r(ue=>ue.map(H=>H.meta_id===B?{...H,meta:{...H.meta,...W}}:H))}catch(te){console.error("Error updating meta:",te),alert("ERROR SUPABASE: "+te.message),v(te.message)}},[]),T=F.useCallback(async B=>{try{await Le.from("habitos").update({meta_id:null}).eq("meta_id",B);const{error:W}=await Le.from("metas").delete().eq("id",B);if(W)throw W;o(te=>te.filter(ue=>ue.id!==B)),r(te=>te.map(ue=>ue.meta_id===B?{...ue,meta_id:null,meta:null}:ue))}catch(W){console.error("Error deleting meta:",W),alert("ERROR SUPABASE: "+W.message),v(W.message)}},[]),O=F.useCallback(async B=>{try{const{error:W}=await Le.from("habitos").delete().eq("id",B);if(W)throw W;r(te=>te.filter(ue=>ue.id!==B))}catch(W){console.error("Error deleting habito:",W),v(W.message)}},[]),P=F.useCallback(async(B,W)=>{const te=s.find(b=>b.id===B);if(!te||te.tipo!=="construir")return;const ue=new Date;ue.setHours(0,0,0,0);let H=null;if(te.ultima_fecha){const b=te.ultima_fecha.split("T")[0];H=new Date(b+"T00:00:00"),H.setHours(0,0,0,0)}let se=null;if(H){const b=ue.getTime()-H.getTime();se=Math.round(b/(1e3*3600*24))}const ve=Number(te.racha||0);let pe,ne;const X=ue.toISOString().split("T")[0],U=new Date(ue);U.setDate(U.getDate()-1);const Z=U.toISOString().split("T")[0],q=se===0;q?(pe=Math.max(0,ve-1),ne=pe>0?Z:null):se===1?(pe=ve+1,ne=X):(pe=1,ne=X),console.log(`Debug: RachaBD=${ve}, Diff=${se}, Nueva=${pe}, Fecha=${ne}`),r(b=>b.map(R=>R.id===B?{...R,racha:pe,ultima_fecha:ne}:R));try{const{error:b}=await Le.from("habitos").update({racha:pe,ultima_fecha:ne}).eq("id",B);b&&(console.error("Error al guardar:",b),v(b.message)),q?await Le.from("historial_habitos").delete().eq("habito_id",B).eq("fecha",X):await Le.from("historial_habitos").upsert({habito_id:B,fecha:X},{onConflict:"habito_id,fecha"});const R=q?-10:10,{data:fe,error:me}=await Le.from("perfil_jugador").select("*").single();if(me)console.error("Error fetching profile:",me);else if(fe){const ye=Math.max(0,fe.xp+R),we=Math.floor(ye/100)+1,{error:be}=await Le.from("perfil_jugador").update({xp:ye,nivel:we}).eq("id",fe.id);be?console.error("Error updating profile:",be):W&&W({...fe,xp:ye,nivel:we})}}catch(b){console.error("Error toggling habito:",b),v(b.message)}},[s]),M=P,D=P,A=F.useCallback(async(B,W)=>{const te=s.find(H=>H.id===B);if(!te||te.tipo!=="dejar")return;const ue=new Date().toISOString();try{const{error:H}=await Le.from("habitos").update({racha:0,fecha_inicio:ue}).eq("id",B);if(H)throw H;r(pe=>pe.map(ne=>ne.id===B?{...ne,racha:0,fecha_inicio:ue}:ne));const{data:se,error:ve}=await Le.from("perfil_jugador").select("*").single();if(ve)console.error("Error fetching profile for penalty:",ve);else if(se){const pe=50*(se.nivel||1),ne=Math.max(0,se.xp-pe),X=Math.floor(ne/100)+1;console.log(`Hardcore Punishment: Level ${se.nivel} -> Penalty -${pe} XP`);const{error:U}=await Le.from("perfil_jugador").update({xp:ne,nivel:X}).eq("id",se.id);U?console.error("Error applying XP penalty:",U):W&&W({...se,xp:ne,nivel:X})}}catch(H){console.error("Error resetting habito:",H),v(H.message)}},[s]),V=F.useCallback(B=>{c(B)},[]),ce=F.useCallback(()=>{if(!l)return null;const B=fs(l),W=new Date,te=70,ue=te*52;let H=W.getFullYear()-B.getFullYear();const se=W.getMonth()-B.getMonth();(se<0||se===0&&W.getDate()<B.getDate())&&H--;const ve=new Date(B);ve.setFullYear(B.getFullYear()+H);const pe=1e3*60*60*24*7,ne=Math.floor((W-ve)/pe),X=Math.min(Math.max(ne,0),51),U=Math.min(H*52+X,ue),Z=(U/ue*100).toFixed(1);return{currentWeekIndex:U,totalSemanas:ue,totalYears:te,porcentajeVivido:Z}},[l]),J=F.useCallback(B=>{const W=s.find(te=>te.id===B);return!W||W.tipo!=="construir"||!W.ultima_fecha?!1:Ld(fs(W.ultima_fecha))},[s]),he=F.useCallback(B=>fg(fs(B),"d 'de' MMMM, yyyy",{locale:l0}),[]);return{habitos:s,habitosConstruir:s.filter(B=>B.tipo==="construir"),habitosDejar:s.filter(B=>B.tipo==="dejar"),metas:n,fechaNacimiento:l,loading:h,error:m,agregarHabito:w,agregarMeta:E,actualizarHabito:k,actualizarMeta:N,eliminarHabito:O,eliminarMeta:T,marcarHabito:M,desmarcarHabito:D,reiniciarHabito:A,setFechaNacimiento:V,getMementoMoriData:ce,estaCompletadoHoy:J,formatearFecha:he}},Vy=()=>g.jsxs("header",{className:"mb-8 text-center",children:[g.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[g.jsx(om,{className:"w-8 h-8 text-zinc-400"}),g.jsx("h1",{className:"text-3xl font-bold tracking-tight text-zinc-100",children:"Life OS"})]}),g.jsx("p",{className:"text-zinc-500 text-sm",children:"Tu sistema de gestin personal"})]}),qy=({habitId:s,streak:r})=>{const[n,o]=F.useState(new Set),[l,c]=F.useState([]),[h,f]=F.useState(!0);F.useEffect(()=>{const k=async()=>{try{f(!0);const N=new Date,T=[];for(let M=13;M>=0;M--){const D=new Date(N);D.setDate(D.getDate()-M),T.push(D.toISOString().split("T")[0])}c(T);const{data:O,error:P}=await Le.from("historial_habitos").select("fecha").eq("habito_id",s).gte("fecha",T[0]);if(P)console.error("Error loading heatmap:",P);else{const M=new Set(O.map(D=>D.fecha));o(M)}}catch(N){console.error("Error fetching habit history:",N)}finally{f(!1)}};if(s){const N=setTimeout(()=>{k()},500);return()=>clearTimeout(N)}},[s,r]);const m=k=>new Date(k+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"2-digit"});if(h)return g.jsx("div",{className:"flex gap-1 mt-3",children:[...Array(14)].map((k,N)=>g.jsx("div",{className:"w-3 h-3 rounded-sm bg-zinc-800 animate-pulse"},N))});const v=l.filter(k=>n.has(k)).length,w=Math.round(v/l.length*100);let E="text-zinc-500";return w>=80?E="text-emerald-400":w>=50&&(E="text-amber-400"),g.jsxs("div",{className:"flex flex-col gap-1 mt-2",children:[g.jsxs("div",{className:"flex justify-between items-end",children:[g.jsx("span",{className:"text-[10px] text-zinc-500 uppercase tracking-wider",children:"ltimos 14 das"}),g.jsxs("span",{className:`text-xs font-bold font-mono ${E}`,children:[w,"%"]})]}),g.jsx("div",{className:"flex gap-1",children:l.map(k=>{const N=n.has(k);return g.jsx("div",{title:m(k),className:`w-3 h-3 rounded-sm transition-all duration-300 ${N?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.4)]":"bg-zinc-800"}`},k)})})]})},Bi=1500,uh=300,Ky=({onClose:s})=>{const[r,n]=F.useState(Bi),[o,l]=F.useState(!1),[c,h]=F.useState("focus"),f=F.useRef(null),m=F.useCallback(()=>{try{const O=new Audio("https://actions.google.com/sounds/v1/alarms/beep_short.ogg");O.volume=.5,O.play().catch(console.error)}catch(O){console.error("Audio playback failed:",O)}},[]);F.useEffect(()=>(o&&r>0?f.current=setInterval(()=>{n(O=>O-1)},1e3):r===0&&(m(),c==="focus"?(h("break"),n(uh)):(h("focus"),n(Bi),l(!1))),()=>{f.current&&clearInterval(f.current)}),[o,r,c,m]);const v=O=>{const P=Math.floor(O/60),M=O%60;return`${P.toString().padStart(2,"0")}:${M.toString().padStart(2,"0")}`},w=()=>{l(!o)},E=()=>{l(!1),h("focus"),n(Bi)},k=c==="focus"?Bi:uh,N=(k-r)/k*100,T=c==="focus"?{bg:"bg-emerald-950/50",border:"border-emerald-800/50",text:"text-emerald-400",progress:"bg-emerald-500",button:"bg-emerald-600 hover:bg-emerald-500",label:"Enfoque"}:{bg:"bg-indigo-950/50",border:"border-indigo-800/50",text:"text-indigo-400",progress:"bg-indigo-500",button:"bg-indigo-600 hover:bg-indigo-500",label:"Descanso"};return g.jsxs("div",{className:`mt-3 p-4 rounded-xl ${T.bg} border ${T.border} transition-all duration-300`,children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:`w-2 h-2 rounded-full ${T.progress} ${o?"animate-pulse":""}`}),g.jsx("span",{className:`text-xs font-medium uppercase tracking-wider ${T.text}`,children:T.label})]}),g.jsx("div",{className:`font-mono text-2xl font-bold ${T.text}`,children:v(r)}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:w,className:`p-2 rounded-lg ${T.button} text-white transition-all duration-200`,children:o?g.jsx(fh,{className:"w-4 h-4"}):g.jsx(mh,{className:"w-4 h-4"})}),g.jsx("button",{onClick:E,className:"p-2 rounded-lg bg-zinc-800 hover:bg-zinc-700 text-zinc-400 hover:text-zinc-200 transition-all duration-200",children:g.jsx(bl,{className:"w-4 h-4"})})]})]}),g.jsx("div",{className:"mt-3 w-full h-1.5 bg-zinc-800 rounded-full overflow-hidden",children:g.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${T.progress}`,style:{width:`${N}%`}})})]})},Gy=({habito:s,onMarcar:r,onEliminar:n,onEdit:o,completadoHoy:l})=>{const[c,h]=F.useState(!1),[f,m]=F.useState(!1);return g.jsxs("div",{className:"group relative bg-zinc-900 rounded-xl p-4 border border-zinc-800 hover:border-zinc-700 transition-all duration-200",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("button",{onClick:r,className:`w-6 h-6 rounded-md border-2 flex items-center justify-center transition-all duration-200 ${l?"bg-zinc-100 border-zinc-100":"border-zinc-600 hover:border-zinc-400"}`,children:l&&g.jsx(rm,{className:"w-4 h-4 text-zinc-900",strokeWidth:3})}),g.jsx("span",{className:`text-zinc-100 font-medium ${l?"line-through text-zinc-500":""}`,children:s.nombre}),s.meta&&g.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium whitespace-nowrap",style:{backgroundColor:s.meta.color+"30",color:s.meta.color},children:[" ",s.meta.nombre]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"flex items-center gap-1.5 text-zinc-400",children:[g.jsx(sm,{className:`w-4 h-4 ${s.racha>0?"text-orange-500":""}`}),g.jsx("span",{className:"text-sm font-medium",children:s.racha})]}),g.jsx("button",{onClick:()=>m(!f),className:`p-1.5 rounded-lg transition-all duration-200 ${f?"bg-emerald-600 text-white":"text-zinc-600 hover:text-emerald-400 hover:bg-zinc-800"} ${c||f?"opacity-100":"opacity-0"}`,title:"Pomodoro Timer",children:g.jsx(am,{className:"w-4 h-4"})}),g.jsx("button",{onClick:o,className:`p-1.5 rounded-lg text-zinc-600 hover:text-blue-400 hover:bg-zinc-800 transition-all duration-200 ${c?"opacity-100":"opacity-0"}`,children:g.jsx(ph,{className:"w-4 h-4"})}),g.jsx("button",{onClick:n,className:`p-1.5 rounded-lg text-zinc-600 hover:text-red-400 hover:bg-zinc-800 transition-all duration-200 ${c?"opacity-100":"opacity-0"}`,children:g.jsx(kl,{className:"w-4 h-4"})})]})]}),f&&g.jsx(Ky,{onClose:()=>m(!1)}),g.jsx(qy,{habitId:s.id,streak:s.racha})]})},Yy=({habito:s,onReiniciar:r,onEliminar:n})=>{const[o,l]=F.useState(!1),[c,h]=F.useState(!1),f=()=>{c?(r(),h(!1)):(h(!0),setTimeout(()=>h(!1),3e3))},m=v=>v===0?"Hoy empiezas":v===1?"1 da libre":`${v} das libre`;return g.jsx("div",{className:"group relative bg-zinc-900 rounded-xl p-4 border border-zinc-800 hover:border-zinc-700 transition-all duration-200",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${s.racha>7?"bg-emerald-500/20":"bg-zinc-800"}`,children:g.jsx(im,{className:`w-5 h-5 ${s.racha>7?"text-emerald-400":"text-zinc-400"}`})}),g.jsxs("div",{children:[g.jsx("span",{className:"text-zinc-100 font-medium block",children:s.nombre}),g.jsx("span",{className:`text-sm ${s.racha>0?"text-emerald-400":"text-zinc-500"}`,children:m(s.racha)})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:f,className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 ${c?"bg-red-500/20 text-red-400 border border-red-500/50":"bg-zinc-800 text-zinc-400 hover:text-zinc-200 hover:bg-zinc-700"}`,children:g.jsxs("span",{className:"flex items-center gap-1.5",children:[g.jsx(bl,{className:"w-3.5 h-3.5"}),c?"Confirmar?":"Reca"]})}),g.jsx("button",{onClick:n,className:`p-1.5 rounded-lg text-zinc-600 hover:text-red-400 hover:bg-zinc-800 transition-all duration-200 ${o?"opacity-100":"opacity-0"}`,children:g.jsx(kl,{className:"w-4 h-4"})})]})]})})},Jy=({isOpen:s,onClose:r,onSubmit:n,metas:o=[]})=>{const[l,c]=F.useState("select"),[h,f]=F.useState(null),[m,v]=F.useState(""),[w,E]=F.useState(""),k=P=>{f(P),c("name")},N=P=>{P.preventDefault(),m.trim()&&h&&(n(m.trim(),h,w||null),T())},T=()=>{c("select"),f(null),v(""),E(""),r()},O=()=>{c("select"),f(null),v(""),E("")};return s?g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[g.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:T}),g.jsxs("div",{className:"relative bg-zinc-900 rounded-2xl border border-zinc-800 w-full max-w-md p-6 shadow-2xl",children:[g.jsx("button",{onClick:T,className:"absolute top-4 right-4 p-1.5 rounded-lg text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800 transition-colors",children:g.jsx(Gi,{className:"w-5 h-5"})}),l==="select"?g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold text-zinc-100 mb-2",children:"Nuevo Hbito"}),g.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:"Qu quieres hacer?"}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("button",{onClick:()=>k("construir"),className:"w-full flex items-center gap-4 p-4 bg-zinc-800/50 hover:bg-zinc-800 border border-zinc-700 hover:border-zinc-600 rounded-xl transition-all duration-200 text-left",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center",children:g.jsx(vh,{className:"w-6 h-6 text-blue-400"})}),g.jsxs("div",{children:[g.jsx("span",{className:"text-zinc-100 font-medium block",children:"Construir un Hbito"}),g.jsx("span",{className:"text-zinc-500 text-sm",children:"Algo que quieres hacer todos los das"})]})]}),g.jsxs("button",{onClick:()=>k("dejar"),className:"w-full flex items-center gap-4 p-4 bg-zinc-800/50 hover:bg-zinc-800 border border-zinc-700 hover:border-zinc-600 rounded-xl transition-all duration-200 text-left",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center",children:g.jsx(gh,{className:"w-6 h-6 text-red-400"})}),g.jsxs("div",{children:[g.jsx("span",{className:"text-zinc-100 font-medium block",children:"Dejar un Vicio"}),g.jsx("span",{className:"text-zinc-500 text-sm",children:"Algo que quieres dejar de hacer"})]})]})]})]}):g.jsxs("form",{onSubmit:N,children:[g.jsx("button",{type:"button",onClick:O,className:"text-zinc-500 hover:text-zinc-300 text-sm mb-4 transition-colors",children:" Volver"}),g.jsx("h2",{className:"text-xl font-semibold text-zinc-100 mb-2",children:h==="construir"?"Nuevo Hbito":"Dejar un Vicio"}),g.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:h==="construir"?"Qu hbito quieres construir?":"Qu quieres dejar de hacer?"}),g.jsx("input",{type:"text",value:m,onChange:P=>v(P.target.value),placeholder:h==="construir"?"Ej: Leer 30 minutos":"Ej: No fumar",className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl px-4 py-3 text-zinc-100 placeholder-zinc-500 focus:outline-none focus:border-zinc-500 transition-colors mb-4",autoFocus:!0}),o.length>0&&g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-zinc-400 text-sm mb-2",children:"Vincular a Meta (opcional)"}),g.jsxs("select",{value:w,onChange:P=>E(P.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl px-4 py-3 text-zinc-100 focus:outline-none focus:border-zinc-500 transition-colors appearance-none cursor-pointer",children:[g.jsx("option",{value:"",children:"Sin meta"}),o.map(P=>g.jsx("option",{value:P.id,children:P.nombre},P.id))]})]}),g.jsx("button",{type:"submit",disabled:!m.trim(),className:"w-full bg-zinc-100 hover:bg-white text-zinc-900 font-medium py-3 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Crear"})]})]})]}):null},Qy=({isOpen:s,habitName:r,habitType:n,onConfirm:o,onCancel:l})=>{if(!s)return null;const c=n==="dejar"?"Eliminar vicio?":"Eliminar hbito?",h=n==="dejar"?"Esta accin es permanente y perders tu progreso de das libre.":"Esta accin es permanente y perders tu racha actual.";return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:g.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-xl p-6 max-w-sm w-full shadow-2xl animate-in fade-in zoom-in-95 duration-200",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center",children:g.jsx(lm,{className:"w-5 h-5 text-red-400"})}),g.jsx("h3",{className:"text-lg font-semibold text-white",children:c})]}),r&&g.jsxs("p",{className:"text-zinc-300 font-medium mb-2",children:['"',r,'"']}),g.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:h}),g.jsxs("div",{className:"flex gap-3 justify-end",children:[g.jsx("button",{onClick:l,className:"px-4 py-2 text-sm text-zinc-300 hover:text-white hover:bg-zinc-800 rounded-lg transition-colors",children:"Cancelar"}),g.jsx("button",{onClick:o,className:"px-4 py-2 text-sm bg-red-600 hover:bg-red-700 text-white rounded-lg shadow-lg transition-colors",children:"S, eliminar"})]})]})})},Xy=({isOpen:s,habito:r,metas:n=[],onSave:o,onClose:l})=>{const[c,h]=F.useState(""),[f,m]=F.useState("");F.useEffect(()=>{r&&(h(r.nombre||""),m(r.meta_id||""))},[r]);const v=w=>{w.preventDefault(),c.trim()&&r&&(o(r.id,{nombre:c.trim(),meta_id:f||null}),l())};return!s||!r?null:g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[g.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:l}),g.jsxs("div",{className:"relative bg-zinc-900 rounded-2xl border border-zinc-800 w-full max-w-md p-6 shadow-2xl",children:[g.jsx("button",{onClick:l,className:"absolute top-4 right-4 p-1.5 rounded-lg text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800 transition-colors",children:g.jsx(Gi,{className:"w-5 h-5"})}),g.jsx("h2",{className:"text-xl font-semibold text-zinc-100 mb-2",children:"Editar Hbito"}),g.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:"Modifica el nombre o vincula a una meta"}),g.jsxs("form",{onSubmit:v,children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-zinc-400 text-sm mb-2",children:"Nombre del hbito"}),g.jsx("input",{type:"text",value:c,onChange:w=>h(w.target.value),placeholder:"Nombre del hbito",className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl px-4 py-3 text-zinc-100 placeholder-zinc-500 focus:outline-none focus:border-zinc-500 transition-colors",autoFocus:!0})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:"block text-zinc-400 text-sm mb-2",children:"Vincular a Meta"}),g.jsxs("select",{value:f,onChange:w=>m(w.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl px-4 py-3 text-zinc-100 focus:outline-none focus:border-zinc-500 transition-colors appearance-none cursor-pointer",children:[g.jsx("option",{value:"",children:"Sin meta"}),n.map(w=>g.jsx("option",{value:w.id,children:w.nombre},w.id))]})]}),g.jsx("button",{type:"submit",disabled:!c.trim(),className:"w-full bg-zinc-100 hover:bg-white text-zinc-900 font-medium py-3 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Guardar Cambios"})]})]})]})},Zy=({isOpen:s,meta:r,onSave:n,onDelete:o,onClose:l})=>{const[c,h]=F.useState(""),[f,m]=F.useState("#3B82F6"),[v,w]=F.useState(!1),E=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#F97316"];F.useEffect(()=>{r&&(h(r.nombre||""),m(r.color||"#3B82F6"),w(!1))},[r]);const k=T=>{T.preventDefault(),c.trim()&&r&&(n(r.id,{nombre:c.trim(),color:f}),l())},N=()=>{r&&(o(r.id),l())};return!s||!r?null:g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[g.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:l}),g.jsxs("div",{className:"relative bg-zinc-900 rounded-2xl border border-zinc-800 w-full max-w-md p-6 shadow-2xl",children:[g.jsx("button",{onClick:l,className:"absolute top-4 right-4 p-1.5 rounded-lg text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800 transition-colors",children:g.jsx(Gi,{className:"w-5 h-5"})}),g.jsx("h2",{className:"text-xl font-semibold text-zinc-100 mb-2",children:"Editar Meta"}),g.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:"Modifica el nombre o el color de tu meta"}),v?g.jsxs("div",{children:[g.jsxs("div",{className:"bg-red-900/20 border border-red-800/50 rounded-xl p-4 mb-6",children:[g.jsxs("p",{className:"text-red-400 text-sm",children:["Ests seguro de eliminar la meta ",g.jsxs("strong",{children:['"',r.nombre,'"']}),"?"]}),g.jsx("p",{className:"text-zinc-500 text-xs mt-2",children:"Los hbitos vinculados perdern su relacin con esta meta."})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>w(!1),className:"flex-1 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 font-medium py-3 rounded-xl transition-colors",children:"Cancelar"}),g.jsx("button",{onClick:N,className:"flex-1 bg-red-600 hover:bg-red-500 text-white font-medium py-3 rounded-xl transition-colors",children:"S, Eliminar"})]})]}):g.jsxs("form",{onSubmit:k,children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-zinc-400 text-sm mb-2",children:"Nombre de la meta"}),g.jsx("input",{type:"text",value:c,onChange:T=>h(T.target.value),placeholder:"Nombre de la meta",className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl px-4 py-3 text-zinc-100 placeholder-zinc-500 focus:outline-none focus:border-zinc-500 transition-colors",autoFocus:!0})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:"block text-zinc-400 text-sm mb-2",children:"Color"}),g.jsx("div",{className:"flex gap-2",children:E.map(T=>g.jsx("button",{type:"button",onClick:()=>m(T),className:`w-8 h-8 rounded-full transition-all ${f===T?"ring-2 ring-offset-2 ring-offset-zinc-900":"hover:scale-110"}`,style:{backgroundColor:T,ringColor:T}},T))})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{type:"button",onClick:()=>w(!0),className:"flex items-center justify-center gap-2 px-4 py-3 bg-zinc-800 hover:bg-red-900/50 border border-zinc-700 hover:border-red-800 rounded-xl text-zinc-400 hover:text-red-400 transition-all",children:g.jsx(kl,{className:"w-4 h-4"})}),g.jsx("button",{type:"submit",disabled:!c.trim(),className:"flex-1 bg-zinc-100 hover:bg-white text-zinc-900 font-medium py-3 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Guardar Cambios"})]})]})]})]})},ew=({fechaNacimiento:s,onSetFechaNacimiento:r,mementoData:n})=>{const[o,l]=F.useState(!1),[c,h]=F.useState(s||""),[f,m]=F.useState(!1),v=f?70:31,w=k=>{k.preventDefault(),c&&(r(c),l(!1))},E=()=>{if(!n)return null;const{currentWeekIndex:k,totalYears:N}=n;return g.jsx("div",{className:"flex flex-col",children:Array.from({length:N}).map((T,O)=>{if(O>=v)return null;const P=O+1,D=`flex flex-row items-center justify-center gap-[2px] ${P%10===0&&P!==70?"mb-4":"mb-[1px]"}`;return g.jsxs("div",{className:D,children:[Array.from({length:52}).map((A,V)=>{const ce=O*52+V;let J="";return ce<k?J="bg-zinc-700":ce===k?J="bg-white shadow-[0_0_8px_rgba(255,255,255,0.7)]":J="border border-zinc-600 bg-transparent",g.jsx("div",{className:`w-2.5 h-2.5 rounded-[1px] ${J}`},V)}),g.jsx("div",{className:"w-6 ml-2 text-[10px] leading-none text-zinc-500 flex items-center h-2.5",children:P%5===0?P:""})]},O)})})};return g.jsxs("div",{className:"bg-zinc-900 rounded-xl p-6 border border-zinc-800",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h2",{className:"text-lg font-semibold text-zinc-100 tracking-[0.3em] uppercase",children:"MEMENTOMORI"}),s&&g.jsx("button",{onClick:()=>l(!0),className:"text-zinc-500 hover:text-zinc-300 transition-colors",children:g.jsx(tm,{className:"w-4 h-4"})})]}),!s||o?g.jsxs("form",{onSubmit:w,className:"space-y-4",children:[g.jsx("p",{className:"text-zinc-400 text-sm",children:"Ingresa tu fecha de nacimiento para visualizar tu vida."}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("input",{type:"date",value:c,onChange:k=>h(k.target.value),className:"flex-1 bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-2 text-zinc-100 focus:outline-none focus:border-zinc-500 transition-colors"}),g.jsx("button",{type:"submit",disabled:!c,className:"px-4 py-2 bg-zinc-100 hover:bg-white text-zinc-900 font-medium rounded-lg transition-colors disabled:opacity-50",children:"Guardar"}),o&&g.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 bg-zinc-800 text-zinc-400 hover:text-zinc-200 rounded-lg transition-colors",children:"Cancelar"})]})]}):g.jsxs("div",{children:[n&&g.jsxs("p",{className:"text-zinc-500 text-sm mb-4",children:["Has vivido el ",g.jsxs("span",{className:"text-zinc-300 font-medium",children:[n.porcentajeVivido,"%"]})," de tu vida (asumiendo 70 aos)"]}),g.jsx("div",{className:"mb-4 overflow-x-auto",children:E()}),g.jsx("button",{onClick:()=>m(!f),className:"mb-6 text-xs text-zinc-600 hover:text-zinc-400 transition-colors underline decoration-dotted",children:f?" Ocultar futuro lejano":" Ver vida completa (70 aos)"}),g.jsxs("div",{className:"flex items-center gap-6 text-xs text-zinc-500 mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 bg-zinc-700 rounded-[1px]"}),g.jsx("span",{children:"Vivido"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 bg-white rounded-[1px] shadow-[0_0_6px_rgba(255,255,255,0.6)]"}),g.jsx("span",{children:"Hoy"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 border border-zinc-600 rounded-[1px]"}),g.jsx("span",{children:"Por vivir"})]})]}),g.jsxs("blockquote",{className:"border-l-2 border-zinc-700 pl-4 italic text-zinc-500 text-sm",children:['"No tenemos poco tiempo, sino que perdemos mucho."',g.jsx("footer",{className:"text-zinc-600 mt-1 not-italic",children:" Sneca"})]})]})]})},tw=({profile:s})=>{if(!s)return g.jsxs("div",{className:"bg-zinc-900 border-b border-zinc-800 p-4 mb-6 rounded-xl animate-pulse",children:[g.jsx("div",{className:"h-6 bg-zinc-800 rounded w-24 mb-2"}),g.jsx("div",{className:"h-4 bg-zinc-800 rounded-full"})]});const{xp:r,nivel:n}=s,o=(n-1)*100,l=r-o,c=100,h=Math.min(100,Math.round(l/c*100));return g.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-4 mb-6 rounded-xl",children:[g.jsxs("div",{className:"flex justify-between items-center mb-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"p-1.5 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-lg",children:g.jsx(Sl,{className:"w-4 h-4 text-white"})}),g.jsxs("span",{className:"text-lg font-bold text-zinc-100",children:["Nivel ",n]})]}),g.jsxs("span",{className:"text-sm text-zinc-400 font-mono",children:[r," XP"]})]}),g.jsx("div",{className:"bg-zinc-800 h-4 rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 transition-all duration-500 ease-out",style:{width:`${h}%`}})}),g.jsxs("div",{className:"flex justify-between mt-1.5",children:[g.jsxs("span",{className:"text-[10px] text-zinc-500 uppercase tracking-wider",children:["Progreso al Nivel ",n+1]}),g.jsxs("span",{className:"text-xs text-zinc-400 font-mono",children:[l,"/",c]})]})]})},rw=({metas:s=[],habitos:r=[],habitHistory:n=new Map,onAddMeta:o,onEditMeta:l})=>{const[c,h]=F.useState(!1),[f,m]=F.useState(""),[v,w]=F.useState("#3B82F6"),E=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#F97316"],k=async T=>{T.preventDefault(),f.trim()&&(await o(f.trim(),"",v),m(""),w("#3B82F6"),h(!1))},N=T=>{const O=r.filter(J=>J.meta_id===T);if(O.length===0)return{health:0,colorClass:"bg-rose-500",textClass:"text-rose-500"};const P=new Date,M=[];for(let J=0;J<14;J++){const he=new Date(P);he.setDate(he.getDate()-J),M.push(he.toISOString().split("T")[0])}let D=0;O.forEach(J=>{const he=(n==null?void 0:n.get(J.id))||new Set,B=M.filter(W=>he.has(W)).length;D+=B/14*100});const A=Math.round(D/O.length);let V="bg-rose-500",ce="text-rose-500";return A>=80?(V="bg-emerald-500",ce="text-emerald-400"):A>=50&&(V="bg-amber-500",ce="text-amber-400"),{health:A,colorClass:V,textClass:ce}};return g.jsxs("section",{className:"mb-8",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx(hh,{className:"w-5 h-5 text-blue-400"}),g.jsx("h2",{className:"text-lg font-semibold text-zinc-100",children:"Mis Metas"})]}),s.length===0&&!c?g.jsxs("div",{className:"text-center py-8",children:[g.jsx("p",{className:"text-zinc-500 text-sm mb-4",children:"No tienes metas todava. Las metas te ayudan a organizar tus hbitos."}),g.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-zinc-900 hover:bg-zinc-800 border border-zinc-700 rounded-xl text-zinc-300 transition-colors",children:[g.jsx(ll,{className:"w-4 h-4"}),"Crear tu primera meta"]})]}):g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.map(T=>{const{health:O,colorClass:P,textClass:M}=N(T.id);return g.jsxs("div",{className:"relative bg-zinc-900 rounded-xl p-4 border border-zinc-800 hover:border-zinc-700 transition-all duration-200 group",style:{borderLeftColor:T.color,borderLeftWidth:"3px"},children:[g.jsx("button",{onClick:()=>l(T),className:"absolute top-2 right-2 p-1.5 rounded-lg text-zinc-600 hover:text-zinc-300 hover:bg-zinc-800 transition-all opacity-0 group-hover:opacity-100",children:g.jsx(ph,{className:"w-3.5 h-3.5"})}),g.jsx("h3",{className:"text-zinc-100 font-medium text-sm mb-3 pr-6",children:T.nombre}),g.jsxs("div",{className:"flex justify-between items-center text-xs mb-1",children:[g.jsx("span",{className:"text-zinc-500",children:"Salud Global"}),g.jsxs("span",{className:`font-bold ${M}`,children:[O,"%"]})]}),g.jsx("div",{className:"w-full h-2 bg-zinc-800 rounded-full overflow-hidden",children:g.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${P}`,style:{width:`${O}%`}})})]},T.id)}),c?g.jsxs("form",{onSubmit:k,className:"bg-zinc-900 rounded-xl p-4 border border-zinc-700",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("span",{className:"text-zinc-300 text-sm font-medium",children:"Nueva Meta"}),g.jsx("button",{type:"button",onClick:()=>{h(!1),m("")},className:"p-1 rounded text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800 transition-colors",children:g.jsx(Gi,{className:"w-4 h-4"})})]}),g.jsx("input",{type:"text",value:f,onChange:T=>m(T.target.value),placeholder:"Nombre...",className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2 text-zinc-100 text-sm placeholder-zinc-500 focus:outline-none focus:border-zinc-500 transition-colors mb-3",autoFocus:!0}),g.jsx("div",{className:"flex gap-1.5 mb-3",children:E.map(T=>g.jsx("button",{type:"button",onClick:()=>w(T),className:`w-5 h-5 rounded-full transition-all ${v===T?"ring-2 ring-offset-1 ring-offset-zinc-900":""}`,style:{backgroundColor:T,ringColor:T}},T))}),g.jsx("button",{type:"submit",disabled:!f.trim(),className:"w-full bg-zinc-100 hover:bg-white text-zinc-900 text-sm font-medium py-2 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Crear"})]}):g.jsxs("button",{onClick:()=>h(!0),className:"bg-zinc-900/50 rounded-xl p-4 border border-dashed border-zinc-700 hover:border-zinc-500 hover:bg-zinc-900 transition-all duration-200 flex flex-col items-center justify-center gap-2 min-h-[120px]",children:[g.jsx(ll,{className:"w-6 h-6 text-zinc-500"}),g.jsx("span",{className:"text-zinc-500 text-sm font-medium",children:"Nueva Meta"})]})]})]})},nw=()=>{const[s,r]=F.useState(25),[n,o]=F.useState(5),[l,c]=F.useState("focus"),[h,f]=F.useState(1500),[m,v]=F.useState(!1),[w,E]=F.useState(!1),[k,N]=F.useState(""),[T,O]=F.useState(!1),[P,M]=F.useState(25),[D,A]=F.useState(5),V=F.useRef(null),ce=F.useRef(null);F.useEffect(()=>(ce.current=new Audio("https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3"),ce.current.volume=.8,()=>{ce.current&&ce.current.pause()}),[]);const J=F.useCallback(()=>{try{ce.current&&(ce.current.currentTime=0,ce.current.play().catch(console.error));const ne=new Audio("https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg");ne.volume=.7,ne.play().catch(()=>{})}catch(ne){console.error("Audio playback failed:",ne)}},[]);F.useEffect(()=>(m&&h>0?V.current=setInterval(()=>{f(ne=>ne-1)},1e3):h===0&&m&&(v(!1),E(!0),J()),()=>{V.current&&clearInterval(V.current)}),[m,h,J]);const he=ne=>{const X=Math.floor(ne/60),U=ne%60;return`${X.toString().padStart(2,"0")}:${U.toString().padStart(2,"0")}`},B=()=>{l==="focus"?(c("break"),f(n*60)):(c("focus"),f(s*60)),E(!1),v(!0)},W=(ne,X)=>{v(!1),E(!1),r(ne),o(X),c("focus"),f(ne*60),M(ne),A(X)},te=()=>{W(P,D),O(!1)},ue=()=>{w&&E(!1),v(!m)},H=()=>{v(!1),E(!1),c("focus"),f(s*60)},se=l==="focus"?s*60:n*60,ve=(se-h)/se*100,pe=l==="focus"?{text:"text-emerald-400",bg:"bg-emerald-600",bgHover:"hover:bg-emerald-500",progress:"bg-emerald-500",ring:"ring-emerald-500/30",label:"ENFOQUE",nextBg:"bg-indigo-600 hover:bg-indigo-500"}:{text:"text-indigo-400",bg:"bg-indigo-600",bgHover:"hover:bg-indigo-500",progress:"bg-indigo-500",ring:"ring-indigo-500/30",label:"DESCANSO",nextBg:"bg-emerald-600 hover:bg-emerald-500"};return g.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[g.jsxs("div",{className:`w-full max-w-lg p-8 bg-zinc-900 rounded-2xl border border-zinc-800 ring-4 ${pe.ring} transition-all duration-500`,children:[g.jsx("input",{type:"text",value:k,onChange:ne=>N(ne.target.value),placeholder:"Cul es tu misin ahora?",className:"w-full bg-transparent text-center text-lg text-zinc-100 mb-8 border-b-2 border-zinc-700 focus:border-emerald-500 outline-none pb-3 placeholder-zinc-600 transition-colors"}),g.jsx("div",{className:"flex justify-center mb-4",children:g.jsx("span",{className:`px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-widest ${pe.text} bg-zinc-800 ${w?"animate-pulse":""}`,children:w?"TIEMPO!":pe.label})}),g.jsx("div",{className:`text-8xl font-mono font-bold text-center mb-8 transition-colors duration-500 ${w?"animate-pulse text-amber-400":pe.text}`,children:he(h)}),g.jsx("div",{className:"w-full h-2 bg-zinc-800 rounded-full overflow-hidden mb-8",children:g.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${w?"bg-amber-500":pe.progress}`,style:{width:`${ve}%`}})}),w?g.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g.jsx("button",{onClick:B,className:`w-full py-4 px-6 rounded-2xl ${pe.nextBg} text-white font-medium text-lg transition-all duration-200 shadow-lg animate-pulse`,children:l==="focus"?g.jsxs("span",{className:"flex items-center justify-center gap-2",children:[g.jsx(nm,{className:"w-5 h-5"}),"Iniciar Descanso (",n," min)"]}):g.jsxs("span",{className:"flex items-center justify-center gap-2",children:[g.jsx(Sl,{className:"w-5 h-5"}),"Iniciar Enfoque (",s," min)"]})}),g.jsx("button",{onClick:H,className:"text-zinc-500 hover:text-zinc-300 text-sm transition-colors",children:"Reiniciar todo"})]}):g.jsxs("div",{className:"flex items-center justify-center gap-4",children:[g.jsx("button",{onClick:ue,className:`p-4 rounded-2xl ${pe.bg} ${pe.bgHover} text-white transition-all duration-200 shadow-lg`,children:m?g.jsx(fh,{className:"w-8 h-8"}):g.jsx(mh,{className:"w-8 h-8"})}),g.jsx("button",{onClick:H,className:"p-4 rounded-2xl bg-zinc-800 hover:bg-zinc-700 text-zinc-400 hover:text-zinc-200 transition-all duration-200",children:g.jsx(bl,{className:"w-8 h-8"})}),g.jsx("button",{onClick:()=>O(!T),className:`p-4 rounded-2xl transition-all duration-200 ${T?"bg-zinc-700 text-zinc-200":"bg-zinc-800 hover:bg-zinc-700 text-zinc-400 hover:text-zinc-200"}`,children:g.jsx(dh,{className:"w-8 h-8"})})]})]}),g.jsxs("div",{className:"flex gap-3 mt-8",children:[g.jsx("button",{onClick:()=>W(25,5),className:`px-5 py-3 rounded-xl transition-all duration-200 ${s===25&&n===5?"bg-zinc-700 text-zinc-100":"bg-zinc-900 hover:bg-zinc-800 text-zinc-400"}`,children:" Clsico (25/5)"}),g.jsx("button",{onClick:()=>W(50,10),className:`px-5 py-3 rounded-xl transition-all duration-200 ${s===50&&n===10?"bg-zinc-700 text-zinc-100":"bg-zinc-900 hover:bg-zinc-800 text-zinc-400"}`,children:" Profundo (50/10)"}),g.jsx("button",{onClick:()=>W(15,3),className:`px-5 py-3 rounded-xl transition-all duration-200 ${s===15&&n===3?"bg-zinc-700 text-zinc-100":"bg-zinc-900 hover:bg-zinc-800 text-zinc-400"}`,children:" Sprint (15/3)"})]}),T&&g.jsxs("div",{className:"w-full max-w-lg mt-6 p-6 bg-zinc-900 rounded-2xl border border-zinc-800",children:[g.jsx("h3",{className:"text-zinc-100 font-medium mb-4 text-center",children:"Personalizar Tiempos"}),g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-zinc-500 text-sm mb-2 text-center",children:"Enfoque (min)"}),g.jsx("input",{type:"number",min:"1",max:"120",value:P,onChange:ne=>M(Math.max(1,Math.min(120,parseInt(ne.target.value)||1))),className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl px-4 py-3 text-zinc-100 text-center text-2xl font-mono focus:outline-none focus:border-emerald-500 transition-colors"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-zinc-500 text-sm mb-2 text-center",children:"Descanso (min)"}),g.jsx("input",{type:"number",min:"1",max:"30",value:D,onChange:ne=>A(Math.max(1,Math.min(30,parseInt(ne.target.value)||1))),className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl px-4 py-3 text-zinc-100 text-center text-2xl font-mono focus:outline-none focus:border-indigo-500 transition-colors"})]})]}),g.jsx("button",{onClick:te,className:"w-full mt-6 bg-zinc-100 hover:bg-white text-zinc-900 font-medium py-3 rounded-xl transition-colors",children:"Aplicar"})]})]})};function sw(){const[s,r]=F.useState("tracker"),[n,o]=F.useState(!1),[l,c]=F.useState(null),[h,f]=F.useState(null),[m,v]=F.useState(null),[w,E]=F.useState(null),[k,N]=F.useState(new Map),{habitosConstruir:T,habitosDejar:O,metas:P,fechaNacimiento:M,agregarHabito:D,agregarMeta:A,actualizarHabito:V,actualizarMeta:ce,eliminarHabito:J,eliminarMeta:he,marcarHabito:B,desmarcarHabito:W,reiniciarHabito:te,setFechaNacimiento:ue,getMementoMoriData:H,estaCompletadoHoy:se}=Hy();F.useEffect(()=>{(async()=>{const{data:U,error:Z}=await Le.from("perfil_jugador").select("*").single();Z?console.error("Error fetching player profile:",Z):E(U)})()},[]),F.useEffect(()=>{(async()=>{const U=new Date,Z=new Date(U);Z.setDate(Z.getDate()-14);const{data:q}=await Le.from("historial_habitos").select("habito_id, fecha").gte("fecha",Z.toISOString().split("T")[0]),b=new Map;q==null||q.forEach(R=>{b.has(R.habito_id)||b.set(R.habito_id,new Set),b.get(R.habito_id).add(R.fecha)}),N(b)})()},[T]);const ve=H(),pe=X=>{se(X)?W(X,E):B(X,E)},ne=()=>{l&&(J(l.id),c(null))};return g.jsx("div",{className:"min-h-screen bg-zinc-950 py-8 px-4",children:g.jsxs("div",{className:"max-w-2xl mx-auto",children:[g.jsx(Vy,{}),g.jsx(tw,{profile:w}),g.jsxs("div",{className:"flex gap-2 mb-6",children:[g.jsxs("button",{onClick:()=>r("tracker"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl font-medium transition-all duration-200 ${s==="tracker"?"bg-zinc-100 text-zinc-900":"bg-zinc-900 text-zinc-400 hover:text-zinc-300 border border-zinc-800"}`,children:[g.jsx(Sl,{className:"w-4 h-4"}),"Mi Da"]}),g.jsxs("button",{onClick:()=>r("planning"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl font-medium transition-all duration-200 ${s==="planning"?"bg-zinc-100 text-zinc-900":"bg-zinc-900 text-zinc-400 hover:text-zinc-300 border border-zinc-800"}`,children:[g.jsx(hh,{className:"w-4 h-4"}),"Metas"]}),g.jsxs("button",{onClick:()=>r("focus"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl font-medium transition-all duration-200 ${s==="focus"?"bg-zinc-100 text-zinc-900":"bg-zinc-900 text-zinc-400 hover:text-zinc-300 border border-zinc-800"}`,children:[g.jsx(dh,{className:"w-4 h-4"}),"Enfoque"]})]}),s==="tracker"&&g.jsxs(g.Fragment,{children:[g.jsxs("section",{className:"mb-8",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(vh,{className:"w-5 h-5 text-blue-400"}),g.jsx("h2",{className:"text-lg font-semibold text-zinc-100",children:"Hbitos a Construir"})]}),g.jsxs("span",{className:"text-zinc-500 text-sm",children:[T.filter(X=>se(X.id)).length,"/",T.length," hoy"]})]}),T.length===0?g.jsx("p",{className:"text-zinc-500 text-sm py-4 text-center",children:"No tienes hbitos todava. Crea uno!"}):g.jsx("div",{className:"space-y-2",children:T.map(X=>g.jsx(Gy,{habito:X,completadoHoy:se(X.id),onMarcar:()=>pe(X.id),onEdit:()=>f(X),onEliminar:()=>c({id:X.id,nombre:X.nombre,tipo:X.tipo})},X.id))})]}),g.jsxs("section",{className:"mb-8",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx(gh,{className:"w-5 h-5 text-red-400"}),g.jsx("h2",{className:"text-lg font-semibold text-zinc-100",children:"Vicios a Dejar"})]}),O.length===0?g.jsx("p",{className:"text-zinc-500 text-sm py-4 text-center",children:"No tienes vicios registrados. Bien por ti!"}):g.jsx("div",{className:"space-y-2",children:O.map(X=>g.jsx(Yy,{habito:X,onReiniciar:()=>te(X.id,E),onEliminar:()=>c({id:X.id,nombre:X.nombre,tipo:X.tipo})},X.id))})]}),g.jsxs("button",{onClick:()=>o(!0),className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-zinc-900 hover:bg-zinc-800 border border-zinc-800 hover:border-zinc-700 rounded-xl text-zinc-400 hover:text-zinc-200 transition-all duration-200 mb-8",children:[g.jsx(ll,{className:"w-5 h-5"}),g.jsx("span",{className:"font-medium",children:"Nuevo Hbito"})]}),g.jsx(ew,{fechaNacimiento:M,onSetFechaNacimiento:ue,mementoData:ve})]}),s==="planning"&&g.jsx(rw,{metas:P,habitos:T,habitHistory:k,onAddMeta:A,onEditMeta:v}),s==="focus"&&g.jsx(nw,{}),g.jsx("footer",{className:"mt-8 text-center text-zinc-600 text-sm",children:g.jsx("p",{children:"Life OS  Tu sistema de gestin personal"})}),g.jsx(Jy,{isOpen:n,onClose:()=>o(!1),onSubmit:D,metas:P}),g.jsx(Xy,{isOpen:!!h,habito:h,metas:P,onSave:V,onClose:()=>f(null)}),g.jsx(Zy,{isOpen:!!m,meta:m,onSave:ce,onDelete:he,onClose:()=>v(null)}),g.jsx(Qy,{isOpen:!!l,habitName:l==null?void 0:l.nombre,habitType:l==null?void 0:l.tipo,onConfirm:ne,onCancel:()=>c(null)})]})})}Qp.createRoot(document.getElementById("root")).render(g.jsx(F.StrictMode,{children:g.jsx(sw,{})}));
